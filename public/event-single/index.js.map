{"version":3,"file":"index.js","sources":["../../node_modules/@kenzap/k-cloud/index.js","../../src/_/_helpers.js","../../src/_/_checkout.js","../../src/event-single/index.js"],"sourcesContent":["/**\n * @name initHeader\n * @description Initiates Kenzap Cloud extension header and related scripts. Verifies user sessions, handles SSO, does cloud space navigation, initializes i18n localization. \n * @param {object} response\n */\nexport const initHeader = (response) => {\n\n    // cache header from backend\n    if(response.header) localStorage.setItem('header', response.header);\n  \n    // load header to html if not present\n    if(!document.querySelector(\"#k-script\")){\n  \n        let child = document.createElement('div');\n        child.innerHTML = localStorage.getItem('header');\n        child = child.firstChild;\n        document.body.prepend(child);\n  \n        // run header scripts\n        Function(document.querySelector(\"#k-script\").innerHTML).call('test');\n    }\n  \n    // load locales if present\n    if(response.locale) window.i18n.init(response.locale); \n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __init = (locale) => {\n\n    if(typeof locale !== 'object' || locale === null) return;\n\n    if(typeof window.i18n === 'undefined') window.i18n = {};\n\n    if(typeof window.i18n.state === 'undefined') window.i18n.state = { locale: {} };\n   \n    window.i18n.state.locale = locale;\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __ = (text, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n\n\n    return match(window.i18n.state.locale.values[text], p);\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param cb {Function} callback function to escape text variable\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nconst __esc = (text, cb, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n    return match(cb(window.i18n.state.locale.values[text]), p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const attr = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __attr = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Removes special characters `<`, `>`, `\"`, `'` from the link.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const src = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[<>'\"]/g, tag => (\n        {\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n    \n}\n\n/*\n * Converts special characters `<`, `>`, `\"`, `'` from the link and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __src = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const html = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translations\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __html = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[&<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/**\n * @name showLoader\n * @description Initiates full screen three dots loader.\n */\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n/**\n * @name hideLoader\n * @description Removes full screen three dots loader.\n */\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n/**\n * @name initFooter\n * @description Removes full screen three dots loader.\n * @param {string} left - Text or html code to be present on the left bottom side of screen\n * @param {string} right - Text or html code to be present on the left bottom side of screen\n */\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name link\n * @description Handles Cloud navigation links between extensions and its pages. Takes care of custom url parameters.\n * @param {string} slug - Any inbound link\n * \n * @returns {string} link - Returns original link with kenzp cloud space ID identifier.\n */\nexport const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\n/**\n * @name getSiteId\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name spaceID\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const spaceID = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.cloud subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/;domain=.kenzap.cloud\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name checkHeader\n * @description This function tracks UI updates, creates header version checksum and compares it after every page reload\n * @param {object} object - API response.\n */\n export const checkHeader = () => {\n\n    let version = (localStorage.hasOwnProperty('header') && localStorage.hasOwnProperty('header-version')) ? localStorage.getItem('header-version') : 0;\n    let check = window.location.hostname + '/' + spaceID() + '/' + getCookie('locale');\n    if(check != getCookie('check')){ version = 0; console.log('refresh'); }\n    \n    setCookie('check', check, 5);\n\n    return version\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries.\n * @param {object} headers\n */\n export const H = () => {\n\n    return {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n        'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n        'Kenzap-Header': checkHeader(),\n        'Kenzap-Token': getCookie('kenzap_token'),\n        'Kenzap-Sid': spaceID()\n    }\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries. \n * @param {object} headers\n * @deprecated\n */\n export const headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n    'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n    'Kenzap-Header': checkHeader(),\n    'Kenzap-Token': getCookie('kenzap_token'),\n    'Kenzap-Sid': spaceID(),\n}\n\n/**\n * @name parseApiError\n * @description Set default logics for different API Error responses.\n * @param {object} object - API response.\n */\n export const parseApiError = (data) => {\n\n    // outout to frontend console\n    console.log(data);\n\n    // unstructured failure\n    if(isNaN(data.code)){\n    \n        // structure failure data\n        let log = data;\n        try{ log = JSON.stringify(log); }catch(e){ }\n\n        let params = new URLSearchParams();\n        params.append(\"cmd\", \"report\");\n        params.append(\"sid\", spaceID());\n        params.append(\"token\", getCookie('kenzap_token'));\n        params.append(\"data\", log);\n        \n        // report error\n        fetch('https://api-v1.kenzap.cloud/error/', { method: 'post', headers: { 'Accept': 'application/json', 'Content-type': 'application/x-www-form-urlencoded', }, body: params });\n\n        alert('Can not connect to Kenzap Cloud');  \n        return;\n    }\n    \n    // handle cloud error codes\n    switch(data.code){\n\n        // unauthorized\n        case 401:\n\n            // dev mode\n            if(window.location.href.indexOf('localhost')!=-1){ \n\n                alert(data.reason); \n                return; \n            }\n\n            // production mode\n            location.href=\"https://auth.kenzap.com/?app=65432108792785&redirect=\"+window.location.href; break;\n        \n        // something else\n        default:\n\n            alert(data.reason); \n            break;\n    }\n}\n\n/**\n * @name initBreadcrumbs\n * @description Render ui breadcrumbs.\n * @param {array} data - List of link objects containing link text and url. If url is missing then renders breadcrumb as static text. Requires html holder with .bc class.\n */\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * @name onClick\n * @description One row click event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onClick = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n/**\n * @name onKeyUp\n * @description One row key up event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\n/**\n * @name onChange\n * @description One row change event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onChange = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n/**\n * @name loadScript\n * @description Asynchronous script loader function.\n * @param {string} url - HTML selector, id, class, etc.\n * @param {string} cb - callback function fired immediately after script is loaded.\n */\n export const loadScript = (url, cb) => {\n\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * @name simulateClick\n * @description Trigger on click event without user interaction.\n * @param {string} elem - HTML selector, id, class, etc.\n */\n export const simulateClick = (elem) => {\n\n\t// create our event (with options)\n\tlet evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\n\t// if cancelled, don't dispatch the event\n\t!elem.dispatchEvent(evt);\n};\n\n/**\n * Create a web friendly URL slug from a string.\n *\n * Requires XRegExp (http://xregexp.com) with unicode add-ons for UTF-8 support.\n *\n * Although supported, transliteration is discouraged because\n *     1) most web browsers support UTF-8 characters in URLs\n *     2) transliteration causes a loss of information\n *\n * @author Sean Murphy <sean@iamseanmurphy.com>\n * @copyright Copyright 2012 Sean Murphy. All rights reserved.\n * @license http://creativecommons.org/publicdomain/zero/1.0/\n *\n * @param string s\n * @param object opt\n * @return string\n */\n export const slugify = (s, opt) => {\n\n\ts = String(s);\n\topt = Object(opt);\n\t\n\tvar defaults = {\n\t\t'delimiter': '-',\n\t\t'limit': undefined,\n\t\t'lowercase': true,\n\t\t'replacements': {},\n\t\t'transliterate': (typeof(XRegExp) === 'undefined') ? true : false\n\t};\n\t\n\t// Merge options\n\tfor (var k in defaults) {\n\t\tif (!opt.hasOwnProperty(k)) {\n\t\t\topt[k] = defaults[k];\n\t\t}\n\t}\n\t\n\tvar char_map = {\n\t\t// Latin\n\t\t'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 'Å': 'A', 'Æ': 'AE', 'Ç': 'C', \n\t\t'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 'Ï': 'I', \n\t\t'Ð': 'D', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Å': 'O', \n\t\t'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 'Û': 'U', 'Ü': 'U', 'Å°': 'U', 'Ý': 'Y', 'Þ': 'TH', \n\t\t'ß': 'ss', \n\t\t'à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 'å': 'a', 'æ': 'ae', 'ç': 'c', \n\t\t'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', \n\t\t'ð': 'd', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'Å': 'o', \n\t\t'ø': 'o', 'ù': 'u', 'ú': 'u', 'û': 'u', 'ü': 'u', 'Å±': 'u', 'ý': 'y', 'þ': 'th', \n\t\t'ÿ': 'y',\n\n\t\t// Latin symbols\n\t\t'©': '(c)',\n\n\t\t// Greek\n\t\t'Α': 'A', 'Β': 'B', 'Γ': 'G', 'Δ': 'D', 'Ε': 'E', 'Ζ': 'Z', 'Η': 'H', 'Θ': '8',\n\t\t'Ι': 'I', 'Κ': 'K', 'Λ': 'L', 'Μ': 'M', 'Ν': 'N', 'Ξ': '3', 'Ο': 'O', 'Π': 'P',\n\t\t'Ρ': 'R', 'Σ': 'S', 'Τ': 'T', 'Υ': 'Y', 'Φ': 'F', 'Χ': 'X', 'Ψ': 'PS', 'Ω': 'W',\n\t\t'Î': 'A', 'Î': 'E', 'Î': 'I', 'Î': 'O', 'Î': 'Y', 'Î': 'H', 'Î': 'W', 'Îª': 'I',\n\t\t'Î«': 'Y',\n\t\t'α': 'a', 'β': 'b', 'γ': 'g', 'δ': 'd', 'ε': 'e', 'ζ': 'z', 'η': 'h', 'θ': '8',\n\t\t'ι': 'i', 'κ': 'k', 'λ': 'l', 'μ': 'm', 'ν': 'n', 'ξ': '3', 'ο': 'o', 'π': 'p',\n\t\t'ρ': 'r', 'σ': 's', 'τ': 't', 'υ': 'y', 'φ': 'f', 'χ': 'x', 'ψ': 'ps', 'ω': 'w',\n\t\t'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'Ï': 'o', 'Ï': 'y', 'Î®': 'h', 'Ï': 'w', 'ς': 's',\n\t\t'Ï': 'i', 'Î°': 'y', 'Ï': 'y', 'Î': 'i',\n\n\t\t// Turkish\n\t\t'Å': 'S', 'Ä°': 'I', 'Ç': 'C', 'Ü': 'U', 'Ö': 'O', 'Ä': 'G',\n\t\t'Å': 's', 'Ä±': 'i', 'ç': 'c', 'ü': 'u', 'ö': 'o', 'Ä': 'g', \n\n\t\t// Russian\n\t\t'Ð': 'A', 'Ð': 'B', 'Ð': 'V', 'Ð': 'G', 'Ð': 'D', 'Ð': 'E', 'Ð': 'Yo', 'Ð': 'Zh',\n\t\t'Ð': 'Z', 'Ð': 'I', 'Ð': 'J', 'Ð': 'K', 'Ð': 'L', 'Ð': 'M', 'Ð': 'N', 'Ð': 'O',\n\t\t'Ð': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',\n\t\t'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': '', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',\n\t\t'Ð¯': 'Ya',\n\t\t'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ': 'yo', 'Ð¶': 'zh',\n\t\t'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',\n\t\t'Ð¿': 'p', 'Ñ': 'r', 'Ñ': 's', 'Ñ': 't', 'Ñ': 'u', 'Ñ': 'f', 'Ñ': 'h', 'Ñ': 'c',\n\t\t'Ñ': 'ch', 'Ñ': 'sh', 'Ñ': 'sh', 'Ñ': '', 'Ñ': 'y', 'Ñ': '', 'Ñ': 'e', 'Ñ': 'yu',\n\t\t'Ñ': 'ya',\n\n\t\t// Ukrainian\n\t\t'Ð': 'Ye', 'Ð': 'I', 'Ð': 'Yi', 'Ò': 'G',\n\t\t'Ñ': 'ye', 'Ñ': 'i', 'Ñ': 'yi', 'Ò': 'g',\n\n\t\t// Czech\n\t\t'Ä': 'C', 'Ä': 'D', 'Ä': 'E', 'Å': 'N', 'Å': 'R', 'Š': 'S', 'Å¤': 'T', 'Å®': 'U', \n\t\t'Å½': 'Z', \n\t\t'Ä': 'c', 'Ä': 'd', 'Ä': 'e', 'Å': 'n', 'Å': 'r', 'š': 's', 'Å¥': 't', 'Å¯': 'u',\n\t\t'Å¾': 'z', \n\n\t\t// Polish\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'e', 'Å': 'L', 'Å': 'N', 'Ó': 'o', 'Å': 'S', 'Å¹': 'Z', \n\t\t'Å»': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Å': 'l', 'Å': 'n', 'ó': 'o', 'Å': 's', 'Åº': 'z',\n\t\t'Å¼': 'z',\n\n\t\t// Latvian\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'E', 'Ä¢': 'G', 'Äª': 'i', 'Ä¶': 'k', 'Ä»': 'L', 'Å': 'N', \n\t\t'Š': 'S', 'Åª': 'u', 'Å½': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å': 'n',\n\t\t'š': 's', 'Å«': 'u', 'Å¾': 'z'\n\t};\n\t\n\t// Make custom replacements\n\tfor (var k in opt.replacements) {\n\t\ts = s.replace(RegExp(k, 'g'), opt.replacements[k]);\n\t}\n\t\n\t// Transliterate characters to ASCII\n\tif (opt.transliterate) {\n\t\tfor (var k in char_map) {\n\t\t\ts = s.replace(RegExp(k, 'g'), char_map[k]);\n\t\t}\n\t}\n\t\n\t// Replace non-alphanumeric characters with our delimiter\n\tvar alnum = (typeof(XRegExp) === 'undefined') ? RegExp('[^a-z0-9]+', 'ig') : XRegExp('[^\\\\p{L}\\\\p{N}]+', 'ig');\n\ts = s.replace(alnum, opt.delimiter);\n\t\n\t// Remove duplicate delimiters\n\ts = s.replace(RegExp('[' + opt.delimiter + ']{2,}', 'g'), opt.delimiter);\n\t\n\t// Truncate slug to max. characters\n\ts = s.substring(0, opt.limit);\n\t\n\t// Remove delimiter from ends\n\ts = s.replace(RegExp('(^' + opt.delimiter + '|' + opt.delimiter + '$)', 'g'), '');\n\t\n\treturn opt.lowercase ? s.toLowerCase() : s;\n}\n\n/**\n * @name toast\n * @description Triggers toast notification. Adds toast html to the page if missing.\n * @param {string} text - Toast notification.\n */\n export const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"toast-cont position-fixed bottom-0 p-2 m-4 end-0 align-items-center\" style=\"z-index:10000;\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}","export const CDN = 'https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com';\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.com subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/\"; \n}\n\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name getParam\n * @description Get URL param.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const getParam = (p) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(p) ? urlParams.get(p) : \"\";\n}\n\nexport const formatTime = (timestamp) => {\n\t\n    let a = new Date(timestamp * 1000);\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    let year = a.getFullYear();\n    let month = months[a.getMonth()];\n    let date = a.getDate();\n    let hour = a.getHours();\n    let min = a.getMinutes();\n    let sec = a.getSeconds();\n    let time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\n\nexport const replaceQueryParam = (param, newval, search) => {\n\n    let regex = new RegExp(\"([?;&])\" + param + \"[^&;]*[;&]?\");\n    let query = search.replace(regex, \"$1\").replace(/&$/, '');\n\n    return (query.length > 2 ? query + \"&\" : \"?\") + (newval ? param + \"=\" + newval : '');\n}\n\nexport const getPageNumberOld = () => {\n\n    let url = window.location.href.split('/');\n    let page = url[url.length-1];\n    let pageN = 1;\n    if(page.indexOf('page')==0){\n      pageN = page.replace('page', '').replace('#', '');\n    }\n    // console.log(pageN);\n    return parseInt(pageN);\n}\n\nexport const getPageNumber = () => {\n\n    let urlParams = new URLSearchParams(window.location.search);\n    let page = urlParams.get('page') ? urlParams.get('page') : 1;\n\n    return parseInt(page);\n}\n\nexport const getPagination = (__, meta, cb) => {\n\n    if(typeof(meta) === 'undefined'){ document.querySelector(\"#listing_info\").innerHTML = __('no records to display'); return; }\n\n    let offset = meta.limit+meta.offset;\n    if(offset>meta.total_records) offset = meta.total_records;\n\n    document.querySelector(\"#listing_info\").innerHTML = __(\"Showing %1$ to %2$ of %3$ entries\", (1+meta.offset), (offset), meta.total_records);\n    //  \"Showing \"+(1+meta.offset)+\" to \"+(offset)+\" of \"+meta.total_records+\" entries\";\n\n    let pbc = Math.ceil(meta.total_records / meta.limit);\n    document.querySelector(\"#listing_paginate\").style.display = (pbc < 2) ? \"none\" : \"block\";\n\n    let page = getPageNumber(); \n    let html = '<ul class=\"pagination d-flex justify-content-end pagination-flat mb-0\">';\n    html += '<li class=\"paginate_button page-item previous\" id=\"listing_previous\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"prev\" data-page=\"0\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&laquo;</span></li>';\n    let i = 0;\n    while(i<pbc){\n\n        i++; \n        if(((i >= page-3) && (i <= page)) || ((i <= page+3) && (i >=page))){\n\n            html += '<li class=\"paginate_button page-item '+((page==i)?'active':'')+'\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"page\" data-page=\"'+i+'\" tabindex=\"0\" class=\"page-link\">'+(page==i?i:i)+'</a></li>';      \n        }\n    }  \n    html += '<li class=\"paginate_button page-item next\" id=\"order-listing_next\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"next\" data-page=\"2\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&raquo;</span></a></li>';\n    html += '</ul>'\n\n    document.querySelector(\"#listing_paginate\").innerHTML = html;\n\n    let page_link = document.querySelectorAll(\".page-link\");\n    for (const l of page_link) {\n        \n        l.addEventListener('click', function(e) {\n\n            let p = parseInt(getPageNumber());\n            let ps = p;\n            switch(l.dataset.type){ \n                case 'prev': p-=1; if(p<1) p = 1; break;\n                case 'page': p=l.dataset.page; break;\n                case 'next': p+=1; if(p>pbc) p = pbc; break;\n            }\n            \n            // update url\n            if (window.history.replaceState) {\n\n                // let url = window.location.href.split('/page');\n                // let urlF = (url[0]+'/page'+p).replace('//page', '/page');\n\n                let str = window.location.search;\n                str = replaceQueryParam('page', p, str);\n                // window.location = window.location.pathname + str\n\n                // prevents browser from storing history with each change:\n                window.history.replaceState(\"kenzap-cloud\", document.title, window.location.pathname + str);\n            }\n\n            // only refresh if page differs\n            if(ps!=p) cb();\n            \n            e.preventDefault();\n            return false;\n        });\n    }\n}\n\n/**\n * @name getAPI\n * @description Returns API link\n * @param {object} headers\n */\nexport const getAPI = () => {\n\n    return window.location.host.indexOf(\"localhost\") == 0 ? \"https://api.myticket-dev.app.kenzap.cloud/\" : \"https://api.myticket.app.kenzap.cloud/\";\n}\n\nexport const makeNumber = function(price) {\n\n    price = price ? price : 0;\n    price = parseFloat(price);\n    price = Math.round(price * 100) / 100;\n    return price;\n}\n\n/**\n* Email format validation script\n* \n* @param string email\n* @return string\n*/\nexport const validateEmail = (email) => {\n\n    if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,14})+$/.test(email)){\n\n        return true;\n    }else{\n\n        return false;\n    }\n}\n\n/**\n* Render price\n* @public\n*/\nexport const priceFormat = (_this, price) => {\n\n    price = makeNumber(price);\n\n    price = (Math.round(parseFloat(price) * 100)/100).toFixed(2);\n    \n    let settings = {};\n    if(_this.currency_symb_loc){ settings = _this; }else{ settings = _this.settings; }\n\n    switch(settings.currency_symb_loc){\n        case 'left': price = settings.currency_symb + ' ' + price; break;\n        case 'right': price = price + settings.currency_symb; break;\n    }\n\n    return price;\n}\n\nexport const loadDependencies = (dep, cb) => {\n\n    // dependency already loaded, skip\n    if(document.getElementById(dep)){ if(typeof cb === 'function') cb.call(); return; }\n\n    // detect dependency type\n    let t = dep.split('.').slice(-1)[0];\n    switch(t){\n      case 'js':\n        \n        let js = document.createElement(\"script\");\n        js.setAttribute(\"src\", dep);\n        js.id = dep;\n        js.onload = js.onreadystatechange = function() {\n \n          if(!this.readyState || this.readyState == 'complete')\n            if(typeof cb === 'function') cb.call();\n        };\n        document.body.appendChild(js);\n        \n      break;\n      case 'css':\n\n        var head  = document.getElementsByTagName('head')[0];\n        var css  = document.createElement('link');\n        css.id   = dep;\n        css.rel  = 'stylesheet';\n        css.type = 'text/css';\n        css.href = dep;\n        head.appendChild(css);\n\n      break;\n    }\n    \n    return true;\n}","import { __html, html, onClick, H } from '@kenzap/k-cloud';\nimport { CDN, getParam, validateEmail } from \"../_/_helpers.js\"\n\nexport class Checkout{\n\n    // init class\n    constructor(data, cont){\n        \n        this.state = {\n            data: data,\n            inQuery: false,\n            cont: cont,\n        };\n    \n        // console.log(cont);\n\n        // init user authentication\n        this.init();\n    }\n\n    init = () => {\n\n        // alert((new URL(window.location.href)).hostname);\n\n        let self = this, d = document;\n\n        document.querySelector('.btn-checkout').addEventListener('click', function(e) {\n\n            e.preventDefault();\n\n            if(d.querySelector(this.dataset.src)==null) return false;\n\n            let box = `\n                <div id=\"kbox-container\" class=\"kbox-container kbox-container--ready\" role=\"dialog\" tabindex=\"-1\" style=\"display:block;\">\n                    <div class=\"kbox-bg\" style=\"transition-duration: 330ms;\"></div>\n                    <div class=\"kbox-slider-wrap kbox-slide\">${ d.querySelector(this.dataset.src).outerHTML }</div>\n                </div>`;\n\n            let pb = d.querySelector('input[name=\"pack-group\"]:checked');\n            if(!pb) return;\n\n            // check if package is not sold out\n            if(pb.dataset.soldout == 'soldout'){\n\n                alert(__html('This package is sold out, please choose another package.'));\n                return;\n            }\n\n            let qty = parseInt(d.querySelector(\".num\").value);\n            let price = pb.dataset.price*qty;\n\n            let tickets = Array(qty).fill(0);\n\n            // let btn = d.querySelector(\".btn-checkout\");\n            // btn.setAttribute('data-price', price);\n\n            d.querySelector('#'+self.state.cont).insertAdjacentHTML(\"afterBegin\", box);\n            d.querySelector('html').classList.add(\"ns\");\n\n            document.querySelector(\"#checkout-box .content-area\").innerHTML = `\n\n                <div id=\"bd\" class=\"bill-form\">\n                    <div class=\"form-cont ge-form form__fieldset\">\n\n                        <div class=\"holder-cont\">\n                        ${\n                            tickets.map((obj, i) => {\n\n                                return `\n                                    <h5>${ __html('#%1$ Ticket Holder', i+1) }</h4>\n                                    <div class=\"form-grid\">\n                                        <div class=\"form-grid__whole\">\n                                            <div class=\"form-field\" data-field=\"ticketName${i}\">\n                                                <div class=\"form-field__item form-field__item--text\">\n                                                    <input id=\"ticketName${i}\" class=\"input form-field__input input--text required\" name=\"ticketName\" type=\"text\" required=\"\">\n                                                    <label for=\"ticketName${i}\" class=\"form-field__label form-field__label--dynamic\">${ __html('Full Name') }</label>\n                                                </div>\n                                                <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">${ __html('Ticket holder name and surname') }</div>\n                                            </div>\n                                        </div>\n                                        <div class=\"form-grid__whole\">\n                                            <div class=\"form-field\" data-field=\"ticketEmail${i}\">\n                                                <div class=\"form-field__item form-field__item--text\">\n                                                    <input id=\"ticketEmail${i}\" class=\"input form-field__input input--email required\" name=\"ticketEmail\" type=\"text\" required=\"\">\n                                                    <label for=\"ticketEmail${i}\" class=\"form-field__label form-field__label--dynamic\">${ __html('Email Address') }</label>\n                                                </div>\n                                                <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">${ __html('Ticket holder email address') }</div>\n                                            </div>\n                                        </div>\n                                        <div class=\"form-grid__whole\">\n                                            <div class=\"form-field\" data-field=\"ticketPhone${i}\">\n                                                <div class=\"form-field__item form-field__item--text\">\n                                                    <input id=\"ticketPhone${i}\" class=\"input form-field__input input--phone required\" name=\"ticketPhone\" type=\"text\" required=\"\">\n                                                    <label for=\"ticketPhone${i}\" class=\"form-field__label form-field__label--dynamic\">${ __html('Phone Number') }</label>\n                                                </div>\n                                                <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">${ __html('Ticket holder phone number') }</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                `;\n\n                            }).join('')\n                        }\n                        </div>\n                            \n                        <div class=\"tax-cont dn\">\n                            <h5>${ __html('Invoice Information') }</h5>\n                            <div class=\"form-grid\">\n                                <div class=\"form-grid__half\">\n                                    <div class=\"form-field\" data-field=\"firstName\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"firstName\" class=\"input form-field__input input--text required\" data-group=\"tax\" name=\"firstName\" type=\"text\" required=\"\">\n                                            <label for=\"firstName\" class=\"form-field__label form-field__label--dynamic\">First name</label>\n                                        </div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">First name is required</div>\n                                    </div>\n                                </div>\n                                <div class=\"form-grid__half\">\n                                    <div class=\"form-field\" data-field=\"lastName\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"lastName\" class=\"input form-field__input input--text required\" data-group=\"tax\" name=\"lastName\" type=\"text\" required=\"\">\n                                            <label for=\"lastName\" class=\"form-field__label form-field__label--dynamic\">Last name</label>\n                                        </div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">Last name is required</div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"form-grid\">\n                                <div class=\"form-grid__half\">\n                                    <div class=\"form-field form-field--has-value\" data-field=\"countryField\">\n                                        <div class=\"form-field__item form-field__item--select\">\n                                            <label for=\"countryField\" class=\"form-field__label form-field__label--dynamic\">Country</label>\n                                            <select name=\"countryField\" id=\"countryField\" class=\"input form-field__input input--select required\" data-group=\"tax\">\n                                                <option value=\"\">Select your country</option>\n                                                    <optgroup label=\"Popular countries\">\n                                                    <option data-country-id=\"AU\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" data-states=\"Australian Capital Territory|New South Wales|Northern Territory|Queensland|South Australia|Tasmania|Victoria|Western Australia\" value=\"AU\">Australia</option>\n                                                    <option data-country-id=\"BR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BR\">Brazil</option>\n                                                    <option data-country-id=\"CA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" data-states=\"Alberta|British Columbia|Manitoba|New Brunswick|Newfoundland and Labrador|Northwest Territories|Nova Scotia|Nunavut|Ontario|Prince Edward Island|Quebec:ca_qst:QST Registration Number:1234567890TQ1234:1:1|Yukon\" value=\"CA\">Canada</option>\n                                                    <option data-country-id=\"FR\" data-country-marketing-consent=\"false\" data-vat-prefix=\"FR\" data-vat-example=\"FR12345678901\" data-vat-local-lang=\"n° TVA\" data-enable-sales-tax-number=\"false\" value=\"FR\">France</option>\n                                                    <option data-country-id=\"DE\" data-country-marketing-consent=\"false\" data-vat-prefix=\"DE\" data-vat-example=\"DE123456789\" data-vat-local-lang=\"USt-IdNr.\" data-enable-sales-tax-number=\"false\" value=\"DE\">Germany</option>\n                                                    <option data-country-id=\"IT\" data-country-marketing-consent=\"false\" data-vat-prefix=\"IT\" data-vat-example=\"IT12345678901\" data-vat-local-lang=\"P. IVA\" data-enable-sales-tax-number=\"false\" value=\"IT\">Italy</option>\n                                                    <option data-country-id=\"ID\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ID\">Indonesia</option>\n                                                    <option data-country-id=\"NL\" data-country-marketing-consent=\"false\" data-vat-prefix=\"NL\" data-vat-example=\"NL123456789B01\" data-vat-local-lang=\"Btw-nr.\" data-enable-sales-tax-number=\"false\" value=\"NL\">Netherlands</option>\n                                                    <option data-country-id=\"ES\" data-country-marketing-consent=\"false\" data-vat-prefix=\"ES\" data-vat-example=\"ES12345678X\" data-vat-local-lang=\"NIF / CIF\" data-enable-sales-tax-number=\"false\" value=\"ES\">Spain</option>\n                                                    <option data-country-id=\"SG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"true\" data-sales-tax-number-label=\"GST Registration Number\" data-sales-tax-number-example=\"M12345678X\" data-sales-tax-number-type=\"sg_gst\" value=\"SG\" selected=\"selected\">Singapore</option>\n                                                    <option data-country-id=\"GB\" data-country-marketing-consent=\"false\" data-vat-prefix=\"GB\" data-vat-example=\"GB123456789\" data-enable-sales-tax-number=\"false\"  value=\"GB\">United Kingdom</option>\n                                                    <option data-country-id=\"US\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" data-states=\"Alabama|Alaska|American Samoa|Arizona|Arkansas|California|Colorado|Connecticut|Delaware|District of Columbia|Florida|Georgia|Hawaii|Idaho|Illinois|Indianav|Iowa|Kansas|Kentucky|Louisiana|Maine|Maryland|Massachusetts|Michigan|Minnesota|Mississippi|Missouri|Montana|Nebraska|Nevada|New Hampshire|New Jersey|New Mexico|New York|North Carolina|North Dakota|Ohio|Oklahoma|Oregon|Pennsylvania|Rhode Island|South Carolina|South Dakota|Tennessee|Texas|Utah|Vermont|Virginia|Washington|West Virginia|Wisconsin|Wyoming\" value=\"US\">United States</option>\n                                                    </optgroup>\n                                                    <optgroup label=\"All countries\">\n                                                    <option data-country-id=\"AF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AF\">Afghanistan</option>\n                                                    <option data-country-id=\"AL\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AL\">Albania</option>\n                                                    <option data-country-id=\"DZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"DZ\">Algeria</option>\n                                                    <option data-country-id=\"AS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AS\">American Samoa</option>\n                                                    <option data-country-id=\"AD\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AD\">Andorra</option>\n                                                    <option data-country-id=\"AO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AO\">Angola</option>\n                                                    <option data-country-id=\"AI\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AI\">Anguilla</option>\n                                                    <option data-country-id=\"AQ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AQ\">Antarctica</option>\n                                                    <option data-country-id=\"AG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AG\">Antigua and Barbuda</option>\n                                                    <option data-country-id=\"AR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AR\">Argentina</option>\n                                                    <option data-country-id=\"AM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AM\">Armenia</option>\n                                                    <option data-country-id=\"AW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AW\">Aruba</option>\n                                                    <option data-country-id=\"AU\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" data-states=\"Australian Capital Territory|New South Wales|Northern Territory|Queensland|South Australia|Tasmania|Victoria|Western Australia\" value=\"AU\">Australia</option>\n                                                    <option data-country-id=\"AT\" data-country-marketing-consent=\"false\" data-vat-prefix=\"AT\" data-vat-example=\"ATU12345678\" data-vat-local-lang=\"UID\" data-enable-sales-tax-number=\"false\" value=\"AT\">Austria</option>\n                                                    <option data-country-id=\"AZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AZ\">Azerbaijan</option>\n                                                    <option data-country-id=\"BS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BS\">Bahamas</option>\n                                                    <option data-country-id=\"BH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BH\">Bahrain</option>\n                                                    <option data-country-id=\"BD\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BD\">Bangladesh</option>\n                                                    <option data-country-id=\"BB\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BB\">Barbados</option>\n                                                    <option data-country-id=\"BY\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BY\">Belarus</option>\n                                                    <option data-country-id=\"BE\" data-country-marketing-consent=\"false\" data-vat-prefix=\"BE\" data-vat-example=\"BE1234567890\" data-vat-local-lang=\"n° TVA / BTW-Nr / Mwst-Nr\" data-enable-sales-tax-number=\"false\" value=\"BE\">Belgium</option>\n                                                    <option data-country-id=\"BZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BZ\">Belize</option>\n                                                    <option data-country-id=\"BJ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BJ\">Benin</option>\n                                                    <option data-country-id=\"BM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BM\">Bermuda</option>\n                                                    <option data-country-id=\"BT\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BT\">Bhutan</option>\n                                                    <option data-country-id=\"BO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BO\">Bolivia, Plurinational State of</option>\n                                                    <option data-country-id=\"BQ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BQ\">Bonaire, Sint Eustatius and Saba</option>\n                                                    <option data-country-id=\"BA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BA\">Bosnia and Herzegovina</option>\n                                                    <option data-country-id=\"BW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BW\">Botswana</option>\n                                                    <option data-country-id=\"BV\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BV\">Bouvet Island</option>\n                                                    <option data-country-id=\"BR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BR\">Brazil</option>\n                                                    <option data-country-id=\"IO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"IO\">British Indian Ocean Territory</option>\n                                                    <option data-country-id=\"BN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BN\">Brunei Darussalam</option>\n                                                    <option data-country-id=\"BG\" data-country-marketing-consent=\"false\" data-vat-prefix=\"BG\" data-vat-example=\"BG123456789\" data-vat-local-lang=\"ДДС номер\" data-enable-sales-tax-number=\"false\" value=\"BG\">Bulgaria</option>\n                                                    <option data-country-id=\"BF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BF\">Burkina Faso</option>\n                                                    <option data-country-id=\"BI\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BI\">Burundi</option>\n                                                    <option data-country-id=\"CV\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CV\">Cabo Verde</option>\n                                                    <option data-country-id=\"KH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KH\">Cambodia</option>\n                                                    <option data-country-id=\"CM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CM\">Cameroon</option>\n                                                    <option data-country-id=\"CA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\"  data-states=\"Alberta|British Columbia|Manitoba|New Brunswick|Newfoundland and Labrador|Northwest Territories|Nova Scotia|Nunavut|Ontario|Prince Edward Island|Quebec:ca_qst:QST Registration Number:1234567890TQ1234:1:1|Yukon\" value=\"CA\">Canada</option>\n                                                    <option data-country-id=\"KY\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KY\">Cayman Islands</option>\n                                                    <option data-country-id=\"CF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CF\">Central African Republic</option>\n                                                    <option data-country-id=\"TD\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TD\">Chad</option>\n                                                    <option data-country-id=\"CL\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CL\">Chile</option>\n                                                    <option data-country-id=\"CN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CN\">China</option>\n                                                    <option data-country-id=\"CX\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CX\">Christmas Island</option>\n                                                    <option data-country-id=\"CC\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CC\">Cocos (Keeling) Islands</option>\n                                                    <option data-country-id=\"CO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CO\">Colombia</option>\n                                                    <option data-country-id=\"KM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KM\">Comoros</option>\n                                                    <option data-country-id=\"CG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CG\">Congo</option>\n                                                    <option data-country-id=\"CD\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CD\">Congo, the Democratic Republic of the</option>\n                                                    <option data-country-id=\"CK\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CK\">Cook Islands</option>\n                                                    <option data-country-id=\"CR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CR\">Costa Rica</option>\n                                                    <option data-country-id=\"HR\" data-country-marketing-consent=\"false\" data-vat-prefix=\"HR\" data-vat-example=\"HR12345678901\" data-vat-local-lang=\"PDV-ID; OIB\" data-enable-sales-tax-number=\"false\" value=\"HR\">Croatia</option>\n                                                    <option data-country-id=\"CW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CW\">Curaçao</option>\n                                                    <option data-country-id=\"CY\" data-country-marketing-consent=\"false\" data-vat-prefix=\"CY\" data-vat-example=\"CY12345678X\" data-vat-local-lang=\"ΦΠΑ\" data-enable-sales-tax-number=\"false\" value=\"CY\">Cyprus</option>\n                                                    <option data-country-id=\"CZ\" data-country-marketing-consent=\"false\" data-vat-prefix=\"CZ\" data-vat-example=\"CZ12345678\" data-vat-local-lang=\"DIČ\" data-enable-sales-tax-number=\"false\" value=\"CZ\">Czech Republic</option>\n                                                    <option data-country-id=\"CI\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CI\">Côte d'Ivoire</option>\n                                                    <option data-country-id=\"DK\" data-country-marketing-consent=\"false\" data-vat-prefix=\"DK\" data-vat-example=\"DK12345678\" data-vat-local-lang=\"CVR\" data-enable-sales-tax-number=\"false\" value=\"DK\">Denmark</option>\n                                                    <option data-country-id=\"DJ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"DJ\">Djibouti</option>\n                                                    <option data-country-id=\"DM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"DM\">Dominica</option>\n                                                    <option data-country-id=\"DO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"DO\">Dominican Republic</option>\n                                                    <option data-country-id=\"EC\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"EC\">Ecuador</option>\n                                                    <option data-country-id=\"EG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"EG\">Egypt</option>\n                                                    <option data-country-id=\"SV\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SV\">El Salvador</option>\n                                                    <option data-country-id=\"GQ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GQ\">Equatorial Guinea</option>\n                                                    <option data-country-id=\"ER\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ER\">Eritrea</option>\n                                                    <option data-country-id=\"EE\" data-country-marketing-consent=\"false\" data-vat-prefix=\"EE\" data-vat-example=\"EE123456789\" data-vat-local-lang=\"KMKR\" data-enable-sales-tax-number=\"false\" value=\"EE\">Estonia</option>\n                                                    <option data-country-id=\"ET\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ET\">Ethiopia</option>\n                                                    <option data-country-id=\"FK\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"FK\">Falkland Islands (Malvinas)</option>\n                                                    <option data-country-id=\"FO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"FO\">Faroe Islands</option>\n                                                    <option data-country-id=\"FJ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"FJ\">Fiji</option>\n                                                    <option data-country-id=\"FI\" data-country-marketing-consent=\"false\" data-vat-prefix=\"FI\" data-vat-example=\"FI12345678\" data-vat-local-lang=\"ALV nro\" data-enable-sales-tax-number=\"false\" value=\"FI\">Finland</option>\n                                                    <option data-country-id=\"FR\" data-country-marketing-consent=\"false\" data-vat-prefix=\"FR\" data-vat-example=\"FR12345678901\" data-vat-local-lang=\"n° TVA\" data-enable-sales-tax-number=\"false\" value=\"FR\">France</option>\n                                                    <option data-country-id=\"GF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GF\">French Guiana</option>\n                                                    <option data-country-id=\"PF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PF\">French Polynesia</option>\n                                                    <option data-country-id=\"TF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TF\">French Southern Territories</option>\n                                                    <option data-country-id=\"GA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GA\">Gabon</option>\n                                                    <option data-country-id=\"GM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GM\">Gambia</option>\n                                                    <option data-country-id=\"GE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GE\">Georgia</option>\n                                                    <option data-country-id=\"DE\" data-country-marketing-consent=\"false\" data-vat-prefix=\"DE\" data-vat-example=\"DE123456789\" data-vat-local-lang=\"USt-IdNr.\" data-enable-sales-tax-number=\"false\" value=\"DE\">Germany</option>\n                                                    <option data-country-id=\"GH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GH\">Ghana</option>\n                                                    <option data-country-id=\"GI\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GI\">Gibraltar</option>\n                                                    <option data-country-id=\"GR\" data-country-marketing-consent=\"false\" data-vat-prefix=\"EL\" data-vat-example=\"EL123456789\" data-vat-local-lang=\"ΑΦΜ\" data-enable-sales-tax-number=\"false\" value=\"GR\">Greece</option>\n                                                    <option data-country-id=\"GL\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GL\">Greenland</option>\n                                                    <option data-country-id=\"GD\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GD\">Grenada</option>\n                                                    <option data-country-id=\"GP\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GP\">Guadeloupe</option>\n                                                    <option data-country-id=\"GU\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GU\">Guam</option>\n                                                    <option data-country-id=\"GT\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GT\">Guatemala</option>\n                                                    <option data-country-id=\"GG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GG\">Guernsey</option>\n                                                    <option data-country-id=\"GN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GN\">Guinea</option>\n                                                    <option data-country-id=\"GW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GW\">Guinea-Bissau</option>\n                                                    <option data-country-id=\"GY\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GY\">Guyana</option>\n                                                    <option data-country-id=\"HT\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"HT\">Haiti</option>\n                                                    <option data-country-id=\"HM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"HM\">Heard Island and McDonald Islands</option>\n                                                    <option data-country-id=\"VA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"VA\">Holy See (Vatican City State)</option>\n                                                    <option data-country-id=\"HN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"HN\">Honduras</option>\n                                                    <option data-country-id=\"HK\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"HK\">Hong Kong</option>\n                                                    <option data-country-id=\"HU\" data-country-marketing-consent=\"false\" data-vat-prefix=\"HU\" data-vat-example=\"HU12345678\" data-vat-local-lang=\"ANUM\" data-enable-sales-tax-number=\"false\" value=\"HU\">Hungary</option>\n                                                    <option data-country-id=\"IS\" data-country-marketing-consent=\"false\" data-enable-sales-tax-number=\"false\" value=\"IS\">Iceland</option>\n                                                    <option data-country-id=\"IN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"IN\">India</option>\n                                                    <option data-country-id=\"ID\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ID\">Indonesia</option>\n                                                    <option data-country-id=\"IQ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"IQ\">Iraq</option>\n                                                    <option data-country-id=\"IE\" data-country-marketing-consent=\"false\" data-vat-prefix=\"IE\" data-vat-example=\"IE1234567XX\" data-vat-local-lang=\"VAT no\" data-enable-sales-tax-number=\"false\" value=\"IE\">Ireland</option>\n                                                    <option data-country-id=\"IM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"IM\">Isle of Man</option>\n                                                    <option data-country-id=\"IL\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"IL\">Israel</option>\n                                                    <option data-country-id=\"IT\" data-country-marketing-consent=\"false\" data-vat-prefix=\"IT\" data-vat-example=\"IT12345678901\" data-vat-local-lang=\"P. IVA\" data-enable-sales-tax-number=\"false\" value=\"IT\">Italy</option>\n                                                    <option data-country-id=\"JM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"JM\">Jamaica</option>\n                                                    <option data-country-id=\"JP\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"JP\">Japan</option>\n                                                    <option data-country-id=\"JE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"JE\">Jersey</option>\n                                                    <option data-country-id=\"JO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"JO\">Jordan</option>\n                                                    <option data-country-id=\"KZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KZ\">Kazakhstan</option>\n                                                    <option data-country-id=\"KE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KE\">Kenya</option>\n                                                    <option data-country-id=\"KI\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KI\">Kiribati</option>\n                                                    <option data-country-id=\"KR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"true\" data-sales-tax-number-label=\"Tax Identification Number\" data-sales-tax-number-example=\"123-45-67890\" data-sales-tax-number-type=\"kr_vat\" value=\"KR\">Korea, Republic of</option>\n                                                    <option data-country-id=\"XK\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"XK\">Kosovo</option>\n                                                    <option data-country-id=\"KW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KW\">Kuwait</option>\n                                                    <option data-country-id=\"KG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KG\">Kyrgyzstan</option>\n                                                    <option data-country-id=\"LA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"LA\">Lao People's Democratic Republic</option>\n                                                    <option data-country-id=\"LV\" data-country-marketing-consent=\"false\" data-vat-prefix=\"LV\" data-vat-example=\"LV12345678901\" data-vat-local-lang=\"PVN\" data-enable-sales-tax-number=\"false\" value=\"LV\">Latvia</option>\n                                                    <option data-country-id=\"LB\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"LB\">Lebanon</option>\n                                                    <option data-country-id=\"LS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"LS\">Lesotho</option>\n                                                    <option data-country-id=\"LR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"LR\">Liberia</option>\n                                                    <option data-country-id=\"LY\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"LY\">Libya</option>\n                                                    <option data-country-id=\"LI\" data-country-marketing-consent=\"false\" data-enable-sales-tax-number=\"false\" value=\"LI\">Liechtenstein</option>\n                                                    <option data-country-id=\"LT\" data-country-marketing-consent=\"false\" data-vat-prefix=\"LT\" data-vat-example=\"LT123456789\" data-vat-local-lang=\"PVM kodas\" data-enable-sales-tax-number=\"false\" value=\"LT\">Lithuania</option>\n                                                    <option data-country-id=\"LU\" data-country-marketing-consent=\"false\" data-vat-prefix=\"LU\" data-vat-example=\"LU12345678\" data-vat-local-lang=\"No. TVA\" data-enable-sales-tax-number=\"false\" value=\"LU\">Luxembourg</option>\n                                                    <option data-country-id=\"MO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MO\">Macao</option>\n                                                    <option data-country-id=\"MK\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MK\">Macedonia, the former Yugoslav Republic of</option>\n                                                    <option data-country-id=\"MG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MG\">Madagascar</option>\n                                                    <option data-country-id=\"MW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MW\">Malawi</option>\n                                                    <option data-country-id=\"MY\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MY\">Malaysia</option>\n                                                    <option data-country-id=\"MV\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MV\">Maldives</option>\n                                                    <option data-country-id=\"ML\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ML\">Mali</option>\n                                                    <option data-country-id=\"MT\" data-country-marketing-consent=\"false\" data-vat-prefix=\"MT\" data-vat-example=\"MT12345678\" data-vat-local-lang=\"Vat No.\" data-enable-sales-tax-number=\"false\" value=\"MT\">Malta</option>\n                                                    <option data-country-id=\"MH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MH\">Marshall Islands</option>\n                                                    <option data-country-id=\"MQ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MQ\">Martinique</option>\n                                                    <option data-country-id=\"MR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MR\">Mauritania</option>\n                                                    <option data-country-id=\"MU\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MU\">Mauritius</option>\n                                                    <option data-country-id=\"YT\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"YT\">Mayotte</option>\n                                                    <option data-country-id=\"MX\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MX\">Mexico</option>\n                                                    <option data-country-id=\"FM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"FM\">Micronesia, Federated States of</option>\n                                                    <option data-country-id=\"MD\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MD\">Moldova, Republic of</option>\n                                                    <option data-country-id=\"MC\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MC\">Monaco</option>\n                                                    <option data-country-id=\"MN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MN\">Mongolia</option>\n                                                    <option data-country-id=\"ME\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ME\">Montenegro</option>\n                                                    <option data-country-id=\"MS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MS\">Montserrat</option>\n                                                    <option data-country-id=\"MA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MA\">Morocco</option>\n                                                    <option data-country-id=\"MZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MZ\">Mozambique</option>\n                                                    <option data-country-id=\"MM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MM\">Myanmar</option>\n                                                    <option data-country-id=\"NA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NA\">Namibia</option>\n                                                    <option data-country-id=\"NR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NR\">Nauru</option>\n                                                    <option data-country-id=\"NP\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NP\">Nepal</option>\n                                                    <option data-country-id=\"NL\" data-country-marketing-consent=\"false\" data-vat-prefix=\"NL\" data-vat-example=\"NL123456789B01\" data-vat-local-lang=\"Btw-nr.\" data-enable-sales-tax-number=\"false\" value=\"NL\">Netherlands</option>\n                                                    <option data-country-id=\"NC\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NC\">New Caledonia</option>\n                                                    <option data-country-id=\"NZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NZ\">New Zealand</option>\n                                                    <option data-country-id=\"NI\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NI\">Nicaragua</option>\n                                                    <option data-country-id=\"NE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NE\">Niger</option>\n                                                    <option data-country-id=\"NG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NG\">Nigeria</option>\n                                                    <option data-country-id=\"NU\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NU\">Niue</option>\n                                                    <option data-country-id=\"NF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"NF\">Norfolk Island</option>\n                                                    <option data-country-id=\"MP\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MP\">Northern Mariana Islands</option>\n                                                    <option data-country-id=\"NO\" data-country-marketing-consent=\"false\" data-enable-sales-tax-number=\"false\" value=\"NO\">Norway</option>\n                                                    <option data-country-id=\"OM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"OM\">Oman</option>\n                                                    <option data-country-id=\"PK\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PK\">Pakistan</option>\n                                                    <option data-country-id=\"PW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PW\">Palau</option>\n                                                    <option data-country-id=\"PS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PS\">Palestine, State of</option>\n                                                    <option data-country-id=\"PA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PA\">Panama</option>\n                                                    <option data-country-id=\"PG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PG\">Papua New Guinea</option>\n                                                    <option data-country-id=\"PY\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PY\">Paraguay</option>\n                                                    <option data-country-id=\"PE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PE\">Peru</option>\n                                                    <option data-country-id=\"PH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PH\">Philippines</option>\n                                                    <option data-country-id=\"PN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PN\">Pitcairn</option>\n                                                    <option data-country-id=\"PL\" data-country-marketing-consent=\"false\" data-vat-prefix=\"PL\" data-vat-example=\"PL1234567890\" data-vat-local-lang=\"NIP\" data-enable-sales-tax-number=\"false\" value=\"PL\">Poland</option>\n                                                    <option data-country-id=\"PT\" data-country-marketing-consent=\"false\" data-vat-prefix=\"PT\" data-vat-example=\"PT123456789\" data-vat-local-lang=\"NIF / NIPC\" data-enable-sales-tax-number=\"false\" value=\"PT\">Portugal</option>\n                                                    <option data-country-id=\"PR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PR\">Puerto Rico</option>\n                                                    <option data-country-id=\"QA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"QA\">Qatar</option>\n                                                    <option data-country-id=\"RO\" data-country-marketing-consent=\"false\" data-vat-prefix=\"RO\" data-vat-example=\"RO1234567890\" data-vat-local-lang=\"CIF\" data-enable-sales-tax-number=\"false\" value=\"RO\">Romania</option>\n                                                    <option data-country-id=\"RU\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"RU\">Russian Federation</option>\n                                                    <option data-country-id=\"RW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"RW\">Rwanda</option>\n                                                    <option data-country-id=\"RE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"RE\">Réunion</option>\n                                                    <option data-country-id=\"BL\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"BL\">Saint Barthélemy</option>\n                                                    <option data-country-id=\"SH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SH\">Saint Helena, Ascension and Tristan da Cunha</option>\n                                                    <option data-country-id=\"KN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"KN\">Saint Kitts and Nevis</option>\n                                                    <option data-country-id=\"LC\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"LC\">Saint Lucia</option>\n                                                    <option data-country-id=\"MF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"MF\">Saint Martin</option>\n                                                    <option data-country-id=\"PM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"PM\">Saint Pierre and Miquelon</option>\n                                                    <option data-country-id=\"VC\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"VC\">Saint Vincent and the Grenadines</option>\n                                                    <option data-country-id=\"WS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"WS\">Samoa</option>\n                                                    <option data-country-id=\"SM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SM\">San Marino</option>\n                                                    <option data-country-id=\"ST\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ST\">Sao Tome and Principe</option>\n                                                    <option data-country-id=\"SA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SA\">Saudi Arabia</option>\n                                                    <option data-country-id=\"SN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SN\">Senegal</option>\n                                                    <option data-country-id=\"RS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"RS\">Serbia</option>\n                                                    <option data-country-id=\"SC\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SC\">Seychelles</option>\n                                                    <option data-country-id=\"SL\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SL\">Sierra Leone</option>\n                                                    <option data-country-id=\"SG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"true\" data-sales-tax-number-label=\"GST Registration Number\" data-sales-tax-number-example=\"M12345678X\" data-sales-tax-number-type=\"sg_gst\" value=\"SG\">Singapore</option>\n                                                    <option data-country-id=\"SX\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SX\">Sint Maarten</option>\n                                                    <option data-country-id=\"SK\" data-country-marketing-consent=\"false\" data-vat-prefix=\"SK\" data-vat-example=\"SK1234567890\" data-vat-local-lang=\"IČ DPH\" data-enable-sales-tax-number=\"false\" value=\"SK\">Slovakia</option>\n                                                    <option data-country-id=\"SI\" data-country-marketing-consent=\"false\" data-vat-prefix=\"SI\" data-vat-example=\"SI12345678\" data-vat-local-lang=\"ID za DDV\" data-enable-sales-tax-number=\"false\" value=\"SI\">Slovenia</option>\n                                                    <option data-country-id=\"SB\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SB\">Solomon Islands</option>\n                                                    <option data-country-id=\"SO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SO\">Somalia</option>\n                                                    <option data-country-id=\"ZA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ZA\">South Africa</option>\n                                                    <option data-country-id=\"GS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"GS\">South Georgia and the South Sandwich Islands</option>\n                                                    <option data-country-id=\"SS\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SS\">South Sudan</option>\n                                                    <option data-country-id=\"ES\" data-country-marketing-consent=\"false\" data-vat-prefix=\"ES\" data-vat-example=\"ES12345678X\" data-vat-local-lang=\"NIF / CIF\" data-enable-sales-tax-number=\"false\" value=\"ES\">Spain</option>\n                                                    <option data-country-id=\"LK\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"LK\">Sri Lanka</option>\n                                                    <option data-country-id=\"SD\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SD\">Sudan</option>\n                                                    <option data-country-id=\"SR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SR\">Suriname</option>\n                                                    <option data-country-id=\"SJ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SJ\">Svalbard and Jan Mayen</option>\n                                                    <option data-country-id=\"SZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"SZ\">Swaziland</option>\n                                                    <option data-country-id=\"SE\" data-country-marketing-consent=\"false\" data-vat-prefix=\"SE\" data-vat-example=\"SE123456789101\" data-vat-local-lang=\"Momsnr.\" data-enable-sales-tax-number=\"false\" value=\"SE\">Sweden</option>\n                                                    <option data-country-id=\"CH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"CH\">Switzerland</option>\n                                                    <option data-country-id=\"TW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TW\">Taiwan</option>\n                                                    <option data-country-id=\"TJ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TJ\">Tajikistan</option>\n                                                    <option data-country-id=\"TZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TZ\">Tanzania, United Republic of</option>\n                                                    <option data-country-id=\"TH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TH\">Thailand</option>\n                                                    <option data-country-id=\"TL\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TL\">Timor-Leste</option>\n                                                    <option data-country-id=\"TG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TG\">Togo</option>\n                                                    <option data-country-id=\"TK\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TK\">Tokelau</option>\n                                                    <option data-country-id=\"TO\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TO\">Tonga</option>\n                                                    <option data-country-id=\"TT\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TT\">Trinidad and Tobago</option>\n                                                    <option data-country-id=\"TN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TN\">Tunisia</option>\n                                                    <option data-country-id=\"TR\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TR\">Turkey</option>\n                                                    <option data-country-id=\"TM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TM\">Turkmenistan</option>\n                                                    <option data-country-id=\"TC\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TC\">Turks and Caicos Islands</option>\n                                                    <option data-country-id=\"TV\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"TV\">Tuvalu</option>\n                                                    <option data-country-id=\"UG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"UG\">Uganda</option>\n                                                    <option data-country-id=\"UA\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"UA\">Ukraine</option>\n                                                    <option data-country-id=\"AE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AE\">United Arab Emirates</option>\n                                                    <option data-country-id=\"GB\" data-country-marketing-consent=\"false\" data-vat-prefix=\"GB\" data-vat-example=\"GB123456789\" data-enable-sales-tax-number=\"false\" value=\"GB\">United Kingdom</option>\n                                                    <option data-country-id=\"US\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" data-states=\"Alabama|Alaska|American Samoa|Arizona|Arkansas|California|Colorado|Connecticut|Delaware|District of Columbia|Florida|Georgia|Hawaii|Idaho|Illinois|Indianav|Iowa|Kansas|Kentucky|Louisiana|Maine|Maryland|Massachusetts|Michigan|Minnesota|Mississippi|Missouri|Montana|Nebraska|Nevada|New Hampshire|New Jersey|New Mexico|New York|North Carolina|North Dakota|Ohio|Oklahoma|Oregon|Pennsylvania|Rhode Island|South Carolina|South Dakota|Tennessee|Texas|Utah|Vermont|Virginia|Washington|West Virginia|Wisconsin|Wyoming\" value=\"US\">United States</option>\n                                                    <option data-country-id=\"UM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"UM\">United States Minor Outlying Islands</option>\n                                                    <option data-country-id=\"UY\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"UY\">Uruguay</option>\n                                                    <option data-country-id=\"UZ\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"UZ\">Uzbekistan</option>\n                                                    <option data-country-id=\"VU\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"VU\">Vanuatu</option>\n                                                    <option data-country-id=\"VE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"VE\">Venezuela, Bolivarian Republic of</option>\n                                                    <option data-country-id=\"VN\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"VN\">Vietnam</option>\n                                                    <option data-country-id=\"VG\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"VG\">Virgin Islands, British</option>\n                                                    <option data-country-id=\"VI\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"VI\">Virgin Islands, U.S.</option>\n                                                    <option data-country-id=\"WF\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"WF\">Wallis and Futuna</option>\n                                                    <option data-country-id=\"EH\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"EH\">Western Sahara</option>\n                                                    <option data-country-id=\"YE\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"YE\">Yemen</option>\n                                                    <option data-country-id=\"ZM\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ZM\">Zambia</option>\n                                                    <option data-country-id=\"ZW\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"ZW\">Zimbabwe</option>\n                                                    <option data-country-id=\"AX\" data-country-marketing-consent=\"true\" data-enable-sales-tax-number=\"false\" value=\"AX\">Åland Islands</option>\n                                                </optgroup>\n                                            </select>\n                                        </div>\n                                        <div class=\"form-field__error form-field__error--required\">required</div>\n                                    </div>\n                                </div>\n                            \n                                <div class=\"form-grid__half\">\n                                    <div class=\"form-field \" data-field=\"emailAddress\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"emailAddress\" class=\"input form-field__input input--email required\" data-group=\"tax\" name=\"emailAddress\" type=\"email\" required=\"\">\n                                            <label for=\"emailAddress\" class=\"form-field__label form-field__label--dynamic\">Email address</label>\n                                        </div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">Email address is required</div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--email\">Invalid Email</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"form-grid\">\n                            \n                                <div class=\"form-grid__half\">\n                                    <div class=\"form-field\" data-field=\"company\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"company\" class=\"input form-field__input input--text form-field__input--word-required\" data-group=\"tax\" name=\"company\" type=\"text\" required=\"\">\n                                            <label for=\"company\" class=\"form-field__label form-field__label--dynamic\">Company name</label>\n                                        </div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">Company name is required</div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--word\">Invalid Company name</div>\n                                    </div>\n                                </div>\n                        \n                                <div class=\"form-grid__half\">\n                                    <div class=\"form-field\" data-field=\"taxField\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"taxField\" class=\"input form-field__input input--text\" name=\"taxField\" data-group=\"tax\" type=\"text\" placeholder=\"\">\n                                            <label id=\"taxFieldL\" for=\"taxField\" class=\"form-field__label form-field__label--dynamic\">TAX ID</label>\n                                        </div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">VAT is required</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"form-grid\">\n                                <div class=\"form-grid__whole\">\n                                    <div class=\"form-field\" data-field=\"addr1Field\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"addr1Field\" class=\"input form-field__input input--text required\" name=\"addr1Field\" data-group=\"tax\" type=\"text\">\n                                            <label for=\"addr1Field\" class=\"form-field__label form-field__label--dynamic required\">Address line 1 *</label>\n                                        </div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">Address line 1 is required</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"form-grid\">\n                                <div class=\"form-grid__whole\">\n                                    <div class=\"form-field\" data-field=\"addr2Field\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"addr2Field\" class=\"input form-field__input input--text\" data-group=\"tax\" name=\"addr2Field\" type=\"text\">\n                                            <label for=\"addr2Field\" class=\"form-field__label form-field__label--dynamic\">Address line 2 </label>\n                                        </div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">Address line 2 is required</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"form-grid\" style=\"display: none;\">\n                                <div class=\"form-grid__whole\">\n                                    <div class=\"form-field form-field--has-value\" data-field=\"stateField\">\n                                    <div class=\"form-field__item form-field__item--text\">\n                                        <select name=\"stateField\" id=\"stateField\" class=\"input form-field__input input--select\" data-group=\"tax\"></select>\n                                        <!-- <input id=\"stateField\" class=\"input form-field__input input--text\" name=\"stateField\" type=\"text\"> -->\n                                        <label for=\"stateField\" class=\"form-field__label form-field__label--dynamic\">State / Province / Region</label>\n                                    </div>\n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">State / Province / Region is required</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"form-grid\">       \n                                <div class=\"form-grid__third\">\n                                    <div class=\"form-field\" data-field=\"cityField\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"cityField\" class=\"input form-field__input input--text form-field__input--word-required required\" data-group=\"tax\" name=\"cityField\" type=\"text\" required=\"\">\n                                            <label for=\"cityField\" class=\"form-field__label form-field__label--dynamic\">City</label>\n                                        </div>\n                                        <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">City is required</div>\n                                    </div>\n                                </div>\n                            \n                                <div class=\"form-grid__third\">\n                                    <div class=\"form-field \" data-field=\"zipField\">\n                                        <div class=\"form-field__item form-field__item--text\">\n                                            <input id=\"zipField\" class=\"input form-field__input input--zip\" data-group=\"tax\" name=\"zipField\" type=\"text\" required=\"\">\n                                            <label for=\"zipField\" class=\"form-field__label form-field__label--dynamic\">Zip / Postal Code</label>\n                                        </div>\n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">Zip / Postal Code is required</div>\n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--zip\">Invalid Zip code</div>\n                                </div>\n                            </div>\n                            \n                            <div class=\"form-grid__third\">\n                                <div class=\"form-field \" data-field=\"coupField\">\n                                    <div class=\"form-field__item form-field__item--text\">\n                                        <input id=\"coupField\" class=\"input form-field__input input--coup\" data-group=\"tax\" name=\"coupField\" type=\"text\" maxlength=\"20\" required=\"\">\n                                        <label for=\"coupField\" class=\"form-field__label form-field__label--dynamic\">Discount Coupon</label>\n                                    </div>\n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--coup0\">Invalid coupon code</div>\n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" style=\"color:inherit;\" class=\"form-field__error form-field__error--coup1\"><span id=\"disf\"></span> discount applied</div>\n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--coup2\">This coupon has expired</div> \n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--coup3\">Not applicable or already used</div> \n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--coup4\">This coupon is yours</div> \n                                    <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--coup5\">Same vendor coupons not allowed</div> \n                                </div>\n                            </div> \n                        </div>\n                    </div>\n\n                    <div class=\"form-grid form-grid-check\">\n                        <div class=\"form-grid__whole\">\n                            <div class=\"form-field\" data-field=\"taxInvoice\">\n                                <div class=\"form-field__item form-field__item--option-group\">\n                                    <label for=\"taxInvoice\" class=\"option-group-item option-group-item--block\">\n                                    <input id=\"taxInvoice\" value=\"Y\" type=\"checkbox\" class=\"input input--checkbox field-gdpr\" name=\"taxInvoice\" required=\"\">\n                                    ${ __html('I need TAX invoice.') }\n                                    </label>\n                                </div>\n                                <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">Please check the box to continue.</div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"form-grid form-grid-check\">\n                        <div class=\"form-grid__whole\">\n                            <div class=\"form-field\" data-field=\"optField\">\n                                <div class=\"form-field__item form-field__item--option-group\">\n                                    <label for=\"optField\" class=\"option-group-item option-group-item--block\">\n                                    <input id=\"optField\" value=\"Y\" type=\"checkbox\" class=\"input input--checkbox field-gdpr\" name=\"optField\" required=\"\">\n                                    ${ __html('I agree to the Terms of Service.') }\n                                    </label>\n                                </div>\n                                <div aria-live=\"assertive\" aria-relevant=\"additions removals\" class=\"form-field__error form-field__error--required\">Please check the box to continue.</div>\n                            </div>\n                        </div>\n                    </div>\n                        \n                    <button type=\"button\" class=\"btn btn-payment\" data-cont=\"Continue\" data-amount=\"100\" data-amountF=\"100,00\" ><span class=\"btxt\">${ document.querySelector(\".btn-checkout\").innerHTML }</span><span class=\"ld blod\" style=\"color:#fff\"></span></button>\n                        \n                </div>\n            </div>\n            `;\n\n            d.addEventListener(\"scroll\", function(e){  e.preventDefault(); return false; });\n\n            // close kbox\n            d.querySelector(\".kbox-close-small\").addEventListener('click', function(e) {\n\n                d.querySelector('html').classList.remove(\"ns\");\n                d.querySelector(\".kbox-container\").remove();\n            });\n\n            // make payment\n            let allow = false;\n            d.querySelector(\".btn-payment\").addEventListener('click', function(e) {\n\n                // validate input\n                allow = true;\n                for (const el of d.querySelectorAll(\".form-field__input\")) {\n\n                    if(el.classList.contains('required') && el.value.length == 0){\n\n                        if(el.dataset.group == \"tax\"){\n\n                            if(document.querySelector(\"#taxInvoice\").checked){\n\n                                allow = false;\n                                el.parentNode.parentNode.classList.add(\"form-field--has-error\");\n                                el.parentNode.parentNode.classList.add(\"form-field--has-required-error\");\n                            }\n                        }else{\n\n                            allow = false;\n                            el.parentNode.parentNode.classList.add(\"form-field--has-error\");\n                            el.parentNode.parentNode.classList.add(\"form-field--has-required-error\");\n                        }\n                    }else{\n\n                        el.parentNode.parentNode.classList.remove(\"form-field--has-error\");\n                        el.parentNode.parentNode.classList.remove(\"form-field--has-required-error\");\n\n                        if(el.classList.contains('input--email')){\n\n                            console.log(\"validating emails\");\n                            if(!validateEmail(el.value.trim())){\n                                \n                                allow = false;\n                                el.parentNode.parentNode.classList.add(\"form-field--has-error\");\n                                el.parentNode.parentNode.classList.add(\"form-field--has-required-error\");\n                                el.parentNode.parentNode.querySelector('.form-field__error').innerHTML = __html('Wrong email format');\n                            }\n                        }\n                    }\n                }\n\n                // validate email addresse\n        \n                // scroll into view\n                if(!allow){ document.getElementById('bd').scrollIntoView(); }\n\n                // gdpr consent\n                let gdpr = d.querySelector(\"#optField\");\n                if(!gdpr.checked){\n                    allow = false;\n                    gdpr.parentNode.parentNode.parentNode.classList.add(\"form-field--has-required-error\");\n                }else{\n                    gdpr.parentNode.parentNode.parentNode.classList.remove(\"form-field--has-required-error\");\n                }\n\n                if(allow){\n\n                    d.querySelector(\".blod\").style.display = 'inline-flex';\n                    // d.querySelector(\".btxt\").style.display = 'none';\n                    setTimeout(function(){\n\n                        // struct data\n                        self.state.checkout = {\n                            fname: document.querySelector(\"#firstName\").value.trim(),\n                            lname: document.querySelector(\"#lastName\").value.trim(),\n                            email: document.querySelector(\"#emailAddress\").value.trim(),\n                            addr1: document.querySelector(\"#addr1Field\").value.trim(),\n                            addr2: document.querySelector(\"#addr2Field\").value.trim(),\n                            city: document.querySelector(\"#cityField\").value.trim(),\n                            postal: document.querySelector(\"#zipField\").value.trim(),\n                            company: document.querySelector(\"#company\").value.trim(),\n                            tax: document.querySelector(\"#taxField\").value.trim(),\n                            coup: document.querySelector(\"#coupField\").value.trim(),\n                            tax_invoice: document.querySelector(\"#taxInvoice\").checked,\n                            holders: [],\n                        };\n\n                        [...document.querySelectorAll(\".holder-cont .form-grid\")].forEach(form => {\n\n                            let holder = { name: form.querySelector('[name=\"ticketName\"]').value.trim(), email: form.querySelector('[name=\"ticketEmail\"]').value.trim(), phone: form.querySelector('[name=\"ticketPhone\"]').value.trim() }\n                            self.state.checkout.holders.push(holder);\n                        })\n\n                        console.log(self.state.checkout);\n                        // return;\n\n                        self.initPayment();\n\n                    }, 1200); \n                }\n\n                e.preventDefault(); \n            });\n\n            // init input fields\n            self.initFields();\n        });\n    }\n\n    initFields = () => {\n\n        let d = document;\n        const inp = d.querySelectorAll(\".form-field__input\");\n        for (const i of inp) {\n  \n          i.addEventListener(\"focus\", function(e) {\n  \n            this.parentNode.parentNode.classList.add(\"form-field--has-focus\");\n          });\n        }\n  \n        for (const i of inp) {\n  \n          i.addEventListener(\"focusout\", function(e) {\n  \n            this.parentNode.parentNode.classList.remove(\"form-field--has-focus\");\n          });\n        }\n  \n        for (const i of inp) {\n  \n          i.addEventListener(\"change\", function(e) {\n  \n            if (this.value.length == 0) {\n              this.parentNode.parentNode.classList.remove(\"form-field--has-value\");\n            } else {\n              this.parentNode.parentNode.classList.add(\"form-field--has-value\");\n            }\n          });\n        }\n  \n        // country change listener\n        d.querySelector(\"#countryField\").addEventListener(\"change\", function(e) {\n  \n          // states selector\n          let output = '<option data-tax-number=\"false\" data-val=\"\" value=\"\">Please select</option>';\n          let option = this.options[this.selectedIndex];\n          let sf = d.querySelector(\"#stateField\");\n          if(typeof(option.dataset.states) !== 'undefined'){\n            \n            let arr = option.dataset.states.split(\"|\");\n            for(const s in arr){\n  \n              let opt = arr[s].split(\":\");\n              output += '<option data-tax-number=\"'+((opt.length>2)?true:false)+'\" data-val=\"'+arr[s]+'\" value=\"'+opt[0]+'\">'+opt[0]+'</option>';\n            }\n            sf.classList.add(\"required\");\n            sf.parentNode.parentNode.parentNode.parentNode.style.display = 'block';\n          }else{\n            sf.classList.remove(\"required\");\n            sf.parentNode.parentNode.parentNode.parentNode.style.display = 'none';\n          }\n          sf.innerHTML = output;\n  \n          // defaults\n          d.querySelector(\"#taxFieldL\").innerHTML = \"Tax ID\";\n          d.querySelector(\"#taxField\").setAttribute(\"placeholder\", \"\");\n  \n          // vat id\n          if(typeof(option.dataset.vatExample) !== 'undefined'){\n            d.querySelector(\"#taxFieldL\").innerHTML = 'EU VAT Identification Number';\n            d.querySelector(\"#taxField\").setAttribute(\"placeholder\", option.dataset.vatExample);\n          }\n  \n          // sales tax id\n          if(typeof(option.dataset.salesTaxNumberLabel) !== 'undefined'){\n            d.querySelector(\"#taxFieldL\").innerHTML = option.dataset.salesTaxNumberLabel;\n            d.querySelector(\"#taxField\").setAttribute(\"placeholder\", option.dataset.salesTaxNumberExample);\n          }\n        });\n  \n        // coupon change listener\n        let timer = null;\n        d.querySelector(\"#coupField\").addEventListener(\"keyup\", function(e) {\n  \n          // this.value = this.value.toUpperCase();\n          let coupon = this.value;\n          setCookie(\"coupon\", \" \", -1);\n          if (timer) { clearTimeout(timer); timer = null; }\n          timer = setTimeout(function(){ getCoupon(coupon); }, 2500);\n        });\n\n        // tax invoice listener\n        onClick(\"#taxInvoice\", e => {\n\n            // e.preventDefault();\n            if(e.currentTarget.checked){\n\n                d.querySelector(\".tax-cont\").classList.remove('dn');\n                d.querySelector(\".holder-cont\").style.marginBottom = \"\";\n                \n            }else{\n\n                d.querySelector(\".tax-cont\").classList.add('dn');\n                this.adjustHeight();\n            }\n        });\n        \n        // ticketEmail\n\n        this.adjustHeight();\n    }\n\n    adjustHeight = () => {\n\n        let d = document;\n\n        let bodyWidth = d.querySelector(\"body\").clientWidth;\n        if(bodyWidth>900) d.querySelector('.popup-data').style.width = '600px';\n\n        // adjust bottom button ofset inside checkout modal\n        let qty = parseInt(d.querySelector(\".num\").value);\n        let maxHeight = parseInt(d.querySelector(\"#checkout-box\").clientHeight);\n        let ofst = 290 + qty*112;\n          \n        if(maxHeight>ofst){ d.querySelector(\".holder-cont\").style.marginBottom = (maxHeight-ofst) + 'px'; }\n    }\n\n    initPayment = () => {\n\n        let self = this, d = document;\n         \n        // block ui while loading\n        if(self.state.inQuery) return; self.state.inQuery = true;\n\n        // let query = {\n        //     checkout: {\n        //         type: \"stripe\",\n        //         test: getParam('test'),\n        //         data: self.state.data.event,\n        //         checkout: self.state.checkout,\n        //         email: self.state.checkout.holders[0].email,\n        //         title: document.querySelector(\"#listing-title\").innerHTML,\n        //         description: document.querySelector('meta[name=\"description\"]').content,\n        //         images: [\"https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com/S\"+self.state.data.event.sid+\"/event-\"+self.state.data.event._id+\"-1-250.jpeg?\"+self.state.data.event.updated],\n        //         amount: parseInt(parseFloat(document.querySelector('input[name=\"pack-group\"]:checked').dataset.price)*self.state.checkout.holders.length * 100),\n        //         currency: self.state.data.event.settings.currency ? self.state.data.event.settings.currency : \"USD\",\n        //         quantity: self.state.checkout.holders.length\n        //     }\n        // }\n        // console.log(query); return;\n\n        // do API query\n        fetch('https://api.checkout.app.kenzap.cloud', {\n            method: 'post',\n            headers: H(),\n            body: JSON.stringify({\n                query: {\n                    checkout: {\n                        type: \"stripe\",\n                        test: getParam('test'),\n                        url: window.location.href,\n                        // redirect: (new URL(window.location.href)).hostname,\n                        data: self.state.data.event,\n                        checkout: self.state.checkout,\n                        variation: document.querySelector('input[name=\"pack-group\"]:checked').dataset.box,\n                        email: self.state.checkout.holders[0].email,\n                        title: self.state.data.event.title + \" - \" + document.querySelector('input[name=\"pack-group\"]:checked').parentNode.querySelector(\".title\").innerHTML,\n                        description: self.state.data.event.sdesc,\n                        images: [\"https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com/S\"+self.state.data.event.sid+\"/event-\"+self.state.data.event._id+\"-1-250.jpeg?\"+self.state.data.event.updated],\n                        amount: parseInt(parseFloat(document.querySelector('input[name=\"pack-group\"]:checked').dataset.price) * 100),\n                        currency: self.state.data.event.settings.currency ? self.state.data.event.settings.currency : \"USD\",\n                        quantity: self.state.checkout.holders.length\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            self.state.inQuery = false;\n\n            d.querySelector(\".blod\").style.display = 'none';\n            // d.querySelector(\".btxt\").style.display = 'inline-flex';\n            \n            if(response.success){\n\n                this.state.payment_response = response;\n\n                window.location.href = response.checkout.stripe;\n            }else{\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n\n    }\n}","// dependencies\nimport { __attr, __html, attr, html, slugify, parseApiError, spaceID } from '@kenzap/k-cloud';\nimport { loadDependencies, getCookie, setCookie, getParam, priceFormat, CDN } from '../_/_helpers.js';\nimport { Checkout } from \"../_/_checkout.js\"\n\nclass kWKE7y{\n\n    // init class\n    constructor(data){\n        \n      this.state = {\n          firstLoad: true,\n          html: '',\n          data: {},\n          dpi: 0,\n          ajaxQueue: 0,\n          limit: 25,\n          responseKey: [],\n          modal: null,\n          modalCont: null,\n          editor: {},\n      };\n\n      // call render page when all dependencies are loaded\n      this.cb = () => {\n  \n        this.state.dpi += 1;\n\n        // console.log(this.state.dpi);\n\n        // execute after all dependencies loaded\n        if(this.state.dpi == 3){\n\n          // render table\n          this.render();\n\n          // listeners\n          this.listeners();\n        }\n      };\n\n      // cache data\n      this.data = data;\n      \n      // init container\n      this.html();\n\n      // get dependencies\n      this.dependencies();\n\n      // render section\n      this.load();\n    }\n\n    html = () => {\n\n        document.querySelector('#content').insertAdjacentHTML('beforeend', \n        `\n        <section id=\"${ attr(this.data.id) }\" class=\"kWKE7y ${ this.data.c.classes ? attr(this.data.c.classes) : '' }\" style=\"${ this.data.c.section };${ this.data.borderstyle.value ? '--borderStyle:'+this.data.borderstyle.value+'px;' : '' }\">\n            <div class=\"container\" style=\"${ this.data.c.container }\">\n  \n\n            </div>\n        </section>\n        `\n        );\n    }\n\n    load = () => {\n\n        let self = this;\n\n        let s = \"\";\n\n        // do API query\n        fetch(this.getAPI(), {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n                // 'Kenzap-Token': self.data.token.value,\n                'Kenzap-Sid': self.data.sid,\n            },\n            body: JSON.stringify({\n                query: {\n                    locale: {\n                        type:       'locale',\n                        id:         getCookie('lang')\n                    },\n                    event: {\n                        type:       'view-event',\n                        id:         getParam('id'),\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            if(response.success){\n\n                this.state.response = response; \n\n                this.cb();\n\n                // first load\n                this.state.firstLoad = false;\n\n            }else{\n\n                if(response.code == 400){\n\n                    document.querySelector('#' + this.data.id + ' .container').innerHTML = html('Please provide valid event id to load this page.');\n                    \n                    return;\n                }\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    }\n\n    // render class html\n    render = () => {\n\n      let event = this.state.response.event;\n\n      // set page title \n      document.title = this.state.response.event.title;\n      \n      // console.log(event);\n      \n      document.querySelector('#' + this.data.id + ' .container').innerHTML =\n        `\n        <div class=\"two-columns\">\n          <div class=\"content pl10\">\n              <ul id=\"lightSlider\">\n                  ${\n                      // https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com/S1000000/event-c9aa81de0d8ba4bd958c6d83e0c533ec8dce8d76-1-100x100.jpeg?1677091677\n                      event.img.map((img, i) => {\n\n                          return (img == true ?\n                          `\n                              <li data-thumb=\"${ CDN+'/S'+event.sid+'/event-'+event._id+'-'+(parseInt(i)+1)+'-250.jpeg?' + event.updated }\">\n                                  <img src=\"${ CDN+'/S'+event.sid+'/event-'+event._id+'-'+(parseInt(i)+1)+'-500.jpeg?' + event.updated }\" alt=\"\" width=\"550\" height=\"auto\" />\n                              </li>    \n                          ` : ``)                 \n\n                      }).join('')\n                  }\n\n              </ul>\n              <div class=\"social-holder\">\n                  <span class=\"title\">Share this listing:</span>\n                  <ul class=\"social-links\">\n                      <li>\n                          <a href=\"#fb\">\n                              <i class=\"fa fa-facebook-f\"></i>\n                          </a>\n                      </li>\n                      <li>\n                          <a href=\"#tw\">\n                              <i class=\"fa fa-twitter\"></i>\n                          </a>\n                      </li>\n                      <li>\n                          <a href=\"#ld\">\n                              <i class=\"fa fa-linkedin\"></i>\n                          </a>\n                      </li>\n                      <li>\n                          <a href=\"#em\">\n                              <i class=\"fa fa-envelope\"></i>\n                          </a> \n                      </li>\n                  </ul>\n              </div>\n          </div>\n          <aside class=\"aside\">\n              <h1 id=\"listing-title\">${ html( event.title ? event.title : \"\" ) }</h1>\n              <div class=\"meta\">\n                  <div class=\"object-img\">\n                      <img src=\"https://deetz.lastonestandingsg.com/assets/images/img-avatar.png\" alt=\"\">\n                  </div>\n                  <a href=\"${ html( event.vendor ? event.vendor.link : \"#\" ) }\" class=\"btn-chat\">\n                      <i class=\"fa fa-comment\"></i>\n                      ${ __html( 'Follow' ) }\n                  </a>\n                  <div class=\"text\">\n                      <strong class=\"title\">${ html( event.vendor ? event.vendor.name : \"\" ) }</strong>\n                      <div class=\"holder\">\n                          <div class=\"country-flag\">\n                              <img src=\"https://deetz.lastonestandingsg.com/assets/images/flag-sg.png\" alt=\"\">\n                          </div>\n                          <fieldset class=\"rating\">\n                              <input type=\"radio\" id=\"star5\" name=\"rating\" value=\"5\" checked />\n                              <label class = \"full\" for=\"star5\" title=\"Awesome - 5 stars\"></label>\n                              <input type=\"radio\" id=\"star4half\" name=\"rating\" value=\"4 and a half\"  checked />\n                              <label class=\"half\" for=\"star4half\" title=\"Pretty good - 4.5 stars\"></label>\n                              <input type=\"radio\" id=\"star4\" name=\"rating\" value=\"4\" />\n                              <label class = \"full\" for=\"star4\" title=\"Pretty good - 4 stars\"></label>\n                              <input type=\"radio\" id=\"star3half\" name=\"rating\" value=\"3 and a half\" />\n                              <label class=\"half\" for=\"star3half\" title=\"Meh - 3.5 stars\"></label>\n                              <input type=\"radio\" id=\"star3\" name=\"rating\" value=\"3\" />\n                              <label class = \"full\" for=\"star3\" title=\"Meh - 3 stars\"></label>\n                              <input type=\"radio\" id=\"star2half\" name=\"rating\" value=\"2 and a half\" />\n                              <label class=\"half\" for=\"star2half\" title=\"Kinda bad - 2.5 stars\"></label>\n                              <input type=\"radio\" id=\"star2\" name=\"rating\" value=\"2\" />\n                              <label class = \"full\" for=\"star2\" title=\"Kinda bad - 2 stars\"></label>\n                              <input type=\"radio\" id=\"star1half\" name=\"rating\" value=\"1 and a half\" />\n                              <label class=\"half\" for=\"star1half\" title=\"Meh - 1.5 stars\"></label>\n                              <input type=\"radio\" id=\"star1\" name=\"rating\" value=\"1\" />\n                              <label class = \"full\" for=\"star1\" title=\"Sucks big time - 1 star\"></label>\n                              <input type=\"radio\" id=\"starhalf\" name=\"rating\" value=\"half\" />\n                              <label class=\"half\" for=\"starhalf\" title=\"Sucks big time - 0.5 stars\"></label>\n                          </fieldset>\n                      </div>\n                  </div>\n              </div>\n              <form action=\"#\" class=\"\">\n                  <div class=\"package-area\">\n                      ${\n                          event.variations.map((box, i) => {\n\n                              return `\n\n                              <div class=\"box ${ box.type == 'hidden' ? 'dn':'' }\">\n                                  <input type=\"radio\" id=\"box${i}\" data-box=\"${i}\" data-price=\"${ box.price }\" data-soldout=\"${ box.type == 'soldout' ? 'soldout' : (parseInt(box.stock) - parseInt(box.booked ? box.booked : 0)) == 0 ? 'soldout' : '' }\" name=\"pack-group\" ${ i == 0 ? 'checked' : '' } >\n                                  <label for=\"box${i}\">\n                                      <span class=\"price\">${ priceFormat(event, box.price) }</span>\n                                      <strong class=\"title\">${ box.title }</strong>\n                                      ${ \n                                          box.type == 'soldout' ? `<p class=\"sold-out\" style=\"color:var(--baseColorA);\">${ __html('This package is sold out') }</p>` \n                                          : \n                                          (parseInt(box.stock) - parseInt(box.booked ? box.booked : 0)) < 10 \n                                          ?\n                                          `<p style=\"color:var(--baseColorA);\">${ __html('%1$ tickets left at this price', parseInt(box.stock) - parseInt(box.booked ? box.booked : 0)) } </p>`\n                                          :\n                                          `\n                                          `\n                                      }\n                                      <p>\n                                      <i class=\"fa fa-calendar\"></i>\n                                      &nbsp;${ new Date(event.eventbegins).toLocaleDateString() + \" \" + new Date(event.eventbegins).toLocaleTimeString().slice(0,5) }\n                                      </p>\n                                      <hr>\n                                      ${ box.features.split('\\n').map((feature) => {\n\n                                          return feature.length ? \n                                              `<ul class=\"skills\">\n                                                  <li>\n                                                    <svg width=\"18px\" height=\"13px\" viewBox=\"0 0 18 13\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n                                                    <!-- Generator: Sketch 63.1 (92452) - https://sketch.com -->\n                                                    <title>Tick-icon-white</title>\n                                                    <desc>Created with Sketch.</desc>\n                                                    <g id=\"Kenzap-Service-Page\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n                                                        <g id=\"Service-Desktop\" transform=\"translate(-1476.000000, -465.000000)\" fill=\"var(--baseColorA)\">\n                                                            <g id=\"SERVICE-DETAIL\" transform=\"translate(0.000000, 110.000000)\">\n                                                                <g id=\"Packages\" transform=\"translate(1173.000000, 60.000000)\">\n                                                                    <g id=\"Package\" transform=\"translate(4.000000, 260.000000)\">\n                                                                        <g id=\"01\">\n                                                                            <g id=\"Select\" transform=\"translate(293.000000, 26.000000)\">\n                                                                                <g id=\"Tick-icon-white\" transform=\"translate(6.000000, 9.000000)\">\n                                                                                    <g id=\"Tick-icon\">\n                                                                                        <path d=\"M17.7363944,0.259254149 C17.3849378,-0.0864180498 16.815126,-0.0864180498 16.463599,0.259254149 L5.68104971,10.8633833 L1.53641414,6.7873694 C1.18495754,6.4416972 0.615145733,6.44173177 0.263618819,6.7873694 C-0.0878729396,7.13300702 -0.0878729396,7.6933846 0.263618819,8.0390568 L5.04465205,12.7408625 C5.39600318,13.0865002 5.96623686,13.0862581 6.31744737,12.7408625 L17.7363944,1.51097612 C18.0878861,1.1653385 18.087851,0.604926348 17.7363944,0.259254149 Z\" id=\"Path\" fill-rule=\"nonzero\"></path>\n                                                                                    </g>\n                                                                                </g>\n                                                                            </g>\n                                                                        </g>\n                                                                    </g>\n                                                                </g>\n                                                            </g>\n                                                        </g>\n                                                    </g>\n                                                </svg>\n                                               ${ feature }</li>\n                                              </ul>\n                                              `\n                                              :\n                                              ` `\n                                              \n                                      }).join('') }\n                                  </label>\n                              </div>\n\n                              `;\n\n                          }).join('')\n                      }\n\n                      ${ event.variations.length == 0 ? `<div><br>${ __html('no available packages for sale.') }</div>` : '' }\n                  </div>\n                  <div class=\"qty-area \">\n                      <div class=\"holder\">\n                          <span class=\"title\">${ __html('qty:') }</span>\n                          <input type=\"number\" class=\"num\" id=\"1\" value=\"1\" min=\"1\" max=\"3\" />\n                          <button type=\"button\" id=\"add\" class=\"add\">+</button>\n                          <button type=\"button\" id=\"sub\" class=\"sub\">-</button>\n                      </div>\n                  </div>\n                  <button type=\"submit\" class=\"btn btn-checkout ${ event.variations.length == 0 ? 'dn' : '' }\" data-kbox data-cont=\"${ __html('Continue') }\" data-src=\"#checkout-box\" href=\"javascript:;\">${ __html('Continue') }</button>\n                  <div class=\"btn-area\">\n                      <button type=\"submit\" class=\"btn-wish\" data-add_wishlist=\"${ __attr('Add to favorites') }\" data-rem_wishlist=\"${ __attr('Remove from favorites') }\">\n                          <i class=\"fa fa-heart-o\"></i>\n                          ${ __html('Add to wishlist') }\n                      </button>\n                  </div>\n              </form>\n          </aside>\n        </div>\n\n        <div class=\"info-area\">\n            <div class=\"two-columns\">\n                <div class=\"content\">\n                    <hr>\n                    <ul class=\"tabset\">\n                        <li><a href=\"#tab1\" class=\"active\">${ __html('DESCRIPTION') }</a></li>\n                        <li class=\"dn\"><a href=\"#tab2\">${ __html('REVIEWS') }</a></li>\n                        <li class=\"dn\"><a href=\"#tab3\">${ __html('FAQS') }</a></li>\n                    </ul>\n                    <div class=\"tab-content\">\n                        <div id=\"tab1\">\n                        <div class=\"tab-text\">\n                        \n                            ${ event.ldesc ? event.ldesc : \"\" }\n\n                            <div class=\"event-map\">\n                                <iframe width=\"100%\" height=\"500\" id=\"gmap_canvas\" src=\"https://maps.google.com/maps?q=${ encodeURIComponent(event.eventlocation) }&t=&z=11&ie=UTF8&iwloc=&output=embed\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe>\n                            <div>\n                        </div>\n\n                        </div>\n                        <div id=\"tab2\" class=\"dn\">${ __html('REVIEWS tab') }</div>\n                        <div id=\"tab3\" class=\"dn\">>${ __html('FAQS tab') }</div>\n                    </div>\n                </div>\n                <aside class=\"aside\">\n                    &nbsp;\n                </aside>\n            </div>\n        </div>\n\n        <div id=\"checkout-box\" class=\"kbox saved-list\" >\n          <form action=\"#\">\n            <div class=\"popup-data\">\n                <div class=\"header\">\n                    <h2>Checkout</h2>\n                </div>\n                <div class=\"content-area\">\n                    <div class=\"content\">\n                        \n                    </div>\n                </div>\n            </div>\n            </form>\n            <button data-kbox-close=\"\" class=\"kbox-close-small\">×</button>\n        </div>\n      `;\n\n      // Instantiate EasyZoom instances\n      var $easyzoom = $('.easyzoom').easyZoom();\n\n      // Setup thumbnails example\n      var api1 = $easyzoom.filter('.easyzoom--with-thumbnails').data('easyZoom');\n\n      $('.thumbnails').on('click', 'a', function(e) {\n          var $this = $(this);\n\n          e.preventDefault();\n\n          // Use EasyZoom's `swap` method\n          api1.swap($this.data('standard'), $this.attr('href'));\n      });\n\n      // Setup toggles example\n      var api2 = $easyzoom.filter('.easyzoom--with-toggle').data('easyZoom');\n\n      $('.toggle').on('click', function() {\n          var $this = $(this);\n\n          if ($this.data(\"active\") === true) {\n          $this.text(\"Switch on\").data(\"active\", false);\n          api2.teardown();\n          } else {\n          $this.text(\"Switch off\").data(\"active\", true);\n          api2._init();\n          }\n      });\n  \n      $('#lightSlider').lightSlider({\n          gallery: true,\n          item: 1,\n          loop:true,\n          slideMargin: 30,\n          thumbItem: 5,\n          responsive : [\n              {\n                  breakpoint:767,\n                  settings: {\n                      thumbItem: 3,\n                      slideMargin: 40,\n                      }\n              },\n          ]\n      });\n      \n    }\n\n    // all listeners and events\n    listeners = () => {\n\n      let self = this;\n\n      let d = document;\n\n      // prevents listeners to be assigned twice\n      if(!self.state.firstLoad) return;\n\n      self.state.checkout = new Checkout(this.state.response, this.data.id);\n\n      // qty add\n      let qty = d.querySelector(\".qty-area .num\");\n      d.querySelector(\".add\").addEventListener('click', function(e) {\n          let n = parseInt(qty.value);\n          if (n < 300) { qty.value = n + 1 }\n          self.refreshPrice(true);\n      });\n\n      // qty deduct\n      d.querySelector(\".sub\").addEventListener('click', function(e) {\n          let n = parseInt(qty.value);\n          if (n > 1) { qty.value = n - 1 }\n          self.refreshPrice(true);\n      });\n\n      // boxes\n      let ll = d.querySelectorAll(\".box\"); \n      for (const l of ll){\n          l.addEventListener('click', function(e) {\n\n              let el = this;\n              setTimeout(function(){\n\n                  el.querySelector(\"input\").checked = true;\n\n                  self.refreshPrice(true);\n              },10);\n              e.preventDefault();\n          });\n      }\n\n      self.refreshPrice(true);\n\n      // add/remove wishlist\n      self.btnWishlistRef(false);\n      d.querySelector(\".btn-wish\").addEventListener(\"click\", function(e) { self.btnWishlistRef(true); e.preventDefault(); });\n\n      // share buttons\n      const links = d.querySelectorAll(\".social-links li a\");\n      for (const l of links){\n\n          l.addEventListener(\"click\", function(e) {\n\n              switch(this.getAttribute('href')){\n\n                  case '#fb':\n                      var fb = window.open(\"https://www.facebook.com/sharer/sharer.php?u=\"+window.location.href, \"pop\", \"width=600, height=400, scrollbars=no\");\n                  break;\n                  case '#tw':\n                      var fb = window.open(\"http://twitter.com/share?url=\"+window.location.href+\"&text=\"+d.title, \"pop\", \"width=600, height=400, scrollbars=no\");\n                  break;\n                  case '#ld':\n                      var fb = window.open(\"https://www.linkedin.com/sharing/share-offsite/?url=\"+window.location.href, \"pop\", \"width=600, height=400, scrollbars=no\");\n                  break;\n                  case '#em':\n                      window.location.href = \"mailto:?subject=\"+encodeURIComponent(d.title)+\"&body=\"+encodeURIComponent(\"Check this event \" + window.location.href);\n                  break;\n              }\n              return false;\n              e.preventDefault();\n          });\n      }\n    }\n\n    // refresh button state\n    btnWishlistRef = (revert) => {\n\n      let d = document;\n      let oidc = 'o'+this.state.response.event._id;\n      let temp = getCookie(\"favorites\");\n      if(revert){\n\n          if(!temp.includes(oidc)){\n              temp += oidc+\"|\";\n              setCookie(\"favorites\", temp, 100); \n              revert = true;\n          }else if(temp.includes(oidc)){\n              temp = temp.replace(oidc+\"|\", \"\");\n              setCookie(\"favorites\", temp, 100); \n              revert = false;\n          }\n      }else{\n          revert = temp.includes(oidc); \n      }\n\n      if(revert){\n          d.querySelector(\".btn-wish\").innerHTML = '<i class=\"fa fa-heart\"></i>'+d.querySelector(\".btn-wish\").dataset.rem_wishlist;\n      }else{\n          d.querySelector(\".btn-wish\").innerHTML = '<i class=\"fa fa-heart-o\"></i>'+d.querySelector(\".btn-wish\").dataset.add_wishlist;\n      }\n    }\n\n    refreshPrice = (t) => {\n\n      let d = document;\n      let pb = d.querySelector('input[name=\"pack-group\"]:checked');\n      if(!pb) return;\n\n      let qty = parseInt(d.querySelector(\".num\").value);\n      let price = pb.dataset.price*qty;\n      let btn = d.querySelector(\".btn-checkout\");\n      btn.setAttribute('data-price', price);\n      btn.innerHTML = btn.getAttribute('data-cont') + ' <span>(' + priceFormat(this.state.response.event, price) + ')</span>';\n      // btn.dataset.link = \"https://pay.kenzap.com/B\"+oid+\"P\"+pb.dataset.box+\"P\"+qty+\"/\";\n\n      // package variation\n      switch(t){\n          // normal package\n          case true: \n\n              d.querySelector(\".qty-area\").style.display = \"block\";\n          break;\n          // custom package\n          case false: \n\n              d.querySelector(\".qty-area\").style.display = \"none\";\n              return;\n          break;\n      }\n\n      // refreshOfferUrl();\n    }\n\n    doCheckout = (e) => {\n\n      e.preventDefault();\n    }\n\n    // sync html with data\n    cache = () => {\n\n      localStorage.setItem(this.id, JSON.stringify(this.state));\n    }\n\n    /**\n     * Parse start rating\n     * @public\n     * @param {Integer} i - for id \n     * @param {Integer} rating - amount of full stars\n     * @returns {Node} rendered HTML \n     */\n    stars = (i, rating) => {\n\n        // console.log(\"a\"+rating);\n        let output = '';\n        output += '\\\n        <fieldset class=\"rating\">\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>4.5 && rating<=5)?\"checked\":\"\")+' value=\"5\"><label class=\"full\" for=\"star5\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>4.0 && rating<=4.5)?\"checked\":\"\")+' value=\"4 and a half\"><label class=\"half\" for=\"star4half\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>3.5 && rating<=4.0)?\"checked\":\"\")+' value=\"4\"><label class=\"full\" for=\"star4\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>3.0 && rating<=3.5)?\"checked\":\"\")+' value=\"3 and a half\"><label class=\"half\" for=\"star3half\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>2.5 && rating<=3.0)?\"checked\":\"\")+' value=\"3\"><label class=\"full\" for=\"star3\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>2.0 && rating<=2.5)?\"checked\":\"\")+' value=\"2 and a half\"><label class=\"half\" for=\"star2half\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>1.5 && rating<=2.0)?\"checked\":\"\")+' value=\"2\"><label class=\"full\" for=\"star2\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>1.0 && rating<=1.5)?\"checked\":\"\")+' value=\"1 and a half\"><label class=\"half\" for=\"star1half\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>0.5 && rating<=1.0)?\"checked\":\"\")+' value=\"1\"><label class=\"full\" for=\"star1\" ></label>\\\n            <input type=\"radio\" name=\"'+i+'rrr\" '+((rating>0 && rating<=0.5)?\"checked\":\"\")+' value=\"half\"><label class=\"half\" for=\"starhalf\" ></label>\\\n        </fieldset>\\\n        ';\n        return output;\n    }\n\n    dependencies = () => {\n\n        let self = this;\n\n        // can not start rendering without jquery\n        loadDependencies('https://static.kenzap.com/libs/jquery-1.11.0.min.js', () => {\n  \n            loadDependencies('https://static.kenzap.com/libs/lightslider-1.1.5.css', self.cb);\n            loadDependencies('https://static.kenzap.com/libs/lightslider-1.1.5.js', self.cb);\n            loadDependencies('https://static.kenzap.com/libs/easyzoom-2.4.0.js', self.cb);\n        });\n    }\n\n    /**\n     * @name getAPI\n     * @description Returns API link\n     * @param {object} headers\n     */\n    getAPI = () => {\n\n        return window.location.host.indexOf(\"localhost\") == 0 ? \"https://api.myticket-dev.app.kenzap.cloud/\" : \"https://api.myticket.app.kenzap.cloud/\";\n    }\n}\n\nwindow.kWKE7y = kWKE7y;"],"names":["setCookie","getCookie","parseApiError","CDN","name","value","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","escape","cname","decodedCookie","decodeURIComponent","ca","split","i","length","c","charAt","substring","indexOf","getParam","p","urlParams","URLSearchParams","window","location","search","get","makeNumber","price","parseFloat","Math","round","validateEmail","email","test","priceFormat","_this","toFixed","settings","currency_symb_loc","currency_symb","loadDependencies","dep","cb","getElementById","call","t","slice","js","createElement","setAttribute","id","onload","onreadystatechange","readyState","body","appendChild","head","getElementsByTagName","css","rel","type","href","Checkout","data","cont","self","d","querySelector","addEventListener","e","preventDefault","dataset","src","box","outerHTML","pb","soldout","alert","__html","qty","parseInt","tickets","Array","fill","state","insertAdjacentHTML","classList","add","innerHTML","map","obj","join","remove","allow","querySelectorAll","el","contains","group","checked","parentNode","console","log","trim","scrollIntoView","gdpr","style","display","setTimeout","checkout","fname","lname","addr1","addr2","city","postal","company","tax","coup","tax_invoice","holders","forEach","form","holder","phone","push","initPayment","initFields","inp","output","option","options","selectedIndex","sf","states","arr","s","opt","vatExample","salesTaxNumberLabel","salesTaxNumberExample","timer","coupon","clearTimeout","getCoupon","onClick","currentTarget","marginBottom","adjustHeight","bodyWidth","clientWidth","width","maxHeight","clientHeight","ofst","inQuery","fetch","method","headers","H","JSON","stringify","query","url","event","variation","title","description","sdesc","images","sid","_id","updated","amount","currency","quantity","then","response","json","success","payment_response","stripe","error","init","kWKE7y","attr","classes","section","borderstyle","container","getAPI","locale","firstLoad","code","html","img","vendor","link","variations","stock","booked","eventbegins","toLocaleDateString","toLocaleTimeString","features","feature","__attr","ldesc","encodeURIComponent","eventlocation","$easyzoom","$","easyZoom","api1","filter","on","$this","swap","api2","text","teardown","_init","lightSlider","gallery","item","loop","slideMargin","thumbItem","responsive","breakpoint","n","refreshPrice","ll","l","btnWishlistRef","links","getAttribute","fb","open","revert","oidc","temp","includes","replace","rem_wishlist","add_wishlist","btn","localStorage","setItem","rating","host","dpi","ajaxQueue","limit","responseKey","modal","modalCont","editor","render","listeners","dependencies","load"],"mappings":"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"}