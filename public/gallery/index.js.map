{"version":3,"file":"index.js","sources":["../../node_modules/@kenzap/k-cloud/index.js","../../src/_/_helpers.js","../../src/gallery/index.js"],"sourcesContent":["/**\n * @name initHeader\n * @description Initiates Kenzap Cloud extension header and related scripts. Verifies user sessions, handles SSO, does cloud space navigation, initializes i18n localization. \n * @param {object} response\n */\nexport const initHeader = (response) => {\n\n    // cache header from backend\n    if(response.header) localStorage.setItem('header', response.header);\n  \n    // load header to html if not present\n    if(!document.querySelector(\"#k-script\")){\n  \n        let child = document.createElement('div');\n        child.innerHTML = localStorage.getItem('header');\n        child = child.firstChild;\n        document.body.prepend(child);\n  \n        // run header scripts\n        Function(document.querySelector(\"#k-script\").innerHTML).call('test');\n    }\n  \n    // load locales if present\n    if(response.locale) window.i18n.init(response.locale); \n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __init = (locale) => {\n\n    if(typeof locale !== 'object' || locale === null) return;\n\n    if(typeof window.i18n === 'undefined') window.i18n = {};\n\n    if(typeof window.i18n.state === 'undefined') window.i18n.state = { locale: {} };\n   \n    window.i18n.state.locale = locale;\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nexport const __ = (text, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n\n\n    return match(window.i18n.state.locale.values[text], p);\n}\n\n/*\n * Translates string based on preloaded i18n locale values.\n * \n * @param text {String} text to translate\n * @param cb {Function} callback function to escape text variable\n * @param p {String} list of parameters, to be replaced with %1$, %2$..\n * @returns {String} - text\n */\nconst __esc = (text, cb, ...p) => {\n\n    let match = (input, pa) => {\n\n        pa.forEach((p, i) => { input = input.replace('%'+(i+1)+'$', p); }); \n        \n        return input;\n    }\n\n    if(typeof window.i18n === 'undefined') return match(text, p);\n    if(window.i18n.state.locale.values[text] === undefined) return match(text, p);\n\n    return match(cb(window.i18n.state.locale.values[text]), p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const attr = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __attr = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Removes special characters `<`, `>`, `\"`, `'` from the link.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const src = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[<>'\"]/g, tag => (\n        {\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n    \n}\n\n/*\n * Converts special characters `<`, `>`, `\"`, `'` from the link and does translation\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __src = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[<>'\"]/g, tag => (\n            {\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities.\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const html = (text) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    return text.replace(/[&<>'\"]/g, tag => (\n        {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            \"'\": '&apos;',\n            '\"': '&quot;'\n        } [tag]));\n}\n\n/*\n * Converts special characters `&`, `<`, `>`, `\"`, `'` to HTML entities and does translations\n * \n * @param text {String}  text\n * @returns {String} - text\n */\nexport const __html = (text, ...p) => {\n\n    text = String(text);\n\n    if(text.length === 0){\n\t\treturn '';\n\t}\n\n    let cb = (text) => {\n\n        return text.replace(/[&<>'\"]/g, tag => (\n            {\n                '&': '&amp;',\n                '<': '&lt;',\n                '>': '&gt;',\n                \"'\": '&apos;',\n                '\"': '&quot;'\n            } [tag]));\n    }\n\n    return __esc(text, cb, ...p);\n}\n\n/**\n * @name showLoader\n * @description Initiates full screen three dots loader.\n */\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n/**\n * @name hideLoader\n * @description Removes full screen three dots loader.\n */\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n/**\n * @name initFooter\n * @description Removes full screen three dots loader.\n * @param {string} left - Text or html code to be present on the left bottom side of screen\n * @param {string} right - Text or html code to be present on the left bottom side of screen\n */\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name link\n * @description Handles Cloud navigation links between extensions and its pages. Takes care of custom url parameters.\n * @param {string} slug - Any inbound link\n * \n * @returns {string} link - Returns original link with kenzp cloud space ID identifier.\n */\nexport const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\n/**\n * @name getSiteId\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name spaceID\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const spaceID = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.cloud subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/;domain=.kenzap.cloud\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name checkHeader\n * @description This function tracks UI updates, creates header version checksum and compares it after every page reload\n * @param {object} object - API response.\n */\n export const checkHeader = () => {\n\n    let version = (localStorage.hasOwnProperty('header') && localStorage.hasOwnProperty('header-version')) ? localStorage.getItem('header-version') : 0;\n    let check = window.location.hostname + '/' + spaceID() + '/' + getCookie('locale');\n    if(check != getCookie('check')){ version = 0; console.log('refresh'); }\n    \n    setCookie('check', check, 5);\n\n    return version\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries.\n * @param {object} headers\n */\n export const H = () => {\n\n    return {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n        'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n        'Kenzap-Header': checkHeader(),\n        'Kenzap-Token': getCookie('kenzap_token'),\n        'Kenzap-Sid': spaceID()\n    }\n}\n\n/**\n * @name headers\n * @description Default headers object for all Kenzap Cloud fetch queries. \n * @param {object} headers\n * @deprecated\n */\n export const headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n    'Kenzap-Locale': getCookie('locale') ? getCookie('locale') : \"en\",\n    'Kenzap-Header': checkHeader(),\n    'Kenzap-Token': getCookie('kenzap_token'),\n    'Kenzap-Sid': spaceID(),\n}\n\n/**\n * @name parseApiError\n * @description Set default logics for different API Error responses.\n * @param {object} object - API response.\n */\n export const parseApiError = (data) => {\n\n    // outout to frontend console\n    console.log(data);\n\n    // unstructured failure\n    if(isNaN(data.code)){\n    \n        // structure failure data\n        let log = data;\n        try{ log = JSON.stringify(log); }catch(e){ }\n\n        let params = new URLSearchParams();\n        params.append(\"cmd\", \"report\");\n        params.append(\"sid\", spaceID());\n        params.append(\"token\", getCookie('kenzap_token'));\n        params.append(\"data\", log);\n        \n        // report error\n        fetch('https://api-v1.kenzap.cloud/error/', { method: 'post', headers: { 'Accept': 'application/json', 'Content-type': 'application/x-www-form-urlencoded', }, body: params });\n\n        alert('Can not connect to Kenzap Cloud');  \n        return;\n    }\n    \n    // handle cloud error codes\n    switch(data.code){\n\n        // unauthorized\n        case 401:\n\n            // dev mode\n            if(window.location.href.indexOf('localhost')!=-1){ \n\n                alert(data.reason); \n                return; \n            }\n\n            // production mode\n            location.href=\"https://auth.kenzap.com/?app=65432108792785&redirect=\"+window.location.href; break;\n        \n        // something else\n        default:\n\n            alert(data.reason); \n            break;\n    }\n}\n\n/**\n * @name initBreadcrumbs\n * @description Render ui breadcrumbs.\n * @param {array} data - List of link objects containing link text and url. If url is missing then renders breadcrumb as static text. Requires html holder with .bc class.\n */\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * @name onClick\n * @description One row click event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onClick = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n/**\n * @name onKeyUp\n * @description One row key up event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\n/**\n * @name onChange\n * @description One row change event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onChange = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n/**\n * @name loadScript\n * @description Asynchronous script loader function.\n * @param {string} url - HTML selector, id, class, etc.\n * @param {string} cb - callback function fired immediately after script is loaded.\n */\n export const loadScript = (url, cb) => {\n\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * @name simulateClick\n * @description Trigger on click event without user interaction.\n * @param {string} elem - HTML selector, id, class, etc.\n */\n export const simulateClick = (elem) => {\n\n\t// create our event (with options)\n\tlet evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\n\t// if cancelled, don't dispatch the event\n\t!elem.dispatchEvent(evt);\n};\n\n/**\n * Create a web friendly URL slug from a string.\n *\n * Requires XRegExp (http://xregexp.com) with unicode add-ons for UTF-8 support.\n *\n * Although supported, transliteration is discouraged because\n *     1) most web browsers support UTF-8 characters in URLs\n *     2) transliteration causes a loss of information\n *\n * @author Sean Murphy <sean@iamseanmurphy.com>\n * @copyright Copyright 2012 Sean Murphy. All rights reserved.\n * @license http://creativecommons.org/publicdomain/zero/1.0/\n *\n * @param string s\n * @param object opt\n * @return string\n */\n export const slugify = (s, opt) => {\n\n\ts = String(s);\n\topt = Object(opt);\n\t\n\tvar defaults = {\n\t\t'delimiter': '-',\n\t\t'limit': undefined,\n\t\t'lowercase': true,\n\t\t'replacements': {},\n\t\t'transliterate': (typeof(XRegExp) === 'undefined') ? true : false\n\t};\n\t\n\t// Merge options\n\tfor (var k in defaults) {\n\t\tif (!opt.hasOwnProperty(k)) {\n\t\t\topt[k] = defaults[k];\n\t\t}\n\t}\n\t\n\tvar char_map = {\n\t\t// Latin\n\t\t'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 'Å': 'A', 'Æ': 'AE', 'Ç': 'C', \n\t\t'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 'Ï': 'I', \n\t\t'Ð': 'D', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Å': 'O', \n\t\t'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 'Û': 'U', 'Ü': 'U', 'Å°': 'U', 'Ý': 'Y', 'Þ': 'TH', \n\t\t'ß': 'ss', \n\t\t'à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 'å': 'a', 'æ': 'ae', 'ç': 'c', \n\t\t'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 'ï': 'i', \n\t\t'ð': 'd', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'Å': 'o', \n\t\t'ø': 'o', 'ù': 'u', 'ú': 'u', 'û': 'u', 'ü': 'u', 'Å±': 'u', 'ý': 'y', 'þ': 'th', \n\t\t'ÿ': 'y',\n\n\t\t// Latin symbols\n\t\t'©': '(c)',\n\n\t\t// Greek\n\t\t'Α': 'A', 'Β': 'B', 'Γ': 'G', 'Δ': 'D', 'Ε': 'E', 'Ζ': 'Z', 'Η': 'H', 'Θ': '8',\n\t\t'Ι': 'I', 'Κ': 'K', 'Λ': 'L', 'Μ': 'M', 'Ν': 'N', 'Ξ': '3', 'Ο': 'O', 'Π': 'P',\n\t\t'Ρ': 'R', 'Σ': 'S', 'Τ': 'T', 'Υ': 'Y', 'Φ': 'F', 'Χ': 'X', 'Ψ': 'PS', 'Ω': 'W',\n\t\t'Î': 'A', 'Î': 'E', 'Î': 'I', 'Î': 'O', 'Î': 'Y', 'Î': 'H', 'Î': 'W', 'Îª': 'I',\n\t\t'Î«': 'Y',\n\t\t'α': 'a', 'β': 'b', 'γ': 'g', 'δ': 'd', 'ε': 'e', 'ζ': 'z', 'η': 'h', 'θ': '8',\n\t\t'ι': 'i', 'κ': 'k', 'λ': 'l', 'μ': 'm', 'ν': 'n', 'ξ': '3', 'ο': 'o', 'π': 'p',\n\t\t'ρ': 'r', 'σ': 's', 'τ': 't', 'υ': 'y', 'φ': 'f', 'χ': 'x', 'ψ': 'ps', 'ω': 'w',\n\t\t'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'Ï': 'o', 'Ï': 'y', 'Î®': 'h', 'Ï': 'w', 'ς': 's',\n\t\t'Ï': 'i', 'Î°': 'y', 'Ï': 'y', 'Î': 'i',\n\n\t\t// Turkish\n\t\t'Å': 'S', 'Ä°': 'I', 'Ç': 'C', 'Ü': 'U', 'Ö': 'O', 'Ä': 'G',\n\t\t'Å': 's', 'Ä±': 'i', 'ç': 'c', 'ü': 'u', 'ö': 'o', 'Ä': 'g', \n\n\t\t// Russian\n\t\t'Ð': 'A', 'Ð': 'B', 'Ð': 'V', 'Ð': 'G', 'Ð': 'D', 'Ð': 'E', 'Ð': 'Yo', 'Ð': 'Zh',\n\t\t'Ð': 'Z', 'Ð': 'I', 'Ð': 'J', 'Ð': 'K', 'Ð': 'L', 'Ð': 'M', 'Ð': 'N', 'Ð': 'O',\n\t\t'Ð': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',\n\t\t'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': '', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',\n\t\t'Ð¯': 'Ya',\n\t\t'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ': 'yo', 'Ð¶': 'zh',\n\t\t'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',\n\t\t'Ð¿': 'p', 'Ñ': 'r', 'Ñ': 's', 'Ñ': 't', 'Ñ': 'u', 'Ñ': 'f', 'Ñ': 'h', 'Ñ': 'c',\n\t\t'Ñ': 'ch', 'Ñ': 'sh', 'Ñ': 'sh', 'Ñ': '', 'Ñ': 'y', 'Ñ': '', 'Ñ': 'e', 'Ñ': 'yu',\n\t\t'Ñ': 'ya',\n\n\t\t// Ukrainian\n\t\t'Ð': 'Ye', 'Ð': 'I', 'Ð': 'Yi', 'Ò': 'G',\n\t\t'Ñ': 'ye', 'Ñ': 'i', 'Ñ': 'yi', 'Ò': 'g',\n\n\t\t// Czech\n\t\t'Ä': 'C', 'Ä': 'D', 'Ä': 'E', 'Å': 'N', 'Å': 'R', 'Š': 'S', 'Å¤': 'T', 'Å®': 'U', \n\t\t'Å½': 'Z', \n\t\t'Ä': 'c', 'Ä': 'd', 'Ä': 'e', 'Å': 'n', 'Å': 'r', 'š': 's', 'Å¥': 't', 'Å¯': 'u',\n\t\t'Å¾': 'z', \n\n\t\t// Polish\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'e', 'Å': 'L', 'Å': 'N', 'Ó': 'o', 'Å': 'S', 'Å¹': 'Z', \n\t\t'Å»': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Å': 'l', 'Å': 'n', 'ó': 'o', 'Å': 's', 'Åº': 'z',\n\t\t'Å¼': 'z',\n\n\t\t// Latvian\n\t\t'Ä': 'A', 'Ä': 'C', 'Ä': 'E', 'Ä¢': 'G', 'Äª': 'i', 'Ä¶': 'k', 'Ä»': 'L', 'Å': 'N', \n\t\t'Š': 'S', 'Åª': 'u', 'Å½': 'Z', \n\t\t'Ä': 'a', 'Ä': 'c', 'Ä': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å': 'n',\n\t\t'š': 's', 'Å«': 'u', 'Å¾': 'z'\n\t};\n\t\n\t// Make custom replacements\n\tfor (var k in opt.replacements) {\n\t\ts = s.replace(RegExp(k, 'g'), opt.replacements[k]);\n\t}\n\t\n\t// Transliterate characters to ASCII\n\tif (opt.transliterate) {\n\t\tfor (var k in char_map) {\n\t\t\ts = s.replace(RegExp(k, 'g'), char_map[k]);\n\t\t}\n\t}\n\t\n\t// Replace non-alphanumeric characters with our delimiter\n\tvar alnum = (typeof(XRegExp) === 'undefined') ? RegExp('[^a-z0-9]+', 'ig') : XRegExp('[^\\\\p{L}\\\\p{N}]+', 'ig');\n\ts = s.replace(alnum, opt.delimiter);\n\t\n\t// Remove duplicate delimiters\n\ts = s.replace(RegExp('[' + opt.delimiter + ']{2,}', 'g'), opt.delimiter);\n\t\n\t// Truncate slug to max. characters\n\ts = s.substring(0, opt.limit);\n\t\n\t// Remove delimiter from ends\n\ts = s.replace(RegExp('(^' + opt.delimiter + '|' + opt.delimiter + '$)', 'g'), '');\n\t\n\treturn opt.lowercase ? s.toLowerCase() : s;\n}\n\n/**\n * @name toast\n * @description Triggers toast notification. Adds toast html to the page if missing.\n * @param {string} text - Toast notification.\n */\n export const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"toast-cont position-fixed bottom-0 p-2 m-4 end-0 align-items-center\" style=\"z-index:10000;\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}","export const CDN = 'https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com';\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.com subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/\"; \n}\n\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name getParam\n * @description Get URL param.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\n export const getParam = (p) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(p) ? urlParams.get(p) : \"\";\n}\n\nexport const formatTime = (timestamp) => {\n\t\n    let a = new Date(timestamp * 1000);\n    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    let year = a.getFullYear();\n    let month = months[a.getMonth()];\n    let date = a.getDate();\n    let hour = a.getHours();\n    let min = a.getMinutes();\n    let sec = a.getSeconds();\n    let time = date + ' ' + month + ' ' + year; // + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}\n\n\nexport const replaceQueryParam = (param, newval, search) => {\n\n    let regex = new RegExp(\"([?;&])\" + param + \"[^&;]*[;&]?\");\n    let query = search.replace(regex, \"$1\").replace(/&$/, '');\n\n    return (query.length > 2 ? query + \"&\" : \"?\") + (newval ? param + \"=\" + newval : '');\n}\n\nexport const getPageNumberOld = () => {\n\n    let url = window.location.href.split('/');\n    let page = url[url.length-1];\n    let pageN = 1;\n    if(page.indexOf('page')==0){\n      pageN = page.replace('page', '').replace('#', '');\n    }\n    // console.log(pageN);\n    return parseInt(pageN);\n}\n\nexport const getPageNumber = () => {\n\n    let urlParams = new URLSearchParams(window.location.search);\n    let page = urlParams.get('page') ? urlParams.get('page') : 1;\n\n    return parseInt(page);\n}\n\nexport const getPagination = (__, meta, cb) => {\n\n    if(typeof(meta) === 'undefined'){ document.querySelector(\"#listing_info\").innerHTML = __('no records to display'); return; }\n\n    let offset = meta.limit+meta.offset;\n    if(offset>meta.total_records) offset = meta.total_records;\n\n    document.querySelector(\"#listing_info\").innerHTML = __(\"Showing %1$ to %2$ of %3$ entries\", (1+meta.offset), (offset), meta.total_records);\n    //  \"Showing \"+(1+meta.offset)+\" to \"+(offset)+\" of \"+meta.total_records+\" entries\";\n\n    let pbc = Math.ceil(meta.total_records / meta.limit);\n    document.querySelector(\"#listing_paginate\").style.display = (pbc < 2) ? \"none\" : \"block\";\n\n    let page = getPageNumber(); \n    let html = '<ul class=\"pagination d-flex justify-content-end pagination-flat mb-0\">';\n    html += '<li class=\"paginate_button page-item previous\" id=\"listing_previous\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"prev\" data-page=\"0\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&laquo;</span></li>';\n    let i = 0;\n    while(i<pbc){\n\n        i++; \n        if(((i >= page-3) && (i <= page)) || ((i <= page+3) && (i >=page))){\n\n            html += '<li class=\"paginate_button page-item '+((page==i)?'active':'')+'\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"page\" data-page=\"'+i+'\" tabindex=\"0\" class=\"page-link\">'+(page==i?i:i)+'</a></li>';      \n        }\n    }  \n    html += '<li class=\"paginate_button page-item next\" id=\"order-listing_next\"><a href=\"#\" aria-controls=\"order-listing\" data-type=\"next\" data-page=\"2\" tabindex=\"0\" class=\"page-link\"><span aria-hidden=\"true\">&raquo;</span></a></li>';\n    html += '</ul>'\n\n    document.querySelector(\"#listing_paginate\").innerHTML = html;\n\n    let page_link = document.querySelectorAll(\".page-link\");\n    for (const l of page_link) {\n        \n        l.addEventListener('click', function(e) {\n\n            let p = parseInt(getPageNumber());\n            let ps = p;\n            switch(l.dataset.type){ \n                case 'prev': p-=1; if(p<1) p = 1; break;\n                case 'page': p=l.dataset.page; break;\n                case 'next': p+=1; if(p>pbc) p = pbc; break;\n            }\n            \n            // update url\n            if (window.history.replaceState) {\n\n                // let url = window.location.href.split('/page');\n                // let urlF = (url[0]+'/page'+p).replace('//page', '/page');\n\n                let str = window.location.search;\n                str = replaceQueryParam('page', p, str);\n                // window.location = window.location.pathname + str\n\n                // prevents browser from storing history with each change:\n                window.history.replaceState(\"kenzap-cloud\", document.title, window.location.pathname + str);\n            }\n\n            // only refresh if page differs\n            if(ps!=p) cb();\n            \n            e.preventDefault();\n            return false;\n        });\n    }\n}\n\n/**\n * @name getAPI\n * @description Returns API link\n * @param {object} headers\n */\nexport const getAPI = () => {\n\n    return window.location.host.indexOf(\"localhost\") == 0 ? \"https://api.myticket-dev.app.kenzap.cloud/\" : \"https://api.myticket.app.kenzap.cloud/\";\n}\n\nexport const makeNumber = function(price) {\n\n    price = price ? price : 0;\n    price = parseFloat(price);\n    price = Math.round(price * 100) / 100;\n    return price;\n}\n\n/**\n* Email format validation script\n* \n* @param string email\n* @return string\n*/\nexport const validateEmail = (email) => {\n\n    if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,14})+$/.test(email)){\n\n        return true;\n    }else{\n\n        return false;\n    }\n}\n\n/**\n* Render price\n* @public\n*/\nexport const priceFormat = (_this, price) => {\n\n    price = makeNumber(price);\n\n    price = (Math.round(parseFloat(price) * 100)/100).toFixed(2);\n    \n    let settings = {};\n    if(_this.currency_symb_loc){ settings = _this; }else{ settings = _this.settings; }\n\n    switch(settings.currency_symb_loc){\n        case 'left': price = settings.currency_symb + ' ' + price; break;\n        case 'right': price = price + settings.currency_symb; break;\n    }\n\n    return price;\n}\n\nexport const loadDependencies = (dep, cb) => {\n\n    // dependency already loaded, skip\n    if(document.getElementById(dep)){ if(typeof cb === 'function') cb.call(); return; }\n\n    // detect dependency type\n    let t = dep.split('.').slice(-1)[0];\n    switch(t){\n      case 'js':\n        \n        let js = document.createElement(\"script\");\n        js.setAttribute(\"src\", dep);\n        js.id = dep;\n        js.onload = js.onreadystatechange = function() {\n \n          if(!this.readyState || this.readyState == 'complete')\n            if(typeof cb === 'function') cb.call();\n        };\n        document.body.appendChild(js);\n        \n      break;\n      case 'css':\n\n        var head  = document.getElementsByTagName('head')[0];\n        var css  = document.createElement('link');\n        css.id   = dep;\n        css.rel  = 'stylesheet';\n        css.type = 'text/css';\n        css.href = dep;\n        head.appendChild(css);\n\n      break;\n    }\n    \n    return true;\n}","// dependencies\nimport { __html, attr, simulateClick } from '@kenzap/k-cloud';\nimport { loadDependencies } from '../_/_helpers.js';\n\nclass kutWDU{\n\n    // init class\n    constructor(data){\n        \n      // cache data\n      this.data = data;\n\n      // dep counter\n      this.dpi = 0;\n\n      // init container\n      this.html();\n\n      // get dependencies\n      this.dependencies();\n    }\n\n    html = () => {\n\n      document.querySelector('#content').insertAdjacentHTML('beforeend', \n      `\n      <section id=\"${ attr(this.data.id) }\" class=\"kutWDU ${ this.data.c.classes ? attr(this.data.c.classes) : '' } ${ this.data.style.value } ${ this.data.effect.value }\" style=\"${ this.data.c.section }\">\n          <div class=\"container\" style=\"${ this.data.c.container }\">\n\n          </div>\n      </section>\n      `\n      );\n    }\n\n    // render class html\n    render = () => {\n\n      // add to body  data-isotope='{ \"itemSelector\": \".kp-item\", \"layoutMode\": \"packery\", \"percentPosition\": true, \"packery\": { \"columnWidth\": \".grid-sizer\" } }'\n      document.querySelector('#'+this.data.id+' .container').innerHTML =\n        `\n        ${ this.data.header.value }\n        <ul class=\"kp-filter ${ this.data.filters.value.length < 1 ? 'dn' : '' }\">\n          ${\n            this.data.filters.value.split('\\n').map((f, i) => {\n\n              return `\n              <li>\n                <a href=\"#\" class=\"filter ${i == 0 ? 'active' : '' }\" data-filter=\".${ this.slugify(f) }\">${ f }</a>\n              </li>\n              `\n\n            }).join(``)\n          }\n        </ul>\n        <div class=\"kp-list\" >\n          <div class=\"grid-sizer\"></div>\n          ${ this.data.images.map((img) => {\n\n            return `\n              <div class=\"kp-item ${ img.filters.value.split('\\n').map((f, i) => { return `${ this.slugify(f) }` }).join(` `) }\">\n                <div class=\"gallery-box\">\n                  <div class=\"kp-img\">\n                    <a href=\"${ this.image(img, 1) }\" data-thumb=\"${ this.image(img, 1) }\" data-fancybox=\"gallery\" style=\"background-image:url('${ this.image(img, 0) }');\"></a>\n                  </div>\n                  <div class=\"kp-info\">\n                    <h3>\n                      <a href=\"javascript:;\" class=\"gallery-link\">\n                        ${ img.text.value }\n                      </a>\n                    </h3>\n                    <ul>\n                      ${ img.filters.value.split('\\n').map((f, i) => {\n\n                          return `<li><a href=\"#\" class=\"filter\" data-filter=\".${ this.slugify(f) }\">${ this.slugify(f) }</a></li>`\n\n                        }).join('')\n                      }\n                    </ul>\n                  </div>\n                </div>\n              </div>\n              `\n\n          }).join(``) }\n        `\n      ;\n    }\n\n    dependencies = () => {\n\n      // dependency callback\n      let cb = () => {\n\n        this.dpi += 1;\n        \n        // execute after all dependencies loaded\n        if(this.dpi > 1){\n\n          // render section\n          this.render();\n\n          // listeners\n          this.listeners();\n        }\n      };\n\n      // get dependencies\n      loadDependencies('https://static.kenzap.com/libs/isotope.pkgd-3.0.6.min.js', cb);\n      loadDependencies('https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js', cb);\n      loadDependencies('https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css', cb);\n    }\n\n    // gallery listeners\n    listeners = () => {\n\n      // isotope\n      this.iso = new Isotope( '.kutWDU .kp-list', {\n        layoutMode: 'packery',\n        itemSelector: '.kp-item',\n        percentPosition: true,\n        packery: {\n          columnWidth: '.grid-sizer'\n        }\n      });\n\n      // click listeners\n      [...document.querySelectorAll('.kutWDU a')].forEach((el, i) => {\n        el.addEventListener('click', (e) => {\n\n          if(e.currentTarget.classList.contains('filter')){\n\n            e.preventDefault();\n\n            let filterValue = e.currentTarget.dataset.filter;\n            this.iso.arrange({ filter: filterValue });\n            [...document.querySelectorAll('.kp-filter li a')].forEach(a => { a.classList.remove(\"active\") });\n            [...document.querySelectorAll('.kp-filter li a')].forEach(a => { if(a.dataset.filter == filterValue) a.classList.add(\"active\") });\n            return false;\n          }\n\n          if(e.currentTarget.classList.contains('gallery-link')){\n\n            simulateClick(e.currentTarget.parentElement.parentElement.querySelector('.kp-img a'))\n            return false;\n          }\n        });\n      })\n\n      // image preview\n      Fancybox.bind('.kutWDU [data-fancybox=\"gallery\"]', {\n        idleTime: 0,\n        thumbs : {\n          autoStart : true,\n          axis: \"x\"\n        },\n        buttons: [\n          \"zoom\",\n          \"fullScreen\",\n          \"close\"\n          ],\n        // parentEl: \".kutWDU\"\n      });\n    }\n\n    image = (img, size) => {\n\n      // custom size requested\n      if(size>0){\n\n       return img.img.value.replace(img.img.sizes[0], img.img.sizes[size]);\n      }else{\n\n        return img.img.value;\n      }\n    }\n\n    slugify = (val) => {\n\n      return val\n        .toString()\n        .normalize('NFD')\n        .replace(/[\\u0300-\\u036f]/g, '')\n        .toLowerCase()\n        .trim()\n        .replace(/\\s+/g, '-')\n        .replace(/[^\\w-]+/g, '')\n        .replace(/--+/g, '-')\n    }\n\n}\n\nwindow.kutWDU = kutWDU;"],"names":["loadDependencies","dep","cb","document","getElementById","call","t","split","slice","js","createElement","setAttribute","id","onload","onreadystatechange","readyState","body","appendChild","head","getElementsByTagName","css","rel","type","href","kutWDU","data","querySelector","insertAdjacentHTML","attr","c","classes","style","value","effect","section","container","innerHTML","header","filters","length","map","f","i","slugify","join","images","img","image","text","dpi","render","listeners","iso","Isotope","layoutMode","itemSelector","percentPosition","packery","columnWidth","querySelectorAll","forEach","el","addEventListener","e","currentTarget","classList","contains","preventDefault","filterValue","dataset","filter","arrange","a","remove","add","simulateClick","parentElement","Fancybox","bind","idleTime","thumbs","autoStart","axis","buttons","size","replace","sizes","val","toString","normalize","toLowerCase","trim","html","dependencies","window"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;AAsFA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,MAAM,IAAI,GAAG,CAAC,IAAI,KAAK;AAC9B;EACA,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AACxB;EACA,IAAI,GAAG,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC;EACzB,EAAE,OAAO,EAAE,CAAC;EACZ,EAAE;AACF;EACA,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG;EACvC,QAAQ;EACR,YAAY,GAAG,EAAE,OAAO;EACxB,YAAY,GAAG,EAAE,MAAM;EACvB,YAAY,GAAG,EAAE,MAAM;EACvB,YAAY,GAAG,EAAE,QAAQ;EACzB,YAAY,GAAG,EAAE,QAAQ;EACzB,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;EAClB,EAAC;AAyMD;EACA;EACA;EACA;EACA;EACA;EACA;EACA,CAAQ,MAAM,OAAO,GAAG,MAAM;EAC9B;EACA,IAAI,IAAI,SAAS,GAAG,IAAI,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;EAChE,IAAI,IAAI,EAAE,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;AAC9D;EACA,IAAI,OAAO,EAAE,CAAC;EACd,EAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,CAAQ,MAAM,SAAS,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,KAAK;AACjD;EACA,IAAI,IAAI,OAAO,GAAG,EAAE,CAAC;EACrB,IAAI,IAAI,IAAI,EAAE;EACd,QAAQ,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;EAC9B,QAAQ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;EACpE,QAAQ,OAAO,GAAG,WAAW,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;EACnD,KAAK;EACL,IAAI,QAAQ,CAAC,MAAM,GAAG,IAAI,GAAG,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,GAAG,OAAO,GAAG,8BAA8B,CAAC;EACpG,EAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,MAAM,SAAS,GAAG,CAAC,KAAK,KAAK;AACpC;EACA,IAAI,IAAI,IAAI,GAAG,KAAK,GAAG,GAAG,CAAC;EAC3B,IAAI,IAAI,aAAa,GAAG,kBAAkB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;EAC5D,IAAI,IAAI,EAAE,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;EACtC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EACxC,QAAQ,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EACtB,QAAQ,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;EACnC,YAAY,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;EAC/B,SAAS;EACT,QAAQ,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;EAClC,YAAY,OAAO,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;EACtD,SAAS;EACT,KAAK;EACL,IAAI,OAAO,EAAE,CAAC;EACd,EAAC;AACD;EACA;EACA;EACA;EACA;EACA;EACA,CAAQ,MAAM,WAAW,GAAG,MAAM;AAClC;EACA,IAAI,IAAI,OAAO,GAAG,CAAC,YAAY,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,YAAY,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;EACxJ,IAAI,IAAI,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,GAAG,OAAO,EAAE,GAAG,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC;EACvF,IAAI,GAAG,KAAK,IAAI,SAAS,CAAC,OAAO,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE;EAC3E;EACA,IAAI,SAAS,CAAC,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AACjC;EACA,IAAI,OAAO,OAAO;EAClB,EAAC;AAmBD;EACA;EACA;EACA;EACA;EACA;EACA;EACA,EAAwB;EACxB,IAAI,QAAQ,EAAE,kBAAkB;EAChC,IAAI,cAAc,EAAE,kBAAkB;EACtC,IAAI,eAAe,EAAE,SAAS,GAAG,SAAS,CAAC,gBAAgB,CAAC;EAC5D,IAAI,eAAe,EAAE,SAAS,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,QAAQ,CAAC,GAAG,IAAI;EACrE,IAAI,eAAe,EAAE,WAAW,EAAE;EAClC,IAAI,cAAc,EAAE,SAAS,CAAC,cAAc,CAAC;EAC7C,IAAI,YAAY,EAAE,OAAO,EAAE;EAC3B,GAAC;AA2ID;EACA;EACA;EACA;EACA;EACA;EACA,CAAQ,MAAM,aAAa,GAAG,CAAC,IAAI,KAAK;AACxC;EACA;EACA,CAAC,IAAI,GAAG,GAAG,IAAI,UAAU,CAAC,OAAO,EAAE;EACnC,EAAE,OAAO,EAAE,IAAI;EACf,EAAE,UAAU,EAAE,IAAI;EAClB,EAAE,IAAI,EAAE,MAAM;EACd,EAAE,CAAC,CAAC;AACJ;EACA;EACA,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;EAC1B,CAAC;;ECjWM,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,GAAG,EAAEC,EAAE,EAAK;EAGzC,EAAA,IAAGC,QAAQ,CAACC,cAAc,CAACH,GAAG,CAAC,EAAC;MAAE,IAAG,OAAOC,EAAE,KAAK,UAAU,EAAEA,EAAE,CAACG,IAAI,EAAE,CAAA;EAAE,IAAA,OAAA;EAAQ,GAAA;EAGlF,EAAA,IAAIC,CAAC,GAAGL,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;EACnC,EAAA,QAAOF,CAAC;EACN,IAAA,KAAK,IAAI;EAEP,MAAA,IAAIG,EAAE,GAAGN,QAAQ,CAACO,aAAa,CAAC,QAAQ,CAAC,CAAA;EACzCD,MAAAA,EAAE,CAACE,YAAY,CAAC,KAAK,EAAEV,GAAG,CAAC,CAAA;QAC3BQ,EAAE,CAACG,EAAE,GAAGX,GAAG,CAAA;EACXQ,MAAAA,EAAE,CAACI,MAAM,GAAGJ,EAAE,CAACK,kBAAkB,GAAG,YAAW;UAE7C,IAAG,CAAC,IAAI,CAACC,UAAU,IAAI,IAAI,CAACA,UAAU,IAAI,UAAU,EAClD,IAAG,OAAOb,EAAE,KAAK,UAAU,EAAEA,EAAE,CAACG,IAAI,EAAE,CAAA;SACzC,CAAA;EACDF,MAAAA,QAAQ,CAACa,IAAI,CAACC,WAAW,CAACR,EAAE,CAAC,CAAA;EAE/B,MAAA,MAAA;EACA,IAAA,KAAK,KAAK;QAER,IAAIS,IAAI,GAAIf,QAAQ,CAACgB,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;EACpD,MAAA,IAAIC,GAAG,GAAIjB,QAAQ,CAACO,aAAa,CAAC,MAAM,CAAC,CAAA;QACzCU,GAAG,CAACR,EAAE,GAAKX,GAAG,CAAA;QACdmB,GAAG,CAACC,GAAG,GAAI,YAAY,CAAA;QACvBD,GAAG,CAACE,IAAI,GAAG,UAAU,CAAA;QACrBF,GAAG,CAACG,IAAI,GAAGtB,GAAG,CAAA;EACdiB,MAAAA,IAAI,CAACD,WAAW,CAACG,GAAG,CAAC,CAAA;EAEvB,MAAA,MAAA;EAAM,GAAA;EAGR,EAAA,OAAO,IAAI,CAAA;EACf,CAAC;;EC/PmD,IAE9CI,MAAM,GAAA,YAAA,CAGR,SAAYC,MAAAA,CAAAA,IAAI,EAAC;EAAA,EAAA,IAAA,KAAA,GAAA,IAAA,CAAA;EAAA,EAAA,eAAA,CAAA,IAAA,EAAA,MAAA,CAAA,CAAA;EAAA,EAAA,eAAA,CAAA,IAAA,EAAA,MAAA,EAeV,YAAM;EAEXtB,IAAAA,QAAQ,CAACuB,aAAa,CAAC,UAAU,CAAC,CAACC,kBAAkB,CAAC,WAAW,EAEjDC,wBAAAA,CAAAA,MAAAA,CAAAA,IAAI,CAAC,KAAI,CAACH,IAAI,CAACb,EAAE,CAAC,EAAqB,oBAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACa,IAAI,CAACI,CAAC,CAACC,OAAO,GAAGF,IAAI,CAAC,KAAI,CAACH,IAAI,CAACI,CAAC,CAACC,OAAO,CAAC,GAAG,EAAE,EAAM,GAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACL,IAAI,CAACM,KAAK,CAACC,KAAK,EAAM,GAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACP,IAAI,CAACQ,MAAM,CAACD,KAAK,EAAA,aAAA,CAAA,CAAA,MAAA,CAAc,KAAI,CAACP,IAAI,CAACI,CAAC,CAACK,OAAO,EAC9J,kDAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACT,IAAI,CAACI,CAAC,CAACM,SAAS,EAKzD,mDAAA,CAAA,CAAA,CAAA;KACF,CAAA,CAAA;EAAA,EAAA,eAAA,CAAA,IAAA,EAAA,QAAA,EAGQ,YAAM;MAGbhC,QAAQ,CAACuB,aAAa,CAAC,GAAG,GAAC,KAAI,CAACD,IAAI,CAACb,EAAE,GAAC,aAAa,CAAC,CAACwB,SAAS,GAE3D,YAAA,CAAA,MAAA,CAAA,KAAI,CAACX,IAAI,CAACY,MAAM,CAACL,KAAK,EACD,kCAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACP,IAAI,CAACa,OAAO,CAACN,KAAK,CAACO,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,EAAE,EAElE,iBAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACd,IAAI,CAACa,OAAO,CAACN,KAAK,CAACzB,KAAK,CAAC,IAAI,CAAC,CAACiC,GAAG,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;EAEhD,MAAA,OAAA,qEAAA,CAAA,MAAA,CAE8BA,CAAC,IAAI,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAqB,oBAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACC,OAAO,CAACF,CAAC,CAAC,gBAAOA,CAAC,EAAA,2CAAA,CAAA,CAAA;EAIlG,KAAC,CAAC,CAACG,IAAI,CAAA,EAAA,CAAI,sHAKV,KAAI,CAACnB,IAAI,CAACoB,MAAM,CAACL,GAAG,CAAC,UAACM,GAAG,EAAK;EAE/B,MAAA,OAAA,uCAAA,CAAA,MAAA,CACyBA,GAAG,CAACR,OAAO,CAACN,KAAK,CAACzB,KAAK,CAAC,IAAI,CAAC,CAACiC,GAAG,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;EAAE,QAAA,OAAA,EAAA,CAAA,MAAA,CAAW,KAAI,CAACC,OAAO,CAACF,CAAC,CAAC,CAAA,CAAA;SAAK,CAAC,CAACG,IAAI,CAAK,GAAA,CAAA,EAAA,4HAAA,CAAA,CAAA,MAAA,CAG7F,KAAI,CAACG,KAAK,CAACD,GAAG,EAAE,CAAC,CAAC,EAAmB,kBAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACC,KAAK,CAACD,GAAG,EAAE,CAAC,CAAC,EAAA,6DAAA,CAAA,CAAA,MAAA,CAA4D,KAAI,CAACC,KAAK,CAACD,GAAG,EAAE,CAAC,CAAC,EAAA,6MAAA,CAAA,CAAA,MAAA,CAK1IA,GAAG,CAACE,IAAI,CAAChB,KAAK,EAAA,2GAAA,CAAA,CAAA,MAAA,CAIhBc,GAAG,CAACR,OAAO,CAACN,KAAK,CAACzB,KAAK,CAAC,IAAI,CAAC,CAACiC,GAAG,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;EAE3C,QAAA,OAAA,oDAAA,CAAA,MAAA,CAAwD,KAAI,CAACC,OAAO,CAACF,CAAC,CAAC,EAAO,KAAA,CAAA,CAAA,MAAA,CAAA,KAAI,CAACE,OAAO,CAACF,CAAC,CAAC,EAAA,WAAA,CAAA,CAAA;EAE/F,OAAC,CAAC,CAACG,IAAI,CAAC,EAAE,CAAC,EAAA,qHAAA,CAAA,CAAA;EAQzB,KAAC,CAAC,CAACA,IAAI,CAAA,EAAA,CAAI,EACZ,YAAA,CAAA,CAAA;KAEJ,CAAA,CAAA;EAAA,EAAA,eAAA,CAAA,IAAA,EAAA,cAAA,EAEc,YAAM;EAGnB,IAAA,IAAI1C,EAAE,GAAG,SAALA,EAAE,GAAS;QAEb,KAAI,CAAC+C,GAAG,IAAI,CAAC,CAAA;EAGb,MAAA,IAAG,KAAI,CAACA,GAAG,GAAG,CAAC,EAAC;UAGd,KAAI,CAACC,MAAM,EAAE,CAAA;UAGb,KAAI,CAACC,SAAS,EAAE,CAAA;EAClB,OAAA;OACD,CAAA;EAGDnD,IAAAA,gBAAgB,CAAC,0DAA0D,EAAEE,EAAE,CAAC,CAAA;EAChFF,IAAAA,gBAAgB,CAAC,8EAA8E,EAAEE,EAAE,CAAC,CAAA;EACpGF,IAAAA,gBAAgB,CAAC,2EAA2E,EAAEE,EAAE,CAAC,CAAA;KAClG,CAAA,CAAA;EAAA,EAAA,eAAA,CAAA,IAAA,EAAA,WAAA,EAGW,YAAM;EAGhB,IAAA,KAAI,CAACkD,GAAG,GAAG,IAAIC,OAAO,CAAE,kBAAkB,EAAE;EAC1CC,MAAAA,UAAU,EAAE,SAAS;EACrBC,MAAAA,YAAY,EAAE,UAAU;EACxBC,MAAAA,eAAe,EAAE,IAAI;EACrBC,MAAAA,OAAO,EAAE;EACPC,QAAAA,WAAW,EAAE,aAAA;EACf,OAAA;EACF,KAAC,CAAC,CAAA;EAGF,IAAA,kBAAA,CAAIvD,QAAQ,CAACwD,gBAAgB,CAAC,WAAW,CAAC,CAAEC,CAAAA,OAAO,CAAC,UAACC,EAAE,EAAEnB,CAAC,EAAK;EAC7DmB,MAAAA,EAAE,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;UAElC,IAAGA,CAAC,CAACC,aAAa,CAACC,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAC;YAE9CH,CAAC,CAACI,cAAc,EAAE,CAAA;YAElB,IAAIC,WAAW,GAAGL,CAAC,CAACC,aAAa,CAACK,OAAO,CAACC,MAAM,CAAA;EAChD,UAAA,KAAI,CAAClB,GAAG,CAACmB,OAAO,CAAC;EAAED,YAAAA,MAAM,EAAEF,WAAAA;EAAY,WAAC,CAAC,CAAA;YACzC,kBAAIjE,CAAAA,QAAQ,CAACwD,gBAAgB,CAAC,iBAAiB,CAAC,CAAA,CAAEC,OAAO,CAAC,UAAAY,CAAC,EAAI;EAAEA,YAAAA,CAAC,CAACP,SAAS,CAACQ,MAAM,CAAC,QAAQ,CAAC,CAAA;EAAC,WAAC,CAAC,CAAA;YAChG,kBAAItE,CAAAA,QAAQ,CAACwD,gBAAgB,CAAC,iBAAiB,CAAC,CAAA,CAAEC,OAAO,CAAC,UAAAY,CAAC,EAAI;EAAE,YAAA,IAAGA,CAAC,CAACH,OAAO,CAACC,MAAM,IAAIF,WAAW,EAAEI,CAAC,CAACP,SAAS,CAACS,GAAG,CAAC,QAAQ,CAAC,CAAA;EAAC,WAAC,CAAC,CAAA;EACjI,UAAA,OAAO,KAAK,CAAA;EACd,SAAA;UAEA,IAAGX,CAAC,CAACC,aAAa,CAACC,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAC;EAEpDS,UAAAA,aAAa,CAACZ,CAAC,CAACC,aAAa,CAACY,aAAa,CAACA,aAAa,CAAClD,aAAa,CAAC,WAAW,CAAC,CAAC,CAAA;EACrF,UAAA,OAAO,KAAK,CAAA;EACd,SAAA;EACF,OAAC,CAAC,CAAA;EACJ,KAAC,CAAC,CAAA;EAGFmD,IAAAA,QAAQ,CAACC,IAAI,CAAC,mCAAmC,EAAE;EACjDC,MAAAA,QAAQ,EAAE,CAAC;EACXC,MAAAA,MAAM,EAAG;EACPC,QAAAA,SAAS,EAAG,IAAI;EAChBC,QAAAA,IAAI,EAAE,GAAA;SACP;EACDC,MAAAA,OAAO,EAAE,CACP,MAAM,EACN,YAAY,EACZ,OAAO,CAAA;EAGX,KAAC,CAAC,CAAA;KACH,CAAA,CAAA;EAAA,EAAA,eAAA,CAAA,IAAA,EAAA,OAAA,EAEO,UAACrC,GAAG,EAAEsC,IAAI,EAAK;MAGrB,IAAGA,IAAI,GAAC,CAAC,EAAC;QAET,OAAOtC,GAAG,CAACA,GAAG,CAACd,KAAK,CAACqD,OAAO,CAACvC,GAAG,CAACA,GAAG,CAACwC,KAAK,CAAC,CAAC,CAAC,EAAExC,GAAG,CAACA,GAAG,CAACwC,KAAK,CAACF,IAAI,CAAC,CAAC,CAAA;EACpE,KAAC,MAAI;EAEH,MAAA,OAAOtC,GAAG,CAACA,GAAG,CAACd,KAAK,CAAA;EACtB,KAAA;KACD,CAAA,CAAA;IAAA,eAES,CAAA,IAAA,EAAA,SAAA,EAAA,UAACuD,GAAG,EAAK;EAEjB,IAAA,OAAOA,GAAG,CACPC,QAAQ,EAAE,CACVC,SAAS,CAAC,KAAK,CAAC,CAChBJ,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAC/BK,WAAW,EAAE,CACbC,IAAI,EAAE,CACNN,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CACpBA,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CACvBA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAA;KACxB,CAAA,CAAA;IAlLC,IAAI,CAAC5D,IAAI,GAAGA,IAAI,CAAA;IAGhB,IAAI,CAACwB,GAAG,GAAG,CAAC,CAAA;IAGZ,IAAI,CAAC2C,IAAI,EAAE,CAAA;IAGX,IAAI,CAACC,YAAY,EAAE,CAAA;EACrB,CAAC,CAAA,CAAA;EA4KLC,MAAM,CAACtE,MAAM,GAAGA,MAAM;;;;;;"}