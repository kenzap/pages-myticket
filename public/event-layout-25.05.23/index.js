!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t,e,a){return(e=l(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function s(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=r(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw i}}}}function l(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}const d=(t,e,...a)=>{let n=(t,e)=>(e.forEach(((e,a)=>{t=t.replace("%"+(a+1)+"$",e)})),t);return void 0===window.i18n||void 0===window.i18n.state.locale.values[t]?n(t,a):n(e(window.i18n.state.locale.values[t]),a)},c=t=>0===(t=String(t)).length?"":t.replace(/[&<>'"]/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[t]))),u=(t,...e)=>{if(0===(t=String(t)).length)return"";return d(t,(t=>t.replace(/[<>'"]/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[t])))),...e)},p=t=>0===(t=String(t)).length?"":t.replace(/[&<>'"]/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[t]))),m=(t,...e)=>{if(0===(t=String(t)).length)return"";return d(t,(t=>t.replace(/[&<>'"]/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"}[t])))),...e)},v=()=>{let t=new URLSearchParams(window.location.search);return t.get("sid")?t.get("sid"):""},f=t=>{let e=t+"=",a=decodeURIComponent(document.cookie).split(";");for(let t=0;t<a.length;t++){let n=a[t];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""};f("kenzap_api_key"),f("locale")&&f("locale"),(()=>{let t=localStorage.hasOwnProperty("header")&&localStorage.hasOwnProperty("header-version")?localStorage.getItem("header-version"):0,e=window.location.hostname+"/"+v()+"/"+f("locale");e!=f("check")&&(t=0,console.log("refresh")),((t,e,a)=>{let n="";if(a){let t=new Date;t.setTime(t.getTime()+24*a*60*60*1e3),n=";expires="+t.toUTCString()}document.cookie=t+"="+(escape(e)||"")+n+";path=/;domain=.kenzap.cloud"})("check",e,5)})(),f("kenzap_token"),v();const y=t=>{if(console.log(t),isNaN(t.code)){let e=t;try{e=JSON.stringify(e)}catch(t){}let a=new URLSearchParams;return a.append("cmd","report"),a.append("sid",v()),a.append("token",f("kenzap_token")),a.append("data",e),fetch("https://api-v1.kenzap.cloud/error/",{method:"post",headers:{Accept:"application/json","Content-type":"application/x-www-form-urlencoded"},body:a}),void alert("Can not connect to Kenzap Cloud")}if(401===t.code){if(-1!=window.location.href.indexOf("localhost"))return void alert(t.reason);location.href="https://auth.kenzap.com/?app=65432108792785&redirect="+window.location.href}else alert(t.reason)},b=(t,e)=>{if(document.querySelector(t))for(let a of document.querySelectorAll(t))a.removeEventListener("click",e,!0),a.addEventListener("click",e,!0)},g=(t,e)=>{if(document.querySelector(t))for(let a of document.querySelectorAll(t))a.removeEventListener("change",e,!0),a.addEventListener("change",e,!0)};var h="https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com",_=function(t,e){document.querySelector(t)&&(e.push.apply(e,[9,37,38,39,40,98,100,102,104]),o(document.querySelectorAll(t)).forEach((function(t){t.addEventListener("keydown",(function(t){var a=t.key.toLowerCase();"control"!=a&&"meta"!=a||(window[a]=!0);var n=a>="0"&&a<="9";return(window.control||window.meta)&&[86,88,65,67,90].includes(t.which)?(console.log("pushing"),!0):n||e.includes(t.which)?void 0:(t.preventDefault(),!1)})),t.addEventListener("keyup",(function(t){var e=t.key.toLowerCase();"control"!=e&&"meta"!=e||(window[e]=!1)}))})))},k=function(t,e,a){var n="";if(a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),n=";expires="+o.toUTCString()}document.cookie=t+"="+(escape(e)||"")+n+";path=/"},x=function(t){for(var e=t+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var o=a[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""},S=function(t){var e=new URLSearchParams(window.location.search);return e.get(t)?e.get(t):""},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.random().toString(36).substring(2,t+2)},w=function(t,e){e=function(t){return t=t||0,t=parseFloat(t),Math.round(100*t)/100}(e),e=(Math.round(100*parseFloat(e))/100).toFixed(2);var a={};switch((a=t.currency_symb_loc?t:t.settings).currency_symb_loc){case"left":e=a.currency_symb+" "+e;break;case"right":e+=a.currency_symb}return e},z=function(t,e){var a,n,o;return 4==t.length?(a=parseInt(t.slice(1,2)+t.slice(1,2),16),n=parseInt(t.slice(2,3)+t.slice(2,3),16),o=parseInt(t.slice(3,4)+t.slice(3,4),16)):(a=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16)),e?"rgba("+a+", "+n+", "+o+", "+e+")":"rgb("+a+", "+n+", "+o+")"},N=a((function e(a){var o=this;t(this,e),n(this,"init",(function(){fetch("https://api.checkout.app.kenzap.cloud",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Kenzap-Locale":f("locale")?f("locale"):"en","Kenzap-Sid":o.options.sid},body:JSON.stringify({query:{methods:{type:"get-methods",test:S("test"),url:window.location.href}}})}).then((function(t){return t.json()})).then((function(t){t.success?o.methods=t.methods.list?t.methods.list:[]:y(t)})).catch((function(t){console.error("Error:",t)}))})),n(this,"getMethods",(function(){return o.methods})),n(this,"pay",(function(t){t.type=t.method,t.url=window.location.href,S("test")&&(t.test=!0),fetch("https://api.checkout.app.kenzap.cloud",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Kenzap-Locale":f("locale")?f("locale"):"en","Kenzap-Sid":o.options.sid},body:JSON.stringify({query:{checkout:t}})}).then((function(t){return t.json()})).then((function(e){e.success?(e.eventid=t.checkout.event._id,t.success(e),window.location.href=e.checkout[t.method]):t.fail(e)})).catch((function(t){console.error("Error:",t)}))})),n(this,"getAPI",(function(){return 0==window.location.host.indexOf("localhost")?"https://api.checkout-dev.app.kenzap.cloud":"https://api.checkout.app.kenzap.cloud"})),this.options=a,this.init()})),L=a((function e(a,r,i){var l=this;t(this,e),n(this,"init",(function(){var t=l,e=document;l.state.payment=new N({sid:t.state.sid}),t.state.inQuery=!1,document.querySelector(".btn-checkout").addEventListener("click",(function(a){if(a.preventDefault(),null==e.querySelector(this.dataset.src))return!1;var n,r='\n                <div id="kbox-container" class="kbox-container kbox-container--ready" role="dialog" tabindex="-1" style="display:block;">\n                    <div class="kbox-bg" style="transition-duration: 330ms;"></div>\n                    <div class="kbox-slider-wrap kbox-slide">'.concat(e.querySelector(this.dataset.src).outerHTML,"</div>\n                </div>");if(document.querySelector(".kenzap-hall-layout"))t.state.qty=t.state.parent.tickets.length,n=t.state.parent.tickets;else{var i=e.querySelector('input[name="pack-group"]:checked');if(!i)return;if("soldout"==i.dataset.soldout)return void alert(m("This package is sold out, please choose another package."));t.state.qty=parseInt(e.querySelector(".num").value),n=Array(t.state.qty).fill(0)}e.querySelector("#"+t.state.cont).insertAdjacentHTML("afterBegin",r),e.querySelector("html").classList.add("ns");var l=JSON.parse(sessionStorage.getItem("myticket_checkout"));l||(l={holders:[]}),document.querySelector("#checkout-box .content-area").innerHTML='\n\n                <div id="bd" class="bill-form">\n                    <div class="form-cont ge-form form__fieldset">\n\n                        <div class="holder-cont">\n                        '.concat(n.map((function(e,a){return l.holders[a]||(l.holders[a]={}),'\n                                    <h5 style="'.concat(0==a?"margin-top:0px;":"",'">').concat(m("%1$ Ticket Holder",e.ticket_text?e.ticket_text+" / "+e.ticket_row:"#"+(a+1)),'</h4>\n                                    <div class="form-grid">\n                                        ').concat(e.ticket_id?'<input id="ticketHallId'.concat(a,'" class="input form-field__input input--text" name="ticketHallId" type="hidden" value="').concat(e.ticket_id,'" >'):""," \n                                        ").concat(e.ticket_price?'<input id="ticketHallPrice'.concat(a,'" class="input form-field__input input--text" name="ticketHallPrice" type="hidden" value="').concat(e.ticket_price,'">'):""," \n                                        ").concat(e.ticket_row?'<input id="ticketHallRow'.concat(a,'" class="input form-field__input input--text" name="ticketHallRow" type="hidden" value="').concat(e.ticket_row,'">'):""," \n                                        ").concat(e.ticket_text?'<input id="ticketHallText'.concat(a,'" class="input form-field__input input--text" name="ticketHallText" type="hidden" value="').concat(e.ticket_text,'">'):""," \n                                        ").concat(e.ticket_type?'<input id="ticketHallType'.concat(a,'" class="input form-field__input input--text" name="ticketHallType" type="hidden" value="').concat(e.ticket_type,'">'):""," \n                                        ").concat(e.zone_text?'<input id="ticketHallZoneText'.concat(a,'" class="input form-field__input input--text" name="ticketHallZoneText" type="hidden" value="').concat(e.zone_text,'">'):"",' \n                                        <div class="form-grid__whole ').concat("0"==t.getCheckoutField(t,"holder","full_name").val?"dn":"",'">\n                                            <div class="form-field" data-field="ticketName').concat(a,'">\n                                                <div class="form-field__item form-field__item--text ').concat(l.holders[a].name?"form-field--has-value":"",'"> \n                                                    <input id="ticketName').concat(a,'" class="input form-field__input input--text ').concat("required"==t.getCheckoutField(t,"holder","full_name").val?"dn":"",'" name="ticketName" type="text" required="" value="').concat(l.holders[a].name?l.holders[a].name:"",'">\n                                                    <label for="ticketName').concat(a,'" class="form-field__label form-field__label--dynamic">').concat(m("Full Name"),'</label>\n                                                </div>\n                                                <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Ticket holder name and surname"),'</div>\n                                            </div>\n                                        </div>\n                                        <div class="form-grid__whole ').concat("0"==t.getCheckoutField(t,"holder","email").val?"dn":"",'">\n                                            <div class="form-field" data-field="ticketEmail').concat(a,'">\n                                                <div class="form-field__item form-field__item--text ').concat(l.holders[a].email?"form-field--has-value":"",'">\n                                                    <input id="ticketEmail').concat(a,'" class="input form-field__input input--email ').concat("required"==t.getCheckoutField(t,"holder","email").val?"dn":"",'" name="ticketEmail" type="text" required="" value="').concat(l.holders[a].email?l.holders[a].email:"",'">\n                                                    <label for="ticketEmail').concat(a,'" class="form-field__label form-field__label--dynamic">').concat(m("Email Address"),'</label>\n                                                </div>\n                                                <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Ticket holder email address"),'</div>\n                                            </div>\n                                        </div>\n                                        <div class="form-grid__whole ').concat("0"==t.getCheckoutField(t,"holder","phone").val?"dn":"",'">\n                                            <div class="form-field" data-field="ticketPhone').concat(a,'">\n                                                <div class="form-field__item form-field__item--text ').concat(l.holders[a].phone?"form-field--has-value":"",'">\n                                                    <input id="ticketPhone').concat(a,'" class="input form-field__input input--phone ').concat("required"==t.getCheckoutField(t,"holder","phone").val?"dn":"",'" name="ticketPhone" type="text" required="" value="').concat(l.holders[a].phone?l.holders[a].phone:"",'">\n                                                    <label for="ticketPhone').concat(a,'" class="form-field__label form-field__label--dynamic">').concat(m("Phone Number"),'</label>\n                                                </div>\n                                                <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Ticket holder phone number"),"</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ")})).join(""),'\n\n                            <h5 class="').concat("0"==t.getCheckoutField(t,"general","discount").val?"dn":"",'">').concat(m("Discount"),'</h5>\n                            <div class="discount-cont ').concat("0"==t.getCheckoutField(t,"general","discount").val?"dn":"",'">\n                                <div class="form-grid__third" data-field="coupField">\n                                    <div class="form-field__item form-field__item--text">\n                                        <input id="coupField" class="input form-field__input input--coup" data-group="tax" name="coupField" type="text" maxlength="20" required="">\n                                        <label for="coupField" class="form-field__label form-field__label--dynamic">').concat(m("Coupon code"),'</label>\n                                    </div>\n                                    <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--coup0">').concat(m("Invalid coupon code"),'</div>\n                                    <div aria-live="assertive" aria-relevant="additions removals" style="color:inherit;" class="form-field__error form-field__error--coup1"><span id="disf"></span> discount applied</div>\n                                    <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--coup2">').concat(m("This coupon has expired"),'</div> \n                                    <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--coup3">').concat(m("Not applicable or already used"),'</div> \n                                    <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--coup4">').concat(m("This coupon is yours"),'</div> \n                                    <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--coup5">').concat(m("Same vendor coupons not allowed"),'</div> \n                                </div>\n                            </div>\n                        </div>\n                            \n                        <div class="tax-cont dn">\n                            <h5>').concat(m("Invoice Information"),'</h5>\n                            <div class="form-grid">\n                                <div class="form-grid__half">\n                                    <div class="form-field" data-field="firstName">\n                                        <div class="form-field__item form-field__item--text">\n                                            <input id="firstName" class="input form-field__input input--text required" data-group="tax" name="firstName" type="text" value="').concat(l.fname?l.fname:"",'" required="">\n                                            <label for="firstName" class="form-field__label form-field__label--dynamic">').concat(m("First name"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("First name is required"),'</div>\n                                    </div>\n                                </div>\n                                <div class="form-grid__half">\n                                    <div class="form-field" data-field="lastName">\n                                        <div class="form-field__item form-field__item--text">\n                                            <input id="lastName" class="input form-field__input input--text required" data-group="tax" name="lastName" type="text" value="').concat(l.lname?l.lname:"",'" required="">\n                                            <label for="lastName" class="form-field__label form-field__label--dynamic">').concat(m("Last name"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Last name is required"),'</div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class="form-grid">\n                                <div class="form-grid__half">\n                                    <div class="form-field form-field--has-value" data-field="countryField">\n                                        <div class="form-field__item form-field__item--select">\n                                            <label for="countryField" class="form-field__label form-field__label--dynamic">').concat(m("Country"),'</label>\n                                            <select name="countryField" id="countryField" class="input form-field__input input--select required" data-group="tax">\n                                                <option value="">Select your country</option>\n                                                    <optgroup label="Popular countries">\n                                                    <option data-country-id="AU" data-country-marketing-consent="true" data-enable-sales-tax-number="false" data-states="Australian Capital Territory|New South Wales|Northern Territory|Queensland|South Australia|Tasmania|Victoria|Western Australia" value="AU">Australia</option>\n                                                    <option data-country-id="BR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BR">Brazil</option>\n                                                    <option data-country-id="CA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" data-states="Alberta|British Columbia|Manitoba|New Brunswick|Newfoundland and Labrador|Northwest Territories|Nova Scotia|Nunavut|Ontario|Prince Edward Island|Quebec:ca_qst:QST Registration Number:1234567890TQ1234:1:1|Yukon" value="CA">Canada</option>\n                                                    <option data-country-id="FR" data-country-marketing-consent="false" data-vat-prefix="FR" data-vat-example="FR12345678901" data-vat-local-lang="n° TVA" data-enable-sales-tax-number="false" value="FR">France</option>\n                                                    <option data-country-id="DE" data-country-marketing-consent="false" data-vat-prefix="DE" data-vat-example="DE123456789" data-vat-local-lang="USt-IdNr." data-enable-sales-tax-number="false" value="DE">Germany</option>\n                                                    <option data-country-id="IT" data-country-marketing-consent="false" data-vat-prefix="IT" data-vat-example="IT12345678901" data-vat-local-lang="P. IVA" data-enable-sales-tax-number="false" value="IT">Italy</option>\n                                                    <option data-country-id="ID" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ID">Indonesia</option>\n                                                    <option data-country-id="NL" data-country-marketing-consent="false" data-vat-prefix="NL" data-vat-example="NL123456789B01" data-vat-local-lang="Btw-nr." data-enable-sales-tax-number="false" value="NL">Netherlands</option>\n                                                    <option data-country-id="ES" data-country-marketing-consent="false" data-vat-prefix="ES" data-vat-example="ES12345678X" data-vat-local-lang="NIF / CIF" data-enable-sales-tax-number="false" value="ES">Spain</option>\n                                                    <option data-country-id="SG" data-country-marketing-consent="true" data-enable-sales-tax-number="true" data-sales-tax-number-label="GST Registration Number" data-sales-tax-number-example="M12345678X" data-sales-tax-number-type="sg_gst" value="SG" selected="selected">Singapore</option>\n                                                    <option data-country-id="GB" data-country-marketing-consent="false" data-vat-prefix="GB" data-vat-example="GB123456789" data-enable-sales-tax-number="false"  value="GB">United Kingdom</option>\n                                                    <option data-country-id="US" data-country-marketing-consent="true" data-enable-sales-tax-number="false" data-states="Alabama|Alaska|American Samoa|Arizona|Arkansas|California|Colorado|Connecticut|Delaware|District of Columbia|Florida|Georgia|Hawaii|Idaho|Illinois|Indianav|Iowa|Kansas|Kentucky|Louisiana|Maine|Maryland|Massachusetts|Michigan|Minnesota|Mississippi|Missouri|Montana|Nebraska|Nevada|New Hampshire|New Jersey|New Mexico|New York|North Carolina|North Dakota|Ohio|Oklahoma|Oregon|Pennsylvania|Rhode Island|South Carolina|South Dakota|Tennessee|Texas|Utah|Vermont|Virginia|Washington|West Virginia|Wisconsin|Wyoming" value="US">United States</option>\n                                                    </optgroup>\n                                                    <optgroup label="All countries">\n                                                    <option data-country-id="AF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AF">Afghanistan</option>\n                                                    <option data-country-id="AL" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AL">Albania</option>\n                                                    <option data-country-id="DZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="DZ">Algeria</option>\n                                                    <option data-country-id="AS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AS">American Samoa</option>\n                                                    <option data-country-id="AD" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AD">Andorra</option>\n                                                    <option data-country-id="AO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AO">Angola</option>\n                                                    <option data-country-id="AI" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AI">Anguilla</option>\n                                                    <option data-country-id="AQ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AQ">Antarctica</option>\n                                                    <option data-country-id="AG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AG">Antigua and Barbuda</option>\n                                                    <option data-country-id="AR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AR">Argentina</option>\n                                                    <option data-country-id="AM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AM">Armenia</option>\n                                                    <option data-country-id="AW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AW">Aruba</option>\n                                                    <option data-country-id="AU" data-country-marketing-consent="true" data-enable-sales-tax-number="false" data-states="Australian Capital Territory|New South Wales|Northern Territory|Queensland|South Australia|Tasmania|Victoria|Western Australia" value="AU">Australia</option>\n                                                    <option data-country-id="AT" data-country-marketing-consent="false" data-vat-prefix="AT" data-vat-example="ATU12345678" data-vat-local-lang="UID" data-enable-sales-tax-number="false" value="AT">Austria</option>\n                                                    <option data-country-id="AZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AZ">Azerbaijan</option>\n                                                    <option data-country-id="BS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BS">Bahamas</option>\n                                                    <option data-country-id="BH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BH">Bahrain</option>\n                                                    <option data-country-id="BD" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BD">Bangladesh</option>\n                                                    <option data-country-id="BB" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BB">Barbados</option>\n                                                    <option data-country-id="BY" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BY">Belarus</option>\n                                                    <option data-country-id="BE" data-country-marketing-consent="false" data-vat-prefix="BE" data-vat-example="BE1234567890" data-vat-local-lang="n° TVA / BTW-Nr / Mwst-Nr" data-enable-sales-tax-number="false" value="BE">Belgium</option>\n                                                    <option data-country-id="BZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BZ">Belize</option>\n                                                    <option data-country-id="BJ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BJ">Benin</option>\n                                                    <option data-country-id="BM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BM">Bermuda</option>\n                                                    <option data-country-id="BT" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BT">Bhutan</option>\n                                                    <option data-country-id="BO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BO">Bolivia, Plurinational State of</option>\n                                                    <option data-country-id="BQ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BQ">Bonaire, Sint Eustatius and Saba</option>\n                                                    <option data-country-id="BA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BA">Bosnia and Herzegovina</option>\n                                                    <option data-country-id="BW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BW">Botswana</option>\n                                                    <option data-country-id="BV" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BV">Bouvet Island</option>\n                                                    <option data-country-id="BR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BR">Brazil</option>\n                                                    <option data-country-id="IO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="IO">British Indian Ocean Territory</option>\n                                                    <option data-country-id="BN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BN">Brunei Darussalam</option>\n                                                    <option data-country-id="BG" data-country-marketing-consent="false" data-vat-prefix="BG" data-vat-example="BG123456789" data-vat-local-lang="ДДС номер" data-enable-sales-tax-number="false" value="BG">Bulgaria</option>\n                                                    <option data-country-id="BF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BF">Burkina Faso</option>\n                                                    <option data-country-id="BI" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BI">Burundi</option>\n                                                    <option data-country-id="CV" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CV">Cabo Verde</option>\n                                                    <option data-country-id="KH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KH">Cambodia</option>\n                                                    <option data-country-id="CM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CM">Cameroon</option>\n                                                    <option data-country-id="CA" data-country-marketing-consent="true" data-enable-sales-tax-number="false"  data-states="Alberta|British Columbia|Manitoba|New Brunswick|Newfoundland and Labrador|Northwest Territories|Nova Scotia|Nunavut|Ontario|Prince Edward Island|Quebec:ca_qst:QST Registration Number:1234567890TQ1234:1:1|Yukon" value="CA">Canada</option>\n                                                    <option data-country-id="KY" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KY">Cayman Islands</option>\n                                                    <option data-country-id="CF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CF">Central African Republic</option>\n                                                    <option data-country-id="TD" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TD">Chad</option>\n                                                    <option data-country-id="CL" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CL">Chile</option>\n                                                    <option data-country-id="CN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CN">China</option>\n                                                    <option data-country-id="CX" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CX">Christmas Island</option>\n                                                    <option data-country-id="CC" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CC">Cocos (Keeling) Islands</option>\n                                                    <option data-country-id="CO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CO">Colombia</option>\n                                                    <option data-country-id="KM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KM">Comoros</option>\n                                                    <option data-country-id="CG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CG">Congo</option>\n                                                    <option data-country-id="CD" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CD">Congo, the Democratic Republic of the</option>\n                                                    <option data-country-id="CK" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CK">Cook Islands</option>\n                                                    <option data-country-id="CR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CR">Costa Rica</option>\n                                                    <option data-country-id="HR" data-country-marketing-consent="false" data-vat-prefix="HR" data-vat-example="HR12345678901" data-vat-local-lang="PDV-ID; OIB" data-enable-sales-tax-number="false" value="HR">Croatia</option>\n                                                    <option data-country-id="CW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CW">Curaçao</option>\n                                                    <option data-country-id="CY" data-country-marketing-consent="false" data-vat-prefix="CY" data-vat-example="CY12345678X" data-vat-local-lang="ΦΠΑ" data-enable-sales-tax-number="false" value="CY">Cyprus</option>\n                                                    <option data-country-id="CZ" data-country-marketing-consent="false" data-vat-prefix="CZ" data-vat-example="CZ12345678" data-vat-local-lang="DIČ" data-enable-sales-tax-number="false" value="CZ">Czech Republic</option>\n                                                    <option data-country-id="CI" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CI">Côte d\'Ivoire</option>\n                                                    <option data-country-id="DK" data-country-marketing-consent="false" data-vat-prefix="DK" data-vat-example="DK12345678" data-vat-local-lang="CVR" data-enable-sales-tax-number="false" value="DK">Denmark</option>\n                                                    <option data-country-id="DJ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="DJ">Djibouti</option>\n                                                    <option data-country-id="DM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="DM">Dominica</option>\n                                                    <option data-country-id="DO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="DO">Dominican Republic</option>\n                                                    <option data-country-id="EC" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="EC">Ecuador</option>\n                                                    <option data-country-id="EG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="EG">Egypt</option>\n                                                    <option data-country-id="SV" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SV">El Salvador</option>\n                                                    <option data-country-id="GQ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GQ">Equatorial Guinea</option>\n                                                    <option data-country-id="ER" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ER">Eritrea</option>\n                                                    <option data-country-id="EE" data-country-marketing-consent="false" data-vat-prefix="EE" data-vat-example="EE123456789" data-vat-local-lang="KMKR" data-enable-sales-tax-number="false" value="EE">Estonia</option>\n                                                    <option data-country-id="ET" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ET">Ethiopia</option>\n                                                    <option data-country-id="FK" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="FK">Falkland Islands (Malvinas)</option>\n                                                    <option data-country-id="FO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="FO">Faroe Islands</option>\n                                                    <option data-country-id="FJ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="FJ">Fiji</option>\n                                                    <option data-country-id="FI" data-country-marketing-consent="false" data-vat-prefix="FI" data-vat-example="FI12345678" data-vat-local-lang="ALV nro" data-enable-sales-tax-number="false" value="FI">Finland</option>\n                                                    <option data-country-id="FR" data-country-marketing-consent="false" data-vat-prefix="FR" data-vat-example="FR12345678901" data-vat-local-lang="n° TVA" data-enable-sales-tax-number="false" value="FR">France</option>\n                                                    <option data-country-id="GF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GF">French Guiana</option>\n                                                    <option data-country-id="PF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PF">French Polynesia</option>\n                                                    <option data-country-id="TF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TF">French Southern Territories</option>\n                                                    <option data-country-id="GA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GA">Gabon</option>\n                                                    <option data-country-id="GM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GM">Gambia</option>\n                                                    <option data-country-id="GE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GE">Georgia</option>\n                                                    <option data-country-id="DE" data-country-marketing-consent="false" data-vat-prefix="DE" data-vat-example="DE123456789" data-vat-local-lang="USt-IdNr." data-enable-sales-tax-number="false" value="DE">Germany</option>\n                                                    <option data-country-id="GH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GH">Ghana</option>\n                                                    <option data-country-id="GI" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GI">Gibraltar</option>\n                                                    <option data-country-id="GR" data-country-marketing-consent="false" data-vat-prefix="EL" data-vat-example="EL123456789" data-vat-local-lang="ΑΦΜ" data-enable-sales-tax-number="false" value="GR">Greece</option>\n                                                    <option data-country-id="GL" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GL">Greenland</option>\n                                                    <option data-country-id="GD" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GD">Grenada</option>\n                                                    <option data-country-id="GP" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GP">Guadeloupe</option>\n                                                    <option data-country-id="GU" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GU">Guam</option>\n                                                    <option data-country-id="GT" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GT">Guatemala</option>\n                                                    <option data-country-id="GG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GG">Guernsey</option>\n                                                    <option data-country-id="GN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GN">Guinea</option>\n                                                    <option data-country-id="GW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GW">Guinea-Bissau</option>\n                                                    <option data-country-id="GY" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GY">Guyana</option>\n                                                    <option data-country-id="HT" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="HT">Haiti</option>\n                                                    <option data-country-id="HM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="HM">Heard Island and McDonald Islands</option>\n                                                    <option data-country-id="VA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="VA">Holy See (Vatican City State)</option>\n                                                    <option data-country-id="HN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="HN">Honduras</option>\n                                                    <option data-country-id="HK" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="HK">Hong Kong</option>\n                                                    <option data-country-id="HU" data-country-marketing-consent="false" data-vat-prefix="HU" data-vat-example="HU12345678" data-vat-local-lang="ANUM" data-enable-sales-tax-number="false" value="HU">Hungary</option>\n                                                    <option data-country-id="IS" data-country-marketing-consent="false" data-enable-sales-tax-number="false" value="IS">Iceland</option>\n                                                    <option data-country-id="IN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="IN">India</option>\n                                                    <option data-country-id="ID" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ID">Indonesia</option>\n                                                    <option data-country-id="IQ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="IQ">Iraq</option>\n                                                    <option data-country-id="IE" data-country-marketing-consent="false" data-vat-prefix="IE" data-vat-example="IE1234567XX" data-vat-local-lang="VAT no" data-enable-sales-tax-number="false" value="IE">Ireland</option>\n                                                    <option data-country-id="IM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="IM">Isle of Man</option>\n                                                    <option data-country-id="IL" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="IL">Israel</option>\n                                                    <option data-country-id="IT" data-country-marketing-consent="false" data-vat-prefix="IT" data-vat-example="IT12345678901" data-vat-local-lang="P. IVA" data-enable-sales-tax-number="false" value="IT">Italy</option>\n                                                    <option data-country-id="JM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="JM">Jamaica</option>\n                                                    <option data-country-id="JP" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="JP">Japan</option>\n                                                    <option data-country-id="JE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="JE">Jersey</option>\n                                                    <option data-country-id="JO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="JO">Jordan</option>\n                                                    <option data-country-id="KZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KZ">Kazakhstan</option>\n                                                    <option data-country-id="KE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KE">Kenya</option>\n                                                    <option data-country-id="KI" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KI">Kiribati</option>\n                                                    <option data-country-id="KR" data-country-marketing-consent="true" data-enable-sales-tax-number="true" data-sales-tax-number-label="Tax Identification Number" data-sales-tax-number-example="123-45-67890" data-sales-tax-number-type="kr_vat" value="KR">Korea, Republic of</option>\n                                                    <option data-country-id="XK" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="XK">Kosovo</option>\n                                                    <option data-country-id="KW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KW">Kuwait</option>\n                                                    <option data-country-id="KG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KG">Kyrgyzstan</option>\n                                                    <option data-country-id="LA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="LA">Lao People\'s Democratic Republic</option>\n                                                    <option data-country-id="LV" data-country-marketing-consent="false" data-vat-prefix="LV" data-vat-example="LV12345678901" data-vat-local-lang="PVN" data-enable-sales-tax-number="false" value="LV">Latvia</option>\n                                                    <option data-country-id="LB" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="LB">Lebanon</option>\n                                                    <option data-country-id="LS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="LS">Lesotho</option>\n                                                    <option data-country-id="LR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="LR">Liberia</option>\n                                                    <option data-country-id="LY" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="LY">Libya</option>\n                                                    <option data-country-id="LI" data-country-marketing-consent="false" data-enable-sales-tax-number="false" value="LI">Liechtenstein</option>\n                                                    <option data-country-id="LT" data-country-marketing-consent="false" data-vat-prefix="LT" data-vat-example="LT123456789" data-vat-local-lang="PVM kodas" data-enable-sales-tax-number="false" value="LT">Lithuania</option>\n                                                    <option data-country-id="LU" data-country-marketing-consent="false" data-vat-prefix="LU" data-vat-example="LU12345678" data-vat-local-lang="No. TVA" data-enable-sales-tax-number="false" value="LU">Luxembourg</option>\n                                                    <option data-country-id="MO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MO">Macao</option>\n                                                    <option data-country-id="MK" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MK">Macedonia, the former Yugoslav Republic of</option>\n                                                    <option data-country-id="MG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MG">Madagascar</option>\n                                                    <option data-country-id="MW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MW">Malawi</option>\n                                                    <option data-country-id="MY" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MY">Malaysia</option>\n                                                    <option data-country-id="MV" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MV">Maldives</option>\n                                                    <option data-country-id="ML" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ML">Mali</option>\n                                                    <option data-country-id="MT" data-country-marketing-consent="false" data-vat-prefix="MT" data-vat-example="MT12345678" data-vat-local-lang="Vat No." data-enable-sales-tax-number="false" value="MT">Malta</option>\n                                                    <option data-country-id="MH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MH">Marshall Islands</option>\n                                                    <option data-country-id="MQ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MQ">Martinique</option>\n                                                    <option data-country-id="MR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MR">Mauritania</option>\n                                                    <option data-country-id="MU" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MU">Mauritius</option>\n                                                    <option data-country-id="YT" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="YT">Mayotte</option>\n                                                    <option data-country-id="MX" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MX">Mexico</option>\n                                                    <option data-country-id="FM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="FM">Micronesia, Federated States of</option>\n                                                    <option data-country-id="MD" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MD">Moldova, Republic of</option>\n                                                    <option data-country-id="MC" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MC">Monaco</option>\n                                                    <option data-country-id="MN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MN">Mongolia</option>\n                                                    <option data-country-id="ME" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ME">Montenegro</option>\n                                                    <option data-country-id="MS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MS">Montserrat</option>\n                                                    <option data-country-id="MA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MA">Morocco</option>\n                                                    <option data-country-id="MZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MZ">Mozambique</option>\n                                                    <option data-country-id="MM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MM">Myanmar</option>\n                                                    <option data-country-id="NA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NA">Namibia</option>\n                                                    <option data-country-id="NR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NR">Nauru</option>\n                                                    <option data-country-id="NP" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NP">Nepal</option>\n                                                    <option data-country-id="NL" data-country-marketing-consent="false" data-vat-prefix="NL" data-vat-example="NL123456789B01" data-vat-local-lang="Btw-nr." data-enable-sales-tax-number="false" value="NL">Netherlands</option>\n                                                    <option data-country-id="NC" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NC">New Caledonia</option>\n                                                    <option data-country-id="NZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NZ">New Zealand</option>\n                                                    <option data-country-id="NI" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NI">Nicaragua</option>\n                                                    <option data-country-id="NE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NE">Niger</option>\n                                                    <option data-country-id="NG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NG">Nigeria</option>\n                                                    <option data-country-id="NU" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NU">Niue</option>\n                                                    <option data-country-id="NF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="NF">Norfolk Island</option>\n                                                    <option data-country-id="MP" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MP">Northern Mariana Islands</option>\n                                                    <option data-country-id="NO" data-country-marketing-consent="false" data-enable-sales-tax-number="false" value="NO">Norway</option>\n                                                    <option data-country-id="OM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="OM">Oman</option>\n                                                    <option data-country-id="PK" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PK">Pakistan</option>\n                                                    <option data-country-id="PW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PW">Palau</option>\n                                                    <option data-country-id="PS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PS">Palestine, State of</option>\n                                                    <option data-country-id="PA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PA">Panama</option>\n                                                    <option data-country-id="PG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PG">Papua New Guinea</option>\n                                                    <option data-country-id="PY" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PY">Paraguay</option>\n                                                    <option data-country-id="PE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PE">Peru</option>\n                                                    <option data-country-id="PH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PH">Philippines</option>\n                                                    <option data-country-id="PN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PN">Pitcairn</option>\n                                                    <option data-country-id="PL" data-country-marketing-consent="false" data-vat-prefix="PL" data-vat-example="PL1234567890" data-vat-local-lang="NIP" data-enable-sales-tax-number="false" value="PL">Poland</option>\n                                                    <option data-country-id="PT" data-country-marketing-consent="false" data-vat-prefix="PT" data-vat-example="PT123456789" data-vat-local-lang="NIF / NIPC" data-enable-sales-tax-number="false" value="PT">Portugal</option>\n                                                    <option data-country-id="PR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PR">Puerto Rico</option>\n                                                    <option data-country-id="QA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="QA">Qatar</option>\n                                                    <option data-country-id="RO" data-country-marketing-consent="false" data-vat-prefix="RO" data-vat-example="RO1234567890" data-vat-local-lang="CIF" data-enable-sales-tax-number="false" value="RO">Romania</option>\n                                                    <option data-country-id="RU" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="RU">Russian Federation</option>\n                                                    <option data-country-id="RW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="RW">Rwanda</option>\n                                                    <option data-country-id="RE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="RE">Réunion</option>\n                                                    <option data-country-id="BL" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="BL">Saint Barthélemy</option>\n                                                    <option data-country-id="SH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SH">Saint Helena, Ascension and Tristan da Cunha</option>\n                                                    <option data-country-id="KN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="KN">Saint Kitts and Nevis</option>\n                                                    <option data-country-id="LC" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="LC">Saint Lucia</option>\n                                                    <option data-country-id="MF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="MF">Saint Martin</option>\n                                                    <option data-country-id="PM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="PM">Saint Pierre and Miquelon</option>\n                                                    <option data-country-id="VC" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="VC">Saint Vincent and the Grenadines</option>\n                                                    <option data-country-id="WS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="WS">Samoa</option>\n                                                    <option data-country-id="SM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SM">San Marino</option>\n                                                    <option data-country-id="ST" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ST">Sao Tome and Principe</option>\n                                                    <option data-country-id="SA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SA">Saudi Arabia</option>\n                                                    <option data-country-id="SN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SN">Senegal</option>\n                                                    <option data-country-id="RS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="RS">Serbia</option>\n                                                    <option data-country-id="SC" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SC">Seychelles</option>\n                                                    <option data-country-id="SL" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SL">Sierra Leone</option>\n                                                    <option data-country-id="SG" data-country-marketing-consent="true" data-enable-sales-tax-number="true" data-sales-tax-number-label="GST Registration Number" data-sales-tax-number-example="M12345678X" data-sales-tax-number-type="sg_gst" value="SG">Singapore</option>\n                                                    <option data-country-id="SX" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SX">Sint Maarten</option>\n                                                    <option data-country-id="SK" data-country-marketing-consent="false" data-vat-prefix="SK" data-vat-example="SK1234567890" data-vat-local-lang="IČ DPH" data-enable-sales-tax-number="false" value="SK">Slovakia</option>\n                                                    <option data-country-id="SI" data-country-marketing-consent="false" data-vat-prefix="SI" data-vat-example="SI12345678" data-vat-local-lang="ID za DDV" data-enable-sales-tax-number="false" value="SI">Slovenia</option>\n                                                    <option data-country-id="SB" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SB">Solomon Islands</option>\n                                                    <option data-country-id="SO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SO">Somalia</option>\n                                                    <option data-country-id="ZA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ZA">South Africa</option>\n                                                    <option data-country-id="GS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="GS">South Georgia and the South Sandwich Islands</option>\n                                                    <option data-country-id="SS" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SS">South Sudan</option>\n                                                    <option data-country-id="ES" data-country-marketing-consent="false" data-vat-prefix="ES" data-vat-example="ES12345678X" data-vat-local-lang="NIF / CIF" data-enable-sales-tax-number="false" value="ES">Spain</option>\n                                                    <option data-country-id="LK" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="LK">Sri Lanka</option>\n                                                    <option data-country-id="SD" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SD">Sudan</option>\n                                                    <option data-country-id="SR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SR">Suriname</option>\n                                                    <option data-country-id="SJ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SJ">Svalbard and Jan Mayen</option>\n                                                    <option data-country-id="SZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="SZ">Swaziland</option>\n                                                    <option data-country-id="SE" data-country-marketing-consent="false" data-vat-prefix="SE" data-vat-example="SE123456789101" data-vat-local-lang="Momsnr." data-enable-sales-tax-number="false" value="SE">Sweden</option>\n                                                    <option data-country-id="CH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="CH">Switzerland</option>\n                                                    <option data-country-id="TW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TW">Taiwan</option>\n                                                    <option data-country-id="TJ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TJ">Tajikistan</option>\n                                                    <option data-country-id="TZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TZ">Tanzania, United Republic of</option>\n                                                    <option data-country-id="TH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TH">Thailand</option>\n                                                    <option data-country-id="TL" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TL">Timor-Leste</option>\n                                                    <option data-country-id="TG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TG">Togo</option>\n                                                    <option data-country-id="TK" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TK">Tokelau</option>\n                                                    <option data-country-id="TO" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TO">Tonga</option>\n                                                    <option data-country-id="TT" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TT">Trinidad and Tobago</option>\n                                                    <option data-country-id="TN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TN">Tunisia</option>\n                                                    <option data-country-id="TR" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TR">Turkey</option>\n                                                    <option data-country-id="TM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TM">Turkmenistan</option>\n                                                    <option data-country-id="TC" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TC">Turks and Caicos Islands</option>\n                                                    <option data-country-id="TV" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="TV">Tuvalu</option>\n                                                    <option data-country-id="UG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="UG">Uganda</option>\n                                                    <option data-country-id="UA" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="UA">Ukraine</option>\n                                                    <option data-country-id="AE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AE">United Arab Emirates</option>\n                                                    <option data-country-id="GB" data-country-marketing-consent="false" data-vat-prefix="GB" data-vat-example="GB123456789" data-enable-sales-tax-number="false" value="GB">United Kingdom</option>\n                                                    <option data-country-id="US" data-country-marketing-consent="true" data-enable-sales-tax-number="false" data-states="Alabama|Alaska|American Samoa|Arizona|Arkansas|California|Colorado|Connecticut|Delaware|District of Columbia|Florida|Georgia|Hawaii|Idaho|Illinois|Indianav|Iowa|Kansas|Kentucky|Louisiana|Maine|Maryland|Massachusetts|Michigan|Minnesota|Mississippi|Missouri|Montana|Nebraska|Nevada|New Hampshire|New Jersey|New Mexico|New York|North Carolina|North Dakota|Ohio|Oklahoma|Oregon|Pennsylvania|Rhode Island|South Carolina|South Dakota|Tennessee|Texas|Utah|Vermont|Virginia|Washington|West Virginia|Wisconsin|Wyoming" value="US">United States</option>\n                                                    <option data-country-id="UM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="UM">United States Minor Outlying Islands</option>\n                                                    <option data-country-id="UY" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="UY">Uruguay</option>\n                                                    <option data-country-id="UZ" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="UZ">Uzbekistan</option>\n                                                    <option data-country-id="VU" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="VU">Vanuatu</option>\n                                                    <option data-country-id="VE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="VE">Venezuela, Bolivarian Republic of</option>\n                                                    <option data-country-id="VN" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="VN">Vietnam</option>\n                                                    <option data-country-id="VG" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="VG">Virgin Islands, British</option>\n                                                    <option data-country-id="VI" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="VI">Virgin Islands, U.S.</option>\n                                                    <option data-country-id="WF" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="WF">Wallis and Futuna</option>\n                                                    <option data-country-id="EH" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="EH">Western Sahara</option>\n                                                    <option data-country-id="YE" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="YE">Yemen</option>\n                                                    <option data-country-id="ZM" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ZM">Zambia</option>\n                                                    <option data-country-id="ZW" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="ZW">Zimbabwe</option>\n                                                    <option data-country-id="AX" data-country-marketing-consent="true" data-enable-sales-tax-number="false" value="AX">Åland Islands</option>\n                                                </optgroup>\n                                            </select>\n                                        </div>\n                                        <div class="form-field__error form-field__error--required">').concat(m("required"),'</div>\n                                    </div>\n                                </div>\n                            \n                                <div class="form-grid__half">\n                                    <div class="form-field " data-field="emailAddress">\n                                        <div class="form-field__item form-field__item--text ').concat(l.email?"form-field--has-value":"",'" >\n                                            <input id="emailAddress" class="input form-field__input input--email required" data-group="tax" name="emailAddress" type="email" value="').concat(l.email?l.email:"",'" required="">\n                                            <label for="emailAddress" class="form-field__label form-field__label--dynamic">').concat(m("Email address"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Email address is required"),'</div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--email">').concat(m("Invalid Email"),'</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="form-grid">\n                            \n                                <div class="form-grid__half">\n                                    <div class="form-field" data-field="company">\n                                        <div class="form-field__item form-field__item--text ').concat(l.company?"form-field--has-value":"",'">\n                                            <input id="company" class="input form-field__input input--text form-field__input--word-required" data-group="tax" name="company" type="text" value="').concat(l.company?l.company:"",'" required="">\n                                            <label for="company" class="form-field__label form-field__label--dynamic">').concat(m("Company name"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Company name is required"),'</div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--word">').concat(m("Invalid Company name"),'</div>\n                                    </div>\n                                </div>\n                        \n                                <div class="form-grid__half">\n                                    <div class="form-field" data-field="taxField">\n                                        <div class="form-field__item form-field__item--text ').concat(l.tax?"form-field--has-value":"",'">\n                                            <input id="taxField" class="input form-field__input input--text" name="taxField" data-group="tax" type="text" value="').concat(l.tax?l.tax:"",'" placeholder="">\n                                            <label id="taxFieldL" for="taxField" class="form-field__label form-field__label--dynamic">').concat(m("TAX ID"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("VAT is required"),'</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="form-grid">\n                                <div class="form-grid__whole">\n                                    <div class="form-field" data-field="addr1Field">\n                                        <div class="form-field__item form-field__item--text ').concat(l.addr1?"form-field--has-value":"",'">\n                                            <input id="addr1Field" class="input form-field__input input--text required" name="addr1Field" data-group="tax" type="text" value="').concat(l.addr1?l.addr1:"",'" >\n                                            <label for="addr1Field" class="form-field__label form-field__label--dynamic required">').concat(m("Address line 1 *"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Address line 1 is required"),'</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="form-grid">\n                                <div class="form-grid__whole">\n                                    <div class="form-field" data-field="addr2Field">\n                                        <div class="form-field__item form-field__item--text ').concat(l.addr2?"form-field--has-value":"",'">\n                                            <input id="addr2Field" class="input form-field__input input--text" data-group="tax" name="addr2Field" type="text" value="').concat(l.addr2?l.addr2:"",'">\n                                            <label for="addr2Field" class="form-field__label form-field__label--dynamic">').concat(m("Address line 2"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Address line 2 is required"),'</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="form-grid" style="display: none;">\n                                <div class="form-grid__whole">\n                                    <div class="form-field form-field--has-value" data-field="stateField">\n                                        <div class="form-field__item form-field__item--text ').concat(l.state?"form-field--has-value":"",'">\n                                            <select name="stateField" id="stateField" class="input form-field__input input--select" data-group="tax" value="').concat(l.state?l.state:"",'"></select>\n                                            \x3c!-- <input id="stateField" class="input form-field__input input--text" name="stateField" type="text"> --\x3e\n                                            <label for="stateField" class="form-field__label form-field__label--dynamic">').concat(m("State / Province / Region"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("State / Province / Region is required"),'</div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            <div class="form-grid">       \n                                <div class="form-grid__half">\n                                    <div class="form-field" data-field="cityField">\n                                        <div class="form-field__item form-field__item--text ').concat(l.city?"form-field--has-value":"",'">\n                                            <input id="cityField" class="input form-field__input input--text form-field__input--word-required required" data-group="tax" name="cityField" type="text" required="" value="').concat(l.city?l.city:"",'">\n                                            <label for="cityField" class="form-field__label form-field__label--dynamic">City</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("City is required"),'</div>\n                                    </div>\n                                </div>\n                            \n                                <div class="form-grid__half">\n                                    <div class="form-field " data-field="zipField">\n                                        <div class="form-field__item form-field__item--text ').concat(l.zip?"form-field--has-value":"",'">\n                                            <input id="zipField" class="input form-field__input input--zip" data-group="tax" name="zipField" type="text" required="">\n                                            <label for="zipField" class="form-field__label form-field__label--dynamic">').concat(m("Zip / Postal"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required" value="').concat(l.zip?l.zip:"",'">').concat(m("Zip / Postal Code is required"),'</div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--zip">').concat(m("Invalid Zip code"),'</div>\n                                    </div>\n                                </div>\n                            </div> \n                        </div>\n                    </div>\n\n                    <div class="form-grid form-grid-check ').concat("0"==t.getCheckoutField(t,"general","tax").val?"dn":"",'">\n                        <div class="form-grid__whole">\n                            <div class="form-field" data-field="taxInvoice">\n                                <div class="form-field__item form-field__item--option-group">\n                                    <label for="taxInvoice" class="option-group-item option-group-item--block">\n                                    <input id="taxInvoice" value="Y" type="checkbox" class="input input--checkbox field-gdpr" name="taxInvoice" required="">\n                                    ').concat(m("I need TAX invoice."),'\n                                    </label>\n                                </div>\n                                <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Please check the box to continue."),'</div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="form-grid form-grid-check">\n                        <div class="form-grid__whole">\n                            <div class="form-field" data-field="optField">\n                                <div class="form-field__item form-field__item--option-group">\n                                    <label for="optField" class="option-group-item option-group-item--block">\n                                    <input id="optField" value="Y" type="checkbox" class="input input--checkbox field-gdpr" name="optField" required="">\n                                    ').concat(m("I agree to the Terms of Service."),'\n                                    </label>\n                                </div>\n                                <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Please check the box to continue."),'</div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="payment-methods ').concat(""==document.querySelector(".btn-checkout").dataset.price?"dn":"",'">\n                        ').concat("2"==t.state.parent.layout.data.posmode.value||"1"==t.state.parent.layout.data.posmode.value?'\n                                <div class="form-check">\n                                    <input class="form-check-input" type="radio" name="paymenth_method" id="methodpos" value="pos" '.concat(1==t.state.payment.getMethods().length?"checked":"",'>\n                                    <label class="form-check-label" value="pos" for="methodpos">').concat(m("POS mode"),"</label>\n                                </div>\n                            "):t.state.payment.getMethods().map((function(e,a){return'\n                                    <div class="form-check">\n                                        <input class="form-check-input" type="radio" name="paymenth_method" id="method'.concat(e.id,'" value="').concat(e.id,'" ').concat(1==t.state.payment.getMethods().length?"checked":"",'>\n                                        <label class="form-check-label" value="').concat(e.id,'" for="method').concat(e.id,'">').concat(e.title,"</label>\n                                    </div>")})).join(""),'\n                        <div class="payment-extra-fields dn" style="padding-top: 1rem;padding-bottom: 0.5rem;">\n\n                            <div class="form-grid" >\n                                <div class="form-grid__whole">\n                                    <div class="form-field" data-field="cardnumber">\n                                        <div class="form-field__item form-field__item--text">\n                                            <input id="cardnumber" class="input input-sm form-field__input input--text required" data-group="pay" name="cardnumber" type="text" maxlength="19">\n                                            <label for="cardnumber" class="form-field__label form-field__label--dynamic">').concat(m("Credit Card Number"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required" data-default="').concat(u("Card number is required"),'">').concat(m("Card number is required"),'</div>\n                                    </div>\n                                </div>\n                            </div>\n                       \n                            <div class="form-grid">       \n                                <div class="form-grid__half">\n                                    <div class="form-field" data-field="cardexp">\n                                        <div class="form-field__item form-field__item--text">\n                                            <input id="cardexp" class="input form-field__input input--text required" data-group="pay" name="cardexp" type="text" required="" maxlength="4">\n                                            <label for="cardexp" class="form-field__label form-field__label--dynamic">').concat(m("Expiry (MMYY)"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required" data-default="').concat(u("Expiry field is required"),'">').concat(m("Expiry field is required"),'</div>\n                                    </div>\n                                </div>\n                            \n                                <div class="form-grid__half">\n                                    <div class="form-field " data-field="cardcvv">\n                                        <div class="form-field__item form-field__item--text" >\n                                            <input id="cardcvv" class="input form-field__input input--text required" data-group="pay" name="cardcvv" type="text" required="" maxlength="4">\n                                            <label for="cardcvv" class="form-field__label form-field__label--dynamic">').concat(m("CVV"),'</label>\n                                        </div>\n                                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required" data-default="').concat(u("CVV field is required"),'">').concat(m("CVV field is required"),'</div>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Please choose payment method"),'</div>\n                    </div>\n                        \n                    <p class="dn checkout-note">').concat(m("* discount applied"),'</p>\n\n                    <div class="checkout-error">\n                        <div aria-live="assertive" aria-relevant="additions removals" class="form-field__error form-field__error--required">').concat(m("Please choose payment method"),'</div>\n                    </div>\n                    <button type="button" class="btn btn-payment" data-price="').concat(document.querySelector(".btn-checkout").dataset.price,'"><span class="btxt">').concat(document.querySelector(".btn-checkout").innerHTML,'</span><span class="ld blod" style="color:#fff"></span></button>\n                </div>\n            </div>\n            '),console.log(t.state.parent.layout.data.posmode),e.addEventListener("scroll",(function(t){return t.preventDefault(),!1}));var d=function(t){"plugnpay"==t&&document.querySelector(".payment-extra-fields").classList.remove("dn")};g(".form-check-input",(function(t){t.preventDefault(),document.querySelector(".payment-extra-fields").classList.add("dn"),d(t.currentTarget.value)})),document.querySelector(".form-check-input")?document.querySelector(".form-check-input").value&&d(document.querySelector(".form-check-input").value):document.querySelector(".payment-methods").innerHTML=m("No payment methods enabled"),e.querySelector(".kbox-close-small").addEventListener("click",(function(t){e.querySelector("html").classList.remove("ns"),e.querySelector(".kbox-container").remove()})),_("#cardnumber",[8,46]),_("#cardexp",[8,46]),_("#cardcvv",[8,46]);var c=!1;e.querySelector(".btn-payment").addEventListener("click",(function(a){c=!0;var n,r,i=s(e.querySelectorAll(".form-field__input"));try{for(i.s();!(n=i.n()).done;){var l=n.value;if(l.classList.contains("required")&&0==l.value.length)switch(l.dataset.group){case"tax":document.querySelector("#taxInvoice").checked&&(c=!1,l.parentNode.parentNode.classList.add("form-field--has-error"),l.parentNode.parentNode.classList.add("form-field--has-required-error"));break;case"pay":"plugnpay"==document.querySelector("input[name=paymenth_method]:checked").value&&(c=!1,l.parentNode.parentNode.classList.add("form-field--has-error"),l.parentNode.parentNode.classList.add("form-field--has-required-error"),l.parentNode.parentNode.querySelector(".form-field__error").innerHTML=l.parentNode.parentNode.querySelector(".form-field__error").dataset.default);break;default:c=!1,l.parentNode.parentNode.classList.add("form-field--has-error"),l.parentNode.parentNode.classList.add("form-field--has-required-error")}else l.parentNode.parentNode.classList.remove("form-field--has-error"),l.parentNode.parentNode.classList.remove("form-field--has-required-error"),l.classList.contains("input--email")&&(r=l.value.trim(),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,14})+$/.test(r)||(c=!1,l.parentNode.parentNode.classList.add("form-field--has-error"),l.parentNode.parentNode.classList.add("form-field--has-required-error"),l.parentNode.parentNode.querySelector(".form-field__error").innerHTML=m("Wrong email format")))}}catch(t){i.e(t)}finally{i.f()}c||document.getElementById("bd").scrollIntoView();var d=e.querySelector("#optField");d.checked?d.parentNode.parentNode.parentNode.classList.remove("form-field--has-required-error"):(c=!1,d.parentNode.parentNode.parentNode.classList.add("form-field--has-required-error")),document.querySelector(".payment-methods").classList.remove("form-field--has-required-error"),document.querySelector("input[name=paymenth_method]:checked")||(c=!1,document.querySelector(".payment-methods").classList.add("form-field--has-required-error")),document.querySelector("input[name=paymenth_method]:checked")&&"plugnpay"==document.querySelector("input[name=paymenth_method]:checked").value&&(document.querySelector("#cardnumber").value.length<9&&(c=!1,document.querySelector("#cardnumber").parentNode.parentNode.classList.add("form-field--has-required-error"),document.querySelector("#cardnumber").parentNode.parentNode.querySelector(".form-field__error").innerHTML=m("Wrong card format")),document.querySelector("#cardexp").value.length<4&&(c=!1,document.querySelector("#cardexp").parentNode.parentNode.classList.add("form-field--has-required-error"),document.querySelector("#cardexp").parentNode.parentNode.querySelector(".form-field__error").innerHTML=m("Expiry date is incorrect")),document.querySelector("#cardcvv").value.length<3&&(c=!1,document.querySelector("#cardcvv").parentNode.parentNode.classList.add("form-field--has-required-error"),document.querySelector("#cardcvv").parentNode.parentNode.querySelector(".form-field__error").innerHTML=m("CVV date is too short"))),c&&(e.querySelector(".blod").style.display="inline-flex",setTimeout((function(){t.state.checkout={fname:document.querySelector("#firstName").value.trim(),lname:document.querySelector("#lastName").value.trim(),email:document.querySelector("#emailAddress").value.trim(),addr1:document.querySelector("#addr1Field").value.trim(),addr2:document.querySelector("#addr2Field").value.trim(),city:document.querySelector("#cityField").value.trim(),postal:document.querySelector("#zipField").value.trim(),company:document.querySelector("#company").value.trim(),tax:document.querySelector("#taxField").value.trim(),coup:document.querySelector("#coupField").value.trim(),tax_invoice:document.querySelector("#taxInvoice").checked,hallPackageId:sessionStorage.getItem("date_select"),hallUserId:sessionStorage.getItem("myticket_user_id"),holders:[]},o(document.querySelectorAll(".holder-cont .form-grid")).forEach((function(e,a){var n={name:e.querySelector('[name="ticketName"]').value.trim(),email:e.querySelector('[name="ticketEmail"]').value.trim(),phone:e.querySelector('[name="ticketPhone"]').value.trim(),ticket:t.state.parent.tickets?t.state.parent.tickets[a]:{}};t.state.checkout.holders.push(n)})),sessionStorage.setItem("myticket_checkout",JSON.stringify(t.state.checkout)),t.initPayment()}),1200)),a.preventDefault()})),t.initFields()}))})),n(this,"initFields",(function(){var t,e=l,a=document,n=a.querySelectorAll(".form-field__input"),o=s(n);try{for(o.s();!(t=o.n()).done;){t.value.addEventListener("focus",(function(t){this.parentNode.parentNode.classList.add("form-field--has-focus")}))}}catch(t){o.e(t)}finally{o.f()}var r,i=s(n);try{for(i.s();!(r=i.n()).done;){r.value.addEventListener("focusout",(function(t){this.parentNode.parentNode.classList.remove("form-field--has-focus")}))}}catch(t){i.e(t)}finally{i.f()}var d,c=s(n);try{for(c.s();!(d=c.n()).done;){d.value.addEventListener("change",(function(t){0==this.value.length?this.parentNode.parentNode.classList.remove("form-field--has-value"):this.parentNode.parentNode.classList.add("form-field--has-value")}))}}catch(t){c.e(t)}finally{c.f()}a.querySelector("#countryField").addEventListener("change",(function(t){var e='<option data-tax-number="false" data-val="" value="">Please select</option>',n=this.options[this.selectedIndex],o=a.querySelector("#stateField");if(void 0!==n.dataset.states){var r=n.dataset.states.split("|");for(var i in r){var s=r[i].split(":");e+='<option data-tax-number="'+(s.length>2)+'" data-val="'+r[i]+'" value="'+s[0]+'">'+s[0]+"</option>"}o.classList.add("required"),o.parentNode.parentNode.parentNode.parentNode.style.display="block"}else o.classList.remove("required"),o.parentNode.parentNode.parentNode.parentNode.style.display="none";o.innerHTML=e,a.querySelector("#taxFieldL").innerHTML="Tax ID",a.querySelector("#taxField").setAttribute("placeholder",""),void 0!==n.dataset.vatExample&&(a.querySelector("#taxFieldL").innerHTML="EU VAT Identification Number",a.querySelector("#taxField").setAttribute("placeholder",n.dataset.vatExample)),void 0!==n.dataset.salesTaxNumberLabel&&(a.querySelector("#taxFieldL").innerHTML=n.dataset.salesTaxNumberLabel,a.querySelector("#taxField").setAttribute("placeholder",n.dataset.salesTaxNumberExample))}));var u=null;a.querySelector("#coupField").addEventListener("keyup",(function(t){t.currentTarget.value.length<6||(u&&(clearTimeout(u),u=null),u=setTimeout((function(t){e.getCoupon(t)}),2e3,t.currentTarget.value.trim().toUpperCase()))})),b("#taxInvoice",(function(t){t.currentTarget.checked?(a.querySelector(".tax-cont").classList.remove("dn"),a.querySelector(".holder-cont").style.marginBottom=""):(a.querySelector(".tax-cont").classList.add("dn"),l.adjustHeight())})),l.adjustHeight()})),n(this,"getCoupon",(function(t){var e=document,a=l;fetch("https://api.ecommerce.app.kenzap.cloud/",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Kenzap-Locale":x("locale")?x("locale"):"en","Kenzap-Sid":a.state.sid},body:JSON.stringify({query:{coupon:{type:"check-coupon",coupon:t}}})}).then((function(t){return t.json()})).then((function(t){if(t.success){e.querySelector("#coupField").parentNode.parentNode.parentNode.classList.remove("form-field--has-error"),e.querySelector("#coupField").parentNode.parentNode.parentNode.classList.remove("form-field--has-coup0-error"),e.querySelector("#coupField").parentNode.parentNode.querySelector(".form-field__error--coup0").style.display="none";var n=parseFloat(e.querySelector(".btn-payment").dataset.price);"percent"==t.coupon.coupon.type&&(n*=(100-parseFloat(t.coupon.coupon.amount))/100),"value"==t.coupon.coupon.type&&(n-=parseFloat(t.coupon.coupon.amount)),n<0&&(n=0),0==n&&e.querySelector(".payment-methods").classList.add("dn"),e.querySelector(".btn-payment .btxt span").style.textDecoration="line-through",e.querySelector(".checkout-note").innerHTML=m("New price applied %1$",w(a.state.parent.response.event,n)),e.querySelector(".checkout-note").classList.remove("dn"),a.state.coupon=t.coupon.coupon}else{if(e.querySelector("#coupField").parentNode.parentNode.parentNode.classList.add("form-field--has-error"),e.querySelector("#coupField").parentNode.parentNode.parentNode.classList.add("form-field--has-coup0-error"),e.querySelector("#coupField").parentNode.parentNode.querySelector(".form-field__error--coup0").style.display="block",410==t.code||411==t.code)return e.querySelector("#coupField").parentNode.parentNode.querySelector(".form-field__error--coup0").innerHTML=m("Invalid coupon code"),void(e.querySelector("#coupField").parentNode.parentNode.querySelector(".form-field__error--coup0").style.display="block");y(t)}})).catch((function(t){console.error("Error:",t)}))})),n(this,"adjustHeight",(function(){var t=document;t.querySelector("body").clientWidth>900&&(t.querySelector(".popup-data").style.width="600px");var e=parseInt(t.querySelector("#checkout-box").clientHeight),a=460+168*l.state.qty;e>a&&(t.querySelector(".holder-cont").style.marginBottom=e-a+"px")})),n(this,"initPayment",(function(){var t=l,e=document;if(!t.state.inQuery){var a,n,o;t.state.inQuery=!0,document.querySelector(".kenzap-hall-layout")?(o=t.state.data.event.title,n=0,t.state.parent.tickets.forEach((function(e){e.price?n+=parseFloat(e.price):n+=parseFloat(t.state.parent.price)})),n*=100,a=0):(o=t.state.data.event.title+" - "+document.querySelector('input[name="pack-group"]:checked').parentNode.querySelector(".title").innerHTML,n=parseInt(100*parseFloat(document.querySelector('input[name="pack-group"]:checked').dataset.price)),a=document.querySelector('input[name="pack-group"]:checked').dataset.box),t.state.coupon&&("percent"==t.state.coupon.type&&(n*=(100-parseFloat(t.state.coupon.amount))/100),"value"==t.state.coupon.type&&(n-=100*parseFloat(t.state.coupon.amount)),n<0&&(n=0),t.state.checkout.coupon=t.state.coupon);t.state.checkout.event={_id:t.state.data.event._id,img:t.state.data.event.img,title:t.state.data.event.title,variation:a,tagline:t.state.data.event.tagline,eventvenue:t.state.data.event.eventvenue,discounts:t.state.data.event.discounts,eventbegins:t.state.data.event.eventbegins,eventends:t.state.data.event.eventends,eventlocation:t.state.data.event.eventlocation,packagefeatures:t.state.data.event.packagefeatures,settings:t.state.data.event.settings},t.state.data.event.variations.map((function(e,a){e.id==sessionStorage.getItem("date_select")&&(t.state.checkout.event.package=e)})).join(""),l.state.payment.pay({fail:function(a){e.querySelector(".blod").style.display="none",e.querySelector(".checkout-error").classList.add("form-field--has-error"),e.querySelector(".checkout-error > div").innerHTML=m(a.reason),t.state.inQuery=!1},success:function(a){e.querySelector(".blod").style.display="none",t.state.parent.tickets=[],sessionStorage.getItem("date_select")&&sessionStorage.removeItem("tickets_"+t.state.data.event._id+"_"+sessionStorage.getItem("date_select")),document.querySelector(".kp-btn-reserve")&&(document.querySelector(".kp-btn-reserve").style.display="none"),document.querySelector(".kp-table")&&(document.querySelector(".kp-table").style.display="none"),t.state.inQuery=!1},method:0==n?"free":document.querySelector("input[name=paymenth_method]:checked").value,checkout:t.state.checkout,email:t.state.checkout.holders[0].email,title:o,description:t.state.data.event.sdesc,images:["https://kenzap-sites.oss-ap-southeast-1.aliyuncs.com/S"+t.state.data.event.sid+"/event-"+t.state.data.event._id+"-1-250.webp?"+t.state.data.event.updated],quantity:t.state.checkout.holders.length,amount:n,currency:t.state.data.event.settings.currency?t.state.data.event.settings.currency:"USD",card:{cardnumber:document.querySelector("#cardnumber")?document.querySelector("#cardnumber").value:"",cardexp:document.querySelector("#cardexp")?document.querySelector("#cardexp").value:"",cardcvv:document.querySelector("#cardcvv")?document.querySelector("#cardcvv").value:""}})}})),n(this,"getCheckoutField",(function(t,e,a){var n=t.state.data.event.settings.checkout_fields[e].filter((function(t){return t.field==a}));return n?n[0]:{val:"0"}})),n(this,"getAPI",(function(){return 0==window.location.host.indexOf("localhost")?"https://api.myticket-dev.app.kenzap.cloud/":"https://api.myticket.app.kenzap.cloud/"})),this.state={parent:a,data:a.response,inQuery:!1,cont:r,sid:i},this.init()})),T=a((function e(a){var o=this;t(this,e),n(this,"init",(function(){var t=o.state.hall_js,e=o.state.current_zone_id,a=parseInt(t.areas[e].seats.tns);if(o.state.reservations||(o.state.reservations=[]),a>1&&document.querySelector(".picker_select").innerHTML.length<10){var n=0,r="",i=o.state.tickets.filter((function(t){return t.zone_id==e})),s=o.getPassBookings();for(console.log(a);n<=o.state.ticketspbooking&&n<=a;)r+='<option style="'+(n>a-s.length?"display:none;":"")+'" value="'+n+'" '+(i.length==n?"selected":"")+" >"+n+"</option>",n++;document.querySelector(".picker_select").innerHTML=r,document.querySelector(".picker_select").dataset.l=n,document.querySelector(".picker_select").dataset.listener||g(".picker_select",(function(t){o.update()}))}})),n(this,"update",(function(){var t=o,e=o.state.hall_js,a=parseInt(o.state.current_zone_id);parseInt(e.areas[a].seats.tns),document.querySelector(".picker_select").dataset.listener=!0;var n=parseInt(document.querySelector(".picker_select").value),r=0;console.log(document.querySelector(".picker_select").value+" - picker_select"+n),o.parent.removeTicket("zone",a),r=0;for(var i=function(){var i={id:"p"+r,pass_number:n,pass_index:r,pass_text:r+1,zone_id:a,zone_text:e.areas[a].seats.title,path:"z"+a+"p"+r,title:e.areas[a].seats.title,price:parseFloat(e.areas[a].seats.price?e.areas[a].seats.price:o.state.price),cfs:e.cfs,type:"pass",render:o.data.rendertype.value};Object.keys(e.areas[a].seats).map((function(n,o){t.state.exclude.includes(n)||(i[n]=e.areas[a].seats[n])})),o.parent.addTicket(i),r++};n>r;)i();o.parent.refreshSummary(),o.parent.markBookings()})),n(this,"refresh",(function(){if(document.querySelector(".picker_select")){var t=o.state.current_zone_id,e=parseInt(o.state.hall_js.areas[t].seats.tns);if(!(e<1)){var a=o.getPassBookings(),n=o.state.ticketspbooking;if(e-a.length<n&&(n=e-a.length),parseInt(document.querySelector(".picker_select").dataset.l)!=n){document.querySelector(".picker_select").dataset.l=n;for(var r=0;r<=o.state.ticketspbooking&&r<=e;)document.querySelector('.picker_select > option[value="'+r+'"]').style.display=r>n?"none":"block",r++;parseInt(document.querySelector(".picker_select").value)>n&&(document.querySelector(".picker_select").value=n,o.update())}}}})),n(this,"getPassBookings",(function(){var t=o.state.current_zone_id;return o.state.reservations["z"+t]&&Array.isArray(o.state.reservations["z"+t])?o.state.reservations["z"+t].filter((function(t){return 5==t||t.u!=o.state.myticketUserId&&3==t.s})):[]})),this.parent=a,this.state=a.state,this.data=a.data,this.init()})),I=a((function e(a,r){var i=this;t(this,e),n(this,"seatMap",(function(){var t=i.state.hall_js,e=document.querySelector(".kp_svg");t.areas.map((function(a,n){var o=0;if(t.areas[n].seats){o=t.areas[n].seats.tws,void 0===t.areas[n].seats.height&&(t.areas[n].seats.height=100);for(var r=parseFloat(t.areas[n].seats.height)/i.state.polygon_scale/2,s=0,l=function(){t.areas[n].seats.points||(t.areas[n].seats.points=[]);var a,o,l=0,d=0,c=0,u=99999,p=99999;t.areas[n].coords.points.map((function(t){return u>t.x&&(u=t.x),p>t.y&&(p=t.y),c++,l+=t.x,d+=t.y,t})),a=l/c,o=d/c,t.areas[n].seats.points[s]&&(l=a/i.state.polygon_scale+t.areas[n].seats.points[s].x/i.state.polygon_scale,d=o/i.state.polygon_scale+t.areas[n].seats.points[s].y/i.state.polygon_scale);var m=i.structSeat(t,n,s,r,l,d);m.g.obj=i,e.append(m.g),s++};s<o;)l()}}))})),n(this,"zoneSeatMap",(function(t){document.querySelector("#"+i.data.id).insertAdjacentHTML("afterbegin",'\n        <div id="seat_mapping" class="seat_mapping_temp" >\n            <div id="top_toolbar">\n                <div id="seat_mapping_close">'.concat(m("Confirm"),'</div>\n\t\t\t\t<div id="seat_select_all" class="').concat("0"==i.data.posmode.value?"dn":"",'" data-select="').concat(u("Select all"),'" data-revert="').concat(u("Revert selection"),'">').concat(m("Select All"),'</div>\n                <div id="seat_mapping_cancel"><span class="txt">back</span><span class="times"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg></span></div>\n            </div>\n            <div id="seat_size" class="seat_head">\n                <div class="row1">\n\n                </div>\n                <div class="row2">\n                    <div class="selected_seats"></div>\n                </div>\n            </div>\n            \x3c!-- number of seat picker without reservation --\x3e\n            <div id="svg_number_cont">\n                <div id="picker_cont" >\n                    <div class="picker_cont_inner" >\n                        <h2>').concat(m("Number of tickets"),'</h2>\n                        <div>\n                            <select type="text" class="picker_select">\n\n\t\t\t\t\t\t\t</select>\n                        </div>\n                        <p>').concat(m("Note! You are selecting standing tickets without seat reservation."),'</p>\n                    </div>\n                </div>\n            </div>\n            \x3c!-- seat reservation inside zone --\x3e\n            <div id="svg_mapping_cont" style="').concat("--img:url("+i.state.hall_js.img+")",';">\n                <svg xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny" id="svg_mapping" class="noselect" style="background-image:').concat("url("+i.state.hall_js.img+")",';"> </svg>\n                <div id="variation_cont" class="variation_cont" >\n                    <div class="variation_cont_inner" >\n                        <h2>').concat(m("Ticket type"),'</h2>\n                        <div>\n                            <ul class="pvar">\n\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        '));var e=document.querySelector("#svg_mapping"),a=document.querySelector("#svg_number_cont"),n=document.querySelector("#svg_mapping_cont"),o=window.innerWidth-200,r=window.innerHeight-200,s=i.state.hall_js;o<i.state.sminwidth&&(o=i.state.sminwidth),o>i.state.smaxwidth&&(o=i.state.smaxwidth),r<600&&(r=600),i.state.seat_size=parseInt(i.data.seatsize.value),i.state.edge_offset=3*i.state.seat_size,i.state.current_zone_id=t,i.state.pending_reservations=!0;var l,d,c=parseInt(i.state.seat_size)/2,p=0,v=0,f=0;s.areas[t].coords.points.map((function(t){return f++,p+=t.x,v+=t.y,t})),l=p/f,d=v/f,s.areas[t].coords.points_rel=[],s.areas[t].coords.points.map((function(e){Math.abs(l-e.x),Math.abs(l-e.x),Math.abs(d-e.y),s.areas[t].coords.points_rel.push({x:e.x-l,y:e.y-d})})),f=0,s.areas[t].coords.points_rel.map((function(t){f++,t.x,t.y}));var y={bottom:0,top:9e7,ofst_top:0,ofst_left:0,left:9e7,right:0};s.areas[t].seats.points&&s.areas[t].seats.points.map((function(t){if(t){var e=t.x*c,a=t.y*c;y.left>e&&(y.left=e),y.right<e&&(y.right=e),y.top>a&&(y.top=a),y.bottom<a&&(y.bottom=a)}})),y.left<0&&(y.ofst_left=Math.abs(y.left),y.right+=Math.abs(y.left),y.left=0),y.top<0&&(y.ofst_top=Math.abs(y.top),y.bottom+=Math.abs(y.top),y.top=0),o=y.right-y.left+i.state.edge_offset,r=y.bottom-y.top+i.state.edge_offset,o<window.innerWidth&&(o=window.innerWidth),e.style.width=o,e.style.height=r,n.scrollTop=r/3,n.scrollLeft=o/6,e.style.backgroundSize=parseInt(s.img_width)*c+"px "+parseInt(i.state.img_height*s.img_width/i.state.img_width)*c+"px",e.style.backgroundPosition=y.ofst_left+i.state.edge_offset/2-l*c+"px "+(y.ofst_top+i.state.edge_offset/2-d*c)+"px";var g=s.areas[t].coords.points_rel.map((function(t){return t.x*c+y.ofst_left+i.state.edge_offset/2+" "+(t.y*c+y.ofst_top+i.state.edge_offset/2)})).join(" "),h=document.createElementNS("http://www.w3.org/2000/svg","g"),_=document.createElementNS("http://www.w3.org/2000/svg","polygon");_.setAttribute("points",g),_.style.opacity=parseInt(i.state.numOpacity2)/100,h.appendChild(_),e.append(h),h=document.createElementNS("http://www.w3.org/2000/svg","g"),(_=document.createElementNS("http://www.w3.org/2000/svg","polygon")).setAttribute("points","0 0 "+o+" 0 "+o+" "+r+" 0 "+r),_.style.opacity=parseInt(i.data.zonebgvisibility.value)/100,h.appendChild(_),e.append(h);var k=0,x=0,S="";if(s.areas[t].seats){S=void 0===s.areas[t].seats.bg?"":s.areas[t].seats.bg,k=s.areas[t].seats.tws,x=s.areas[t].seats.tns,S.length>0?(e.style.backgroundImage="url("+S+");",e.style.backgroundPosition="center",e.style.backgroundSize="100% auto",e.backgroundRepeat="no-repeat"):e.backgroundImage="none";for(var q=0;q<k;){var w=0,z=0;s.areas[t].seats.points||(s.areas[t].seats.points=[]),s.areas[t].seats.points[q]&&(w=s.areas[t].seats.points[q].x*c+y.ofst_left+i.state.edge_offset/2,z=s.areas[t].seats.points[q].y*c+y.ofst_top+i.state.edge_offset/2);var N=i.structSeat(s,t,q,i.state.seat_size,w,z);N.g.obj=i,e.append(N.g),q++}0==k&&x>0?(a.style.display="block",n.style.display="none"):(a.style.display="none",n.style.display="block")}document.querySelector("body").classList.remove("pvarshow"),b("#seat_mapping_close",(function(t){i.state.reloadPending&&i.state.reload(),document.querySelector(".seat_mapping_temp").remove(),i.state.current_zone_id=-1})),b("#seat_mapping_cancel",(function(t){return 0==i.state.tickets.filter((function(t){return t.zone_id==i.state.current_zone_id})).length?(document.querySelector(".seat_mapping_temp").remove(),i.state.current_zone_id=-1,void(i.state.reloadPending&&i.state.reload())):confirm(m("Cancel selections?"))?(document.querySelector(".seat_mapping_temp").remove(),i.parent.removeTicket("zone",i.state.current_zone_id),i.parent.refreshSummary(),i.state.current_zone_id=-1,void(i.state.reloadPending&&i.state.reload())):void 0})),i.showSeatsListeners(),i.parent.refreshSummary(),i.parent.syncReservations(),b(".kp-prev",(function(t){document.querySelector("#svg_mapping_cont").scrollLeft+=180})),b(".kp-prev",(function(t){document.querySelector("#svg_mapping_cont").scrollLeft-=180}))})),n(this,"showSeatsListeners",(function(){var t=i,e=i.state.hall_js,a=function(a){document.querySelector("body").classList.remove("pvarshow");var n=a.id,o=parseInt(a.z),r=a.s;if(!document.querySelector("#c"+n).classList.contains("booked"))if(document.querySelector("#c"+n).classList.contains("reserved"))t.reserveSeat(n,o,r,"","");else{e.pcfs||(e.pcfs=[]);var l,d="",c=s(e.pcfs);try{for(c.s();!(l=c.n()).done;){var u=l.value;e.areas[o].seats["pcf"+u.index]&&(d+='\t\t\t\t<li>\t\t\t\t\t<input value="'+e.areas[o].seats["pcf"+u.index]+'" data-label="'+u.label+'" type="radio" id="pvar-'+u.index+'" name="selector">\t\t\t\t\t<label for="pvar-'+u.index+'">'+u.label+" ("+w(i.state.response.event,e.areas[o].seats["pcf"+u.index])+') </label>\t\t\t\t\t<div class="check"></div>\t\t\t\t</li>')}}catch(t){c.e(t)}finally{c.f()}d?0==i.data.rendertype.value?(document.querySelector("#variation_cont ul.pvar").innerHTML=d,g("#variation_cont ul.pvar input[type=radio]",(function(e){t.reserveSeat(n,o,r,parseFloat(e.currentTarget.value),e.currentTarget.dataset.label)})),document.querySelector("#c"+n).classList.contains("reserved")?t.reserveSeat(n,o,r,"",""):document.querySelector("body").classList.add("pvarshow")):(document.querySelector("#variation_cont_zone ul.pvar").innerHTML=d,g("#variation_cont_zone ul.pvar input[type=radio]",(function(e){t.reserveSeat(n,o,r,parseFloat(e.currentTarget.value),e.currentTarget.dataset.label),document.querySelector("#variation_cont_zone").style.display="none"})),document.querySelector("#variation_cont_zone").style.display="block",b(".var_toolbar_close .times",(function(t){document.querySelector("#variation_cont_zone").style.display="none"}))):i.reserveSeat(n,o,r,"",""),i.parent.markBookings()}};"2"==i.data.posmode.value?(b(".cr",(function(t){setTimeout((function(t){i.state.dblclick||a(t)}),400,{id:t.currentTarget.getAttribute("id").substr(1),z:parseInt(t.currentTarget.dataset.zone),s:t.currentTarget.dataset.index})})),b(".tx",(function(t){setTimeout((function(t){i.state.dblclick||a(t)}),400,{id:t.currentTarget.getAttribute("id").substr(1),z:parseInt(t.currentTarget.dataset.zone),s:t.currentTarget.dataset.index})}))):(b(".cr",(function(t){a({id:t.currentTarget.getAttribute("id").substr(1),z:parseInt(t.currentTarget.dataset.zone),s:t.currentTarget.dataset.index})})),b(".tx",(function(t){a({id:t.currentTarget.getAttribute("id").substr(1),z:parseInt(t.currentTarget.dataset.zone),s:t.currentTarget.dataset.index})})));var n=function(t){i.state.dblclick=!0,setTimeout((function(t){i.state.dblclick=!1}),1e3),i.state.debug&&console.log("dbl click"),document.querySelector("body").classList.remove("pvarshow");var a=t.currentTarget.getAttribute("id").substr(1),n=parseInt(t.currentTarget.dataset.zone),o=t.currentTarget.dataset.index;if(document.querySelector("#c"+a).classList.contains("booked")){if(confirm("Cancel booking?")){document.querySelector("#c"+a).classList.remove("booked");var r={id:"s"+o,zone_id:parseInt(n),zone_text:"",path:"z"+n+"s"+o,seat_id:parseInt(o),seat_text:e.areas[n].seats.points[o].t?e.areas[n].seats.points[o].t:o,seat_row:e.areas[n].seats.points[o].r?e.areas[n].seats.points[o].r:"",price:0,cfs:e.cfs,type:"seat",render:i.data.rendertype.value};i.state.tickets_unbook.push(r),i.parent.syncReservations()}}else if(confirm("Mark as booked?")){document.querySelector("#c"+a).classList.add("booked");var s={id:"s"+o,zone_id:parseInt(n),zone_text:"",path:"z"+n+"s"+o,seat_id:parseInt(o),seat_text:e.areas[n].seats.points[o].t?e.areas[n].seats.points[o].t:o,seat_row:e.areas[n].seats.points[o].r?e.areas[n].seats.points[o].r:"",price:0,cfs:e.cfs,type:"seat",render:i.data.rendertype.value};i.state.tickets_book.push(s),i.parent.syncReservations()}};"2"==i.data.posmode.value&&o(document.querySelectorAll(".cr")).forEach((function(t){return t.addEventListener("dblclick",(function(t){return n(t)}))})),"2"==i.data.posmode.value&&o(document.querySelectorAll(".tx")).forEach((function(t){return t.addEventListener("dblclick",(function(t){return n(t)}))})),"1"!=i.data.posmode.value&&"2"!=i.data.posmode.value||b("#seat_select_all",(function(e){o(document.querySelectorAll("#svg_mapping > g > circle")).forEach((function(e){var a=e.getAttribute("id").substr(1),n=parseInt(e.dataset.zone),o=e.dataset.index;t.reserveSeat(a,n,o,"","")}))})),i.state.picker=new T(t.parent),document.querySelector("#kp_image").style.opacity=1})),n(this,"reserveSeat",(function(t,e,a,n,o){var r=i.state.hall_js;if(document.querySelector("#c"+t).classList.contains("reserved"))document.querySelector("#c"+t).classList.remove("reserved"),i.parent.removeTicket("path","z"+e+"s"+a);else{if(i.state.tickets.length>parseInt(i.state.ticketspbooking)&&"0"==i.data.posmode.value)return void alert(m("Adding more tickets is not allowed"));var s=0,l=r.areas[e].seats.title;s=i.state.price,r.areas[e].seats.price&&parseFloat(r.areas[e].seats.price.trim())>0&&(s=parseFloat(r.areas[e].seats.price.trim())),isNaN(n)||n>0&&(s=n),isNaN(r.areas[e].seats.points[a].p)||parseFloat(r.areas[e].seats.points[a].p.trim())>0&&(s=parseFloat(r.areas[e].seats.points[a].p.trim())),isNaN(s)&&(s=0);var d={id:"s"+a,zone_id:parseInt(e),zone_text:l,path:"z"+e+"s"+a,seat_id:parseInt(a),seat_text:(r.areas[e].seats.points[a].t?r.areas[e].seats.points[a].t:a)+(o?" / "+o:""),seat_row:r.areas[e].seats.points[a].r?r.areas[e].seats.points[a].r:"",price:s,cfs:r.cfs,type:"seat",render:i.data.rendertype.value};Object.keys(r.areas[e].seats).map((function(t,a){i.state.exclude.includes(t)||(d[t]=r.areas[e].seats[t])})),i.parent.addTicket(d),document.querySelector("body").classList.remove("pvarshow")}i.parent.refreshSummary()})),n(this,"structSeat",(function(t,e,a,n,o,r){var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","dc"+a),s.setAttribute("data-index",a);var l=document.createElementNS("http://www.w3.org/2000/svg",i.data.seatshape.value);switch(l.setAttribute("id","c"+a+"z"+e),l.setAttribute("class","cr"),l.setAttribute("data-index",a),l.setAttribute("data-zone",e),l.setAttribute("style","opacity:"+i.state.numOpacity/100+";"),i.data.seatshape.value){case"circle":l.setAttribute("r",n/2),l.setAttribute("cx",o),l.setAttribute("cy",r);break;case"rect":l.setAttribute("width",n),l.setAttribute("height",n),l.setAttribute("x",o-n/2),l.setAttribute("y",r-n/2)}var d=document.createElementNS("http://www.w3.org/2000/svg","text");return d.setAttribute("id","t"+a+"z"+e),d.setAttribute("dy",".3em"),d.setAttribute("stroke-width","0px"),d.setAttribute("text-anchor","middle"),d.setAttribute("stroke","#000"),1==i.state.hideNumbers?d.setAttribute("class","tx dn"):d.setAttribute("class","tx"),d.setAttribute("data-index",a),d.setAttribute("data-zone",e),d.setAttribute("style","font-size:"+i.data.numbersize.value+"px"),d.setAttribute("x",o),d.setAttribute("y",r),d.setAttribute("data-toggle","popover"),d.setAttribute("title","Seat Settings"),d.setAttribute("data-content","test"),d.innerHTML=a+1,void 0!==t.areas[e].seats.points[a]&&t.areas[e].seats.points[a]&&t.areas[e].seats.points[a].t&&(d.innerHTML=t.areas[e].seats.points[a].t),s.appendChild(l),s.appendChild(d),{g:s,circle:l,text:d}})),this.parent=a,this.state=a.state,this.data=a.data,this.z=r,r>-1&&this.zoneSeatMap(r)})),A=a((function e(a){var r=this;t(this,e),n(this,"zoneMap",(function(){var t=r.state.hall_js,e=document.querySelector(".kp_svg"),a=0;t.areas.map((function(n,o){var i=document.createElementNS("http://www.w3.org/2000/svg","g"),s=document.createElementNS("http://www.w3.org/2000/svg","polygon");s.setAttribute("points",n.coords.points.map((function(t){return t.x/r.state.polygon_scale+" "+t.y/r.state.polygon_scale}))),s.setAttribute("data-index",a),s.setAttribute("id","pl"+a),i.appendChild(s),e.append(i),a++;var l=0,d=0;if(t.areas[o].seats){l=parseInt(t.areas[o].seats.tns),d=parseInt(t.areas[o].seats.tws),void 0===t.areas[o].passes&&(t.areas[o].passes=[]);for(var c=0;c<l;)t.areas[o].passes.push({id:"p"+parseInt(c+d)+"z"+o,uid:"",class:""}),c++}return document.querySelector("#kp_image").style.opacity="1",n}));var n=function(e){var a=e.z;if(e.booked)r.state.current_zone_id=-1;else{if(!t.areas[a])return;t.areas[a].seats?0==t.areas[a].seats.tws&&1==t.areas[a].seats.tns?r.reserveZoneIntent(a):r.state.seats=new I(r.parent,a):r.reserveZoneIntent(a)}};"2"==r.data.posmode.value?(console.log("click delayed"),b("polygon",(function(t){var e=t.currentTarget.dataset.index;r.state.current_zone_id=e;var a=t.currentTarget.classList.contains("booked");setTimeout((function(t){r.state.dblclick||n(t)}),400,{z:e,booked:a})})),o(document.querySelectorAll("polygon")).forEach((function(e){return e.addEventListener("dblclick",(function(e){return function(e){r.state.dblclick=!0,setTimeout((function(t){r.state.dblclick=!1}),1e3),r.state.debug&&console.log("dbl click");var a=parseInt(e.currentTarget.dataset.index);if(document.querySelector("#pl"+a).classList.contains("booked")){if(confirm("Cancel booking?")){document.querySelector("#pl"+a).classList.remove("booked");var n={id:"z"+a,zone_id:parseInt(a),title:t.areas[a].seats.title,price:0,cfs:t.cfs,path:"z"+a,type:"zone",render:r.data.rendertype.value,admin:0};r.state.tickets_unbook.push(n),r.parent.syncReservations()}}else if(confirm("Mark as booked?")){document.querySelector("#pl"+a).classList.add("booked");var o={id:"z"+a,zone_id:parseInt(a),title:t.areas[a].seats.title,price:0,cfs:t.cfs,path:"z"+a,type:"zone",render:r.data.rendertype.value,admin:1};r.state.tickets_book.push(o),r.parent.syncReservations()}r.state.current_zone_id=-1}(e)}))}))):b("polygon",(function(t){var e=t.currentTarget.dataset.index;r.state.current_zone_id=e;var a=t.currentTarget.classList.contains("booked");setTimeout((function(t){r.state.dblclick||n(t)}),0,{z:e,booked:a})}))})),n(this,"reserveZoneIntent",(function(t){var e=r.state.hall_js;if(1!=r.state.tickets.filter((function(e){return e.zone_id==t})).length)if(r.state.tickets.length>=r.state.ticketspbooking&&"0"==r.data.posmode.value)alert(m("Adding more tickets is not allowed"));else{e.pcfs||(e.pcfs=[]);var a,n="",o=s(e.pcfs);try{for(o.s();!(a=o.n()).done;){var i=a.value;e.areas[t].seats["pcf"+i.index]&&(n+='            <li>                <input value="'+e.areas[t].seats["pcf"+i.index]+'" data-label="'+i.label+'" type="radio" id="pvar-'+i.index+'" name="selector">                <label for="pvar-'+i.index+'">'+i.label+" ("+w(r.state.response.event,e.areas[t].seats["pcf"+i.index])+') </label>                <div class="check"></div>            </li>')}}catch(t){o.e(t)}finally{o.f()}n?(document.querySelector("#variation_cont_zone ul.pvar").innerHTML=n,g("#variation_cont_zone ul.pvar input[type=radio]",(function(t){document.querySelector("#variation_cont_zone").style.display="none"})),document.querySelector("#variation_cont_zone").style.display="block",b(".var_toolbar_close .times",(function(t){document.querySelector("#variation_cont_zone").style.display="none"}))):r.reserveZone(t)}else r.reserveZone(t)})),n(this,"reserveZone",(function(t){var e=r.state.hall_js;if(1==r.state.tickets.filter((function(e){return e.zone_id==t})).length)r.parent.removeTicket("zone",t),document.querySelector("#pl"+t).classList.remove("selected");else{if(r.state.tickets.length>=r.state.ticketspbooking&&"0"==r.data.posmode.value)return alert(m("Adding more tickets is not allowed")),void(r.state.current_zone_id=-1);e.areas[t].seats||(e.areas[t].seats={title:m("Zone %1$",t),tws:0,tns:1,price:r.state.price});var a=parseFloat(e.areas[t].seats.price?e.areas[t].seats.price:r.state.price);isNaN(a)&&(a=0);var n={id:"z"+t,zone_id:parseInt(t),title:e.areas[t].seats.title,price:a,cfs:e.cfs,path:"z"+t,type:"zone",render:r.data.rendertype.value};Object.keys(e.areas[t].seats).map((function(a,o){r.state.exclude.includes(a)||(n[a]=e.areas[t].seats[a])})),r.parent.addTicket(n),document.querySelector("#pl"+t).classList.add("selected")}r.parent.refreshSummary(),r.state.current_zone_id=-1})),this.parent=a,this.state=a.state,this.data=a.data})),M=a((function e(a,r){var i=this;t(this,e),n(this,"init",(function(){var t=document.querySelector("#myticket_img");t.style.position="absolute";var e=t.width,a=t.height;switch(document.querySelector("#kp_image").style.width=e,document.querySelector("#svg").style.width=e,document.querySelector("#svg").style.height=a,i.state.polygon_scale=i.state.hall_js.img_width/parseInt(e),i.state.myticketCalls=setInterval(i.syncReservations,5e3,!0),i.data.rendertype.value){case"seat":i.state.seats=new I(i,-1),i.state.seats.seatMap();break;case"zone":i.state.zones=new A(i),i.state.zones.zoneMap()}i.refreshSummary(),i.syncReservations()})),n(this,"refreshSummary",(function(){sessionStorage.setItem("tickets_"+i.state.response.event._id+"_"+sessionStorage.getItem("date_select"),JSON.stringify(i.state.tickets)),document.querySelector(".selected_seats")&&(document.querySelector(".selected_seats").innerHTML=""),i.state.summary_table||(i.state.summary_table=document.querySelector(".kp-ticket-row").innerHTML);var t=i.state.hall_js,e=i.state.current_zone_id,a="",n={total:0},o=i.state.tickets.map((function(o){var r,s,l=o.seat_id+"z"+o.zone_id,d={};switch(t.areas[o.zone_id]&&t.areas[o.zone_id].seats&&Object.keys(t.areas[o.zone_id].seats).map((function(e,a){i.state.exclude.includes(e)||(d["{{ticket_"+e+"}}"]=t.areas[o.zone_id].seats[e])})),o.type){case"seat":if(!t.areas[o.zone_id])return;if(!t.areas[o.zone_id].seats)return;for(var c in s='<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class="details">\n\t\t\t\t\t\t\t\t'.concat(o.seat_text?"<div>"+m("Seat %1$",o.seat_text)+"</div>":"","\n\t\t\t\t\t\t\t\t").concat(o.seat_row?"<div>"+m("Row %1$",o.seat_row)+"</div>":"","\n\t\t\t\t\t\t\t\t").concat(o.zone_text?"<div>"+m("Zone %1$",o.zone_text)+"</div>":"","\n\t\t\t\t\t\t\t\t").concat(o.cfs.map((function(t){return o[t.id]?"<div>"+m(t.label+" %1$",o[t.id])+"</div>":""})).join(""),"\n\t\t\t\t\t\t\t\t").concat(-1==o.cfs.length?"<div>"+m("Zone %1$",o.zone_text)+"</div>":"","\n\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td> \n\t\t\t\t\t\t<td></td>                                                                                  \n\t\t\t\t\t\t<td>").concat(w(i.state.response.event,o.price)," <span>").concat(m("per ticket"),'</span></td>\n\t\t\t\t\t\t<td data-id="').concat(o.id+"z"+o.zone_id,'"  data-path="').concat(o.path,'" class="kp-rem-seat"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></td>\n\t\t\t\t\t</tr>'),r=Object.assign(d,{"{{seat_text}}":o.seat,"{{zone_title}}":t.areas[o.zone_id].seats.title,"{{seat_row}}":o.row,"{{ticket_price}}":w(i.state.response.event,o.price),"{{ticket_id}}":l,"{{ticket_zone_id}}":o.zone_id}))s=s.replaceAll(c,r[c]);if(a+=s,document.querySelector("#c"+l)&&document.querySelector("#c"+l).classList.add("reserved"),n.total+=o.price,o.price&&e==o.zone_id)return o.seat_text+" "+w(i.state.response.event,o.price)+" &nbsp;&nbsp;";if(e==o.zone_id)return o.seat_text;break;case"zone":if(!t.areas[o.zone_id])return;for(var u in t.areas[o.zone_id].seats||(t.areas[o.zone_id].seats={title:m("Zone %1$",o.zone_id),tws:0,tns:1,price:i.state.price}),s='<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class="details">\n\t\t\t\t\t\t\t\t'.concat(o.cfs.map((function(t){return"<div>"+m(t.label+" %1$",o[t.id])+"</div>"})).join(""),"\n\t\t\t\t\t\t\t\t").concat(0==o.cfs.length?"<div>"+m("Zone %1$",o.zone_id)+"</div>":"","\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td></td>                                                                                  \n\t\t\t\t\t\t<td>").concat(w(i.state.response.event,o.price)," <span>").concat(m("per ticket"),'</span></td>\n\t\t\t\t\t\t<td data-zone="').concat(o.zone_id,'" data-id="').concat(o.id+"z"+o.zone_id,'" data-path="').concat(o.path,'"  class="kp-rem-seat"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></td>\n\t\t\t\t\t</tr>'),r=Object.assign(d,{"{{ticket_zone_title}}":t.areas[o.zone_id].seats.title,"{{ticket_row}}":"-","{{ticket_price}}":w(i.state.response.event,o.price),"{{ticket_id}}":l,"{{ticket_zone_id}}":o.zone_id}))s=s.replaceAll(u,r[u]);if(a+=s,document.querySelector("#pl"+o.zone_id).classList.add("selected"),n.total+=o.price,o.price.length>0&&e==o.zone_id)return o.zone_text+" "+w(i.state.response.event,o.price)+" &nbsp;&nbsp;";if(e==o.zone_id)return o.zone_text;break;case"pass":if(!t.areas[o.zone_id])return;for(var p in s='<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class="details">\n\t\t\t\t\t\t\t\t'.concat("<div>"+m("Ticket #%1$ to %2$",o.pass_text,o.zone_text)+"</div>","\n\t\t\t\t\t\t\t\t").concat(o.cfs.map((function(t){return"<div>"+m(t.label+" %1$",o[t.id])+"</div>"})).join(""),"\n\t\t\t\t\t\t\t\t").concat(0==o.cfs.length?"<div>"+m("Zone %1$",o.zone_id)+"</div>":"","\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td></td>                                                                                  \n\t\t\t\t\t\t<td>").concat(w(i.state.response.event,o.price)," <span>").concat(m("per ticket"),'</span></td>\n\t\t\t\t\t\t<td data-zone="').concat(o.zone_id,'" data-id="').concat(o.id+"z"+o.zone_id,'" data-path="').concat(o.path,'"  class="kp-rem-seat"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></td>\n\t\t\t\t\t</tr>'),r=Object.assign(d,{"{{ticket_zone_title}}":t.areas[o.zone_id].seats.title,"{{ticket_row}}":"-","{{ticket_price}}":w(i.state.response.event,o.price),"{{ticket_id}}":l,"{{ticket_zone_id}}":o.zone_id}))s=s.replaceAll(p,r[p]);if(a+=s,void 0===t.areas[o.zone_id].passes&&(t.areas[o.zone_id].passes=[],t.areas[o.zone_id].passes.push({id:"p1z"+o.zone_id,uid:"",class:""})),n.total+=o.price,o.price.length>0&&e==o.zone_id)return o.pass_number+" "+o.zone_text+" "+w(i.state.response.event,o.price)+" &nbsp;&nbsp;";if(e==o.zone_id)return m("Ticket #%1$ to %2$",o.pass_text,o.zone_text)}})).join(" ");""==a?(document.querySelector(".kp-btn-reserve").style.display="none",document.querySelector(".kp-table").style.display="none"):(document.querySelector(".kp-btn-reserve").dataset.price=n.total,document.querySelector(".kp-btn-reserve").innerHTML=p(document.querySelector(".kp-btn-reserve").dataset.text)+" <span>("+w(i.state.response.event,n.total)+")</span>",document.querySelector(".kp-btn-reserve").style.display="block",document.querySelector(".kp-table").style.display="block"),void 0!==t.areas[e]&&document.querySelector(".seat_head .row1")&&t.areas[e].seats.title&&(document.querySelector(".seat_head .row1").innerHTML="<b>"+t.areas[e].seats.title+"</b>"),document.querySelector(".selected_seats")&&(document.querySelector(".selected_seats").innerHTML=o),document.querySelector(".sel_texts")&&(document.querySelector(".sel_texts").style.display=""==o?"none":"block"),document.querySelector(".kp-ticket-row").innerHTML=a,document.querySelector(".kp-ticket-row").style.display="block",b(".kp-rem-seat",(function(t){var e=t.currentTarget.dataset.path,a=t.currentTarget.dataset.id;confirm(m("Remove?"))&&(document.querySelector("#c"+a)&&document.querySelector("#c"+a).classList.remove("reserved"),i.removeTicket("path",e),i.refreshSummary())}))})),n(this,"markBookings",(function(){var t=i.state.hall_js,e=i.state.current_zone_id;if(i.state.reservations)switch(i.data.rendertype.value){case"seat":o(document.querySelectorAll(".cr")).forEach((function(t){return t.classList.remove("booked")})),t.areas.map((function(e,a){var n=0;if(t.areas[a].seats){n=t.areas[a].seats.tws;for(var o=0;o<n;){if(i.state.reservations["s"+o]&&(5==i.state.reservations["s"+o][0].s||i.state.reservations["s"+o][0].u!=i.state.myticketUserId&&3==i.state.reservations["s"+o][0].s)){var r=o+"z"+a;document.querySelector("#c"+r).classList.add("booked"),document.querySelector("#t"+r).classList.add("booked"),i.removeTicket("path","z"+a+"s"+o)}o++}}}));break;case"zone":if("zone-stats"==i.state.reservations_mode)for(var a=function(e){var a,n;if(!t.areas[e].seats)return"continue";a=t.areas[e].seats.tws?parseInt(t.areas[e].seats.tws):0,n=t.areas[e].seats.tns?parseInt(t.areas[e].seats.tns):0;var o=i.state.tickets.filter((function(t){return t.zone_id==e}));if(document.querySelector("#pl"+e)&&document.querySelector("#pl"+e).classList.remove("booked"),document.querySelector("#pl"+e)&&document.querySelector("#pl"+e).classList.remove("selected"),o.length==a+n&&document.querySelector("#pl"+e)&&document.querySelector("#pl"+e).classList.add("selected"),!i.state.reservations["z"+e])return"continue";1==n&&0==a&&(i.state.reservations["z"+e].rc==n&&!i.state.reservations["z"+e].u.includes(i.state.myticketUserId)||i.state.reservations["z"+e].bc==n)&&document.querySelector("#pl"+e)&&document.querySelector("#pl"+e).classList.add("booked"),n>1&&0==a&&(i.state.reservations["z"+e].rc==n&&!i.state.reservations["z"+e].u.includes(i.state.myticketUserId)||i.state.reservations["z"+e].bc==n)&&document.querySelector("#pl"+e)&&document.querySelector("#pl"+e).classList.add("booked"),i.state.reservations["z"+e].booked&&1==i.state.reservations["z"+e].booked&&document.querySelector("#pl"+e)&&document.querySelector("#pl"+e).classList.add("booked")},n=0;n<t.areas.length;n++)a(n);if("zone-single"==i.state.reservations_mode){o(document.querySelectorAll(".cr")).forEach((function(t){return t.classList.remove("booked")}));var r,s;if(!t.areas[e])break;r=t.areas[e].seats.tws,s=t.areas[e].seats.tns;for(var l=0;l<r;){var d=!1;i.state.reservations["z"+e+"s"+l]&&i.state.debug&&console.log(i.state.reservations["z"+e+"s"+l]),i.state.reservations["z"+e+"s"+l]&&(5==i.state.reservations["z"+e+"s"+l].s||i.state.reservations["z"+e+"s"+l].u!=i.state.myticketUserId&&3==i.state.reservations["z"+e+"s"+l].s)&&(document.querySelector("#c"+l+"z"+e).classList.add("booked"),document.querySelector("#t"+l+"z"+e).classList.add("booked"),i.state.tickets.filter((function(t){return t.path=="z"+e+"s"+l}))&&(d=!0),i.removeTicket("path","z"+e+"s"+l),d&&i.refreshSummary()),l++}s>1&&0==r&&i.state.picker&&i.state.picker.refresh()}}})),n(this,"addTicket",(function(t){i.state.debug&&console.log(t),i.state.tickets.push(t),i.state.tickets_release=i.state.tickets_release.filter((function(e){return!(e.path==t.path)})),i.syncReservations()})),n(this,"removeTicket",(function(t,e){switch(t){case"zone":i.state.tickets_release=[].concat(o(i.state.tickets_release),o(i.state.tickets.filter((function(t){return t.zone_id==e})))),i.state.tickets=i.state.tickets.filter((function(t){return!(t.zone_id==e)}));break;case"path":i.state.tickets_release=[].concat(o(i.state.tickets_release),o(i.state.tickets.filter((function(t){return t.path==e})))),i.state.tickets=i.state.tickets.filter((function(t){return!(t.path==e)}))}i.syncReservations()})),n(this,"syncReservations",(function(){var t=i;if(!((new Date).getTime()-t.state.pending_reservation_timeout<1e3)){t.state.pending_reservation_timeout=(new Date).getTime();var e={type:"sync-reservations",event_id:t.state.response.event._id,package_id:sessionStorage.getItem("date_select"),user_id:sessionStorage.getItem("myticket_user_id"),zone_id:t.state.current_zone_id,render_type:t.data.rendertype.value};return t.state.tickets_book.length||t.state.tickets_unbook.length?(e.tickets_book=t.state.tickets_book,e.tickets_unbook=t.state.tickets_unbook):(e.tickets_reserve=t.state.tickets_reserve,e.tickets_release=t.state.tickets_release),fetch(i.getAPI(),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Kenzap-Locale":f("locale")?f("locale"):"en","Kenzap-Sid":t.data.sid},body:JSON.stringify({query:{bookings:e}})}).then((function(t){return t.json()})).then((function(e){t.state.pending_reservations=!1,t.state.tickets_book.length||t.state.tickets_unbook.length?(t.state.tickets_book=[],t.state.tickets_unbook=[]):t.state.tickets_release=[],e.success?(t.state.reservations=e.bookings.data,t.state.reservations_mode=e.bookings.mode,t.markBookings()):y(e),i.state.pending_reservations=!1})).catch((function(t){console.error("Error:",t)})),!1}})),n(this,"getAPI",(function(){return 0==window.location.host.indexOf("localhost")?"https://api.myticket-dev.app.kenzap.cloud/":"https://api.myticket.app.kenzap.cloud/"})),this.state=r,this.data=a,this.init()})),C=a((function e(a){var o=this;t(this,e),n(this,"html",(function(){document.querySelector("#content").insertAdjacentHTML("beforeend",'\n        <section id="'.concat(c(o.data.id),'" class="k2ZAuN ').concat(o.data.c.classes?c(o.data.c.classes):"",'" style="\n\t\t\t\t').concat(o.data.c.section,";\n\t\t\t\t").concat(o.data.borderstyle.value?"--borderStyle:"+o.data.borderstyle.value+"px;":""," \n\t\t\t\t").concat("--stc:"+o.data.stc.value,";\n\t\t\t\t").concat("--avc:"+o.data.avc.value,";\n\t\t\t\t").concat("--avc2:"+z(o.data.avc.value,parseInt(o.data.colorintensity.value)/100),";\n\t\t\t\t").concat("--soc:"+o.data.soc.value,";\n\t\t\t\t").concat("--soc2:"+z(o.data.soc.value,parseInt(o.data.colorintensity.value)/100),";\n\t\t\t\t").concat("--sec:"+o.data.sec.value,";\n\t\t\t\t").concat("--sec2:"+z(o.data.sec.value,parseInt(o.data.colorintensity.value)/100),';\n\t\t\t\t">\n            <div class="container" style="').concat(o.data.c.container,'">\n  \n\n            </div>\n        </section>\n        '))})),n(this,"load",(function(){var t=o;fetch(o.getAPI(),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json","Kenzap-Locale":x("locale")?x("locale"):"en","Kenzap-Sid":t.data.sid},body:JSON.stringify({query:{locale:{type:"locale",id:x("lang")},event:{type:"view-event",id:S("id")}}})}).then((function(t){return t.json()})).then((function(t){if(console.log(t),t.success)o.state.debug&&console.log(t),o.state.response=t,o.loadLayout(),o.state.firstLoad=!1;else{if(400==t.code)return void(document.querySelector("#"+o.data.id+" .container").innerHTML=p("Please provide valid event id to load this page."));y(t)}})).catch((function(t){console.error("Error:",t)}))})),n(this,"loadLayout",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=o,a="";sessionStorage.setItem("myticket_user_id",o.state.myticketUserId),t=t||sessionStorage.getItem("date_select"),o.state.response.event.variations.forEach((function(e,n){"true"!=e.layout||a||(o.state.price=parseFloat(e.price),a=e.layoutid,sessionStorage.setItem("date_select",e.id)),"true"!=e.layout||e.id!=t||"soldout"!=e.type&&"visible"!=e.type||(o.state.price=parseFloat(e.price),a=e.layoutid,sessionStorage.setItem("date_select",e.id))})),""!=a?fetch(h+"/S"+e.data.sid+"/layout-"+a+".json?"+(new Date).getTime()).then((function(t){return t.blob()})).then((function(t){return t.text()})).then((function(t){e.state.hall_js=JSON.parse(t),e.render()})).catch((function(t){console.log(t)})):document.querySelector("#"+o.data.id+" .container").innerHTML=m("Please link your layout with the event to load this page. %1$Learn more%2$.",'<a target="_blank" href="https://kenzap.com/post/create-seating-chart-for-a-stadium-with-seat-numbers-and-sell-tickets-kenzap-myticket-197659#link-layout">',"</a>")})),n(this,"render",(function(){var t=o,e=o.state.response.event;document.title=o.state.response.event.title;try{o.state.tickets=JSON.parse(sessionStorage.getItem("tickets_"+e._id+"_"+sessionStorage.getItem("date_select")))}catch(t){}Array.isArray(o.state.tickets)||(o.state.tickets=[]),document.querySelector("#"+o.data.id+" .container").innerHTML='\n\t\t\t\t<div class="kenzap-hall-layout">\n\t\t\t\t\t<div class="stage-name">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<select type="text" class="date_select">\n                '.concat(e.variations.map((function(t,e){return"true"==t.layout?"<option ".concat(t.id==sessionStorage.getItem("date_select")?"selected":"",' value="').concat(t.id,'">').concat(p(t.title),"</option>"):""})).join(""),"\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b>").concat(p(e.title),'</b><br>\n\t\t\t\t\t\t\t<span><a target="_blank" href="https://maps.google.com/?q=').concat(encodeURIComponent(e.eventlocation),'">').concat(p(e.eventlocation),"</a></span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\n          ").concat("above"==o.data.notelocation.value?'<p class="seat-info">'.concat(m(o.data.note.value),"</p>"):"",'\n\n\t\t\t\t\t<div id="kp_wrapper" class="kp_wrapper">\n\t\t\t\t\t\t<div id="kp_image" style="opacity:0.2; display: block; max-width:').concat(o.state.dwidth,"px;min-width:").concat(o.state.mwidth,'px;" class="kp_image">\n\t\t\t\t\t\t\t<img src="').concat(o.state.hall_js.img,'" alt="#" id="myticket_img" usemap="#map">\n\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" version="1.2" baseProfile="tiny" id="svg" class="kp_svg noselect" style="display: block;">\n\t\t\t\t\t\t\t\t<g data-id="fTbTcx" data-title="" data-tws="0" data-tns="0" data-height="100">\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<map name="map"></map>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="variation_cont_zone" class="variation_cont" >\n\t\t\t\t\t\t<div class="var_toolbar">\n\t\t\t\t\t\t\t<div class="var_toolbar_close"><span class="times"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></span></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="variation_cont_inner" >\n\t\t\t\t\t\t\t<h3>').concat(m("Ticket type"),'</h3>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ul class="pvar">\n\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="seat-label">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>').concat(m("Available"),"</li>\n\t\t\t\t\t\t\t<li>").concat(m("Sold Out"),"</li>\n\t\t\t\t\t\t\t<li>").concat(m("Selected"),"</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t").concat("bottom"==o.data.notelocation.value?'<p class="seat-info">'.concat(m(o.data.note.value),"</p>"):"",' \n\n\t\t\t\t\t<div class="ticket-price">\n\t\t\t\t\t\t<table class="kp-table">\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th>').concat(m("Ticket"),"</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th></th>                                                   \x3c!-- column hidden for mobile screens --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t<th>").concat(m("Price"),'</th>                                                 \x3c!-- column hidden for mobile screens --\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t<th>&nbsp;</th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody class="kp-ticket-row">\n\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\n\t\t\t\t\t<div class="kp-continue-cont">\n\t\t\t\t\t\t<a class="kp-btn-reserve btn-checkout ').concat(c(o.data.checkoutbtn.value),'" data-src="#checkout-box" href="javascript:;" data-text="').concat(c("Continue"),'">').concat(m("Continue"),'</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n        <div id="checkout-box" class="kbox saved-list" >\n          <form action="#">\n            <div class="popup-data">\n                <div class="header">\n                    <h2>').concat(m("Checkout"),'</h2>\n                </div>\n                <div class="content-area">\n                    <div class="content">\n                        \n                    </div>\n                </div>\n            </div>\n            </form>\n            <button data-kbox-close="" class="kbox-close-small">×</button>\n        </div>\n      ');var a=new Image;a.onload=function(){t.state.img_width=a.width,t.state.img_height=a.height,t.state.layout=new M(t.data,t.state),o.state.checkout=new L(o.state,o.data.id,t.data.sid)},a.src=o.state.hall_js.img,o.listeners()})),n(this,"listeners",(function(){var t=o,e=document;g(".date_select",(function(a){a.preventDefault();var n=function(){document.querySelector("#kp_wrapper").style.opacity=.5,document.querySelector(".kp_svg").innerHTML="",sessionStorage.setItem("date_select",a.currentTarget.value),t.state.tickets=[],t.loadLayout(a.currentTarget.value)};if(t.state.tickets.length>0){if(!confirm(m("Switch and clear selected tickets?")))return e.querySelector(".date_select").value=sessionStorage.getItem("date_select"),!1;n()}else n()})),t.state.reload=function(){o.state.resizing&&clearTimeout(o.state.resizing),document.querySelector("#myticket_img").style.opacity="0",document.querySelector(".kp_svg").style.opacity="0",o.state.resizing=setTimeout((function(){t.state.innerWidthPrev=window.innerWidth,t.loadLayout(document.querySelector(".date_select").value),t.state.reloadPending=!1}),250)},window.addEventListener("resize",(function(e){if(!(Math.abs(t.state.innerWidthPrev-window.innerWidth)<100))return document.querySelector("#seat_mapping")?(console.log("skip reload"),void(t.state.reloadPending=!0)):void t.state.reload()}))})),n(this,"btnWishlistRef",(function(t){var e=document,a="o"+o.state.response.event._id,n=x("favorites");t?n.includes(a)?n.includes(a)&&(n=n.replace(a+"|",""),k("favorites",n,100),t=!1):(k("favorites",n+=a+"|",100),t=!0):t=n.includes(a),e.querySelector(".btn-wish").innerHTML=t?'<i class="fa fa-heart"></i>'+e.querySelector(".btn-wish").dataset.rem_wishlist:'<i class="fa fa-heart-o"></i>'+e.querySelector(".btn-wish").dataset.add_wishlist})),n(this,"doCheckout",(function(t){t.preventDefault()})),n(this,"cache",(function(){localStorage.setItem(o.id,JSON.stringify(o.state))})),n(this,"dependencies",(function(){})),n(this,"getAPI",(function(){return 0==window.location.host.indexOf("localhost")?"https://api.myticket-dev.app.kenzap.cloud/":"https://api.myticket.app.kenzap.cloud/"})),this.state=n({firstLoad:!0,html:"",data:{},dpi:0,ajaxQueue:0,limit:25,responseKey:[],modal:null,modalCont:null,editor:{},debug:!!S("test"),khl:".kenzap-hall-layout",hall_js:"",tickets:[],tickets_release:[],tickets_reserve:[],tickets_book:[],tickets_unbook:[],myticketUserId:sessionStorage.getItem("myticket_user_id")?sessionStorage.getItem("myticket_user_id"):q(),current_zone_id:-1,myticketCalls:"",pending_reservation_timeout:0,exclude:["coords","attributes","points","price","bg","tns","tws","title","height"],summary_table:"",pending_reservations:!0,reservations:[],reservations_zones:[],bi_prev:0,price:0,innerWidthPrev:0,hidenumbers:!1,dwidth:1200,mwidth:Math.round(12e3/parseInt(a.responsiveness.value)),smaxwidth:1200,sminwidth:1200,ticketspbooking:parseInt(a.ticketspbooking.value),numOpacity:100,numOpacity2:50},"hall_js",null),this.data=a,this.html(),this.load()}));window.k2ZAuN=C}();
